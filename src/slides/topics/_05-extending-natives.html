<section>
  <section>
    <h3>Extending Different <mark>Native Elements</mark></h3>
    <p>Choose the right base element for your needs</p>
  </section>
  <section>
    <h4>Extending <mark>Buttons</mark></h4>
    <pre>
      <code class="hljs javascript" data-trim data-line-numbers>
class IconButton extends HTMLButtonElement {
  connectedCallback() {
    const icon = this.getAttribute('icon');
    
    this.innerHTML = `
      &lt;span class="icon"&gt;${icon}&lt;/span&gt;
      ${this.textContent}
    `;
  }
}

customElements.define('icon-button', IconButton, { extends: 'button' });
      </code>
    </pre>
    <pre>
      <code class="hljs html" data-trim data-line-numbers>
&lt;button is="icon-button" icon="ðŸš€"&gt;Launch&lt;/button&gt;
&lt;button is="icon-button" icon="âœ¨"&gt;Shine&lt;/button&gt;
      </code>
    </pre>
    <div class="demo-button fragment">
      <style>
        .demo-button {
          display: flex;
          gap: 0.5rem;
          place-content: center;
          place-items: center;

          margin: 3rem auto;

          button[is='icon-button'] {
            display: inline-flex;
            align-items: center;
            padding: 1rem 2rem;
            font-size: 3rem;
            gap: 0.4rem;
          }
          button[is='icon-button'] .icon {
            display: inline-block;
            width: 1em;
            text-align: center;
          }
        }
      </style>
      <button is="icon-button" icon="ðŸš€">Launch</button>
      <button is="icon-button" icon="âœ¨">Shine</button>
    </div>
    <!-- Component definition is loaded globally from src/scripts/components/icon-button.js -->
    <small class="fragment">âœ… Inherits: click events, form submission, keyboard support, disabled state</small>
  </section>
  <section>
    <h4>Extending <mark>Inputs</mark></h4>
    <pre>
      <code class="hljs javascript" data-trim data-line-numbers>
class DateInput extends HTMLInputElement {
  connectedCallback() {
    this.type = 'date';
    this.setAttribute('aria-label', 'Select date');
    
    this.addEventListener('change', () => {
      console.log('Date selected:', this.value);
    });
  }
}

customElements.define('date-input', DateInput, {
  extends: 'input'
});

const input = document.querySelector('input[is="date-input"]');
const output = document.querySelector('output#date-demo-out');

input.addEventListener('change', () => {
  output.textContent = input.value ? `Selected: ${input.value}` : '';
});

      </code>
    </pre>
    <div class="demo-input fragment">
      <style>
        .demo-input {
          display: flex;
          flex-flow: column nowrap;
          place-content: center;
          place-items: center;
          gap: 0.75rem;

          input[is='date-input'] {
            margin-top: 1rem;
            padding: 0.5rem 1.5rem;
            font-size: 2.5rem;
          }
        }
      </style>
      <input is="date-input" aria-describedby="date-demo-out" />
      <small>
        <output id="date-demo-out" aria-live="polite">No date selected yet!</output>
      </small>
    </div>
    <small class="fragment">âœ… Inherits: form integration, validation, value property, focus management</small>
    <script>
      const input = document.querySelector('input[is="date-input"]');
      const output = document.querySelector('output#date-demo-out');

      input.addEventListener('change', () => {
        output.textContent = input.value ? `Selected: ${input.value}` : '';
      });
    </script>
  </section>
  <section>
    <h4>Extending Semantic <mark>Elements</mark></h4>
    <pre>
      <code class="hljs javascript" data-trim data-line-numbers>
class CollapsiblePanel extends HTMLDetailsElement {
  connectedCallback() {
    this.setAttribute('role', 'region');
    const header = this.querySelector('[slot="header"]');
    
    header?.addEventListener('click', () => {
      this.classList.toggle('collapsed');
      const expanded = !this.classList.contains('collapsed');
      this.setAttribute('aria-expanded', String(expanded));
    });
  }
}

customElements.define('collapsible-panel', CollapsiblePanel, {
  extends: 'details'
});
      </code>
    </pre>
    <div class="demo-details" style="margin-top: 0.75rem">
      <style>
        .demo-details {
          details {
            display: flex;
            flex-flow: column nowrap;
            text-align: left;
            inline-size: 100%;
            border: 1px solid #cdcdcd;
            border-radius: 6px;
            padding: 0.5rem 0.75rem;
          }
          details > summary {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            user-select: none;
            list-style: none;
          }
          /* Hide default marker for a cleaner look */
          details > summary::-webkit-details-marker {
            display: block;
          }
          details > summary::marker {
            content: '';
          }
        }
      </style>
      <details is="collapsible-panel" open>
        <summary><small>Toggle</small></summary>
        <small style="margin: 0.5rem 0 0">This content is shown or hidden when you press Toggle.</small>
      </details>
    </div>
    <!-- This demo uses native <details> and <summary> for accessibility and zero JS -->
  </section>
  <section>
    <h4>Extending <mark>Links</mark></h4>
    <pre>
      <code class="hljs javascript" data-trim data-line-numbers>
class SafeLink extends HTMLAnchorElement {
  connectedCallback() {
    if (this.target === '_blank') {
      const rel = new Set((this.getAttribute('rel') || '').split(/\s+/).filter(Boolean));
      rel.add('noopener');
      rel.add('noreferrer');
      this.setAttribute('rel', Array.from(rel).join(' '));
    }
    const confirmMsg = this.getAttribute('data-confirm');
    if (confirmMsg) {
      this.addEventListener('click', (e) => {
        if (!confirm(confirmMsg)) e.preventDefault();
      });
    }
  }
}

customElements.define('safe-link', SafeLink, { extends: 'a' });
      </code>
    </pre>
    <pre>
      <code class="hljs html" data-trim data-line-numbers>
&lt;a is="safe-link" href="https://example.com" target="_blank" data-confirm="Open external site?"&gt;External link&lt;/a&gt;
      </code>
    </pre>
    <div class="demo">
      <a is="safe-link" href="https://example.com" target="_blank" data-confirm="Open external site?">External link</a>
    </div>
    <!-- Definition is loaded globally from src/scripts/components/safe-link.js -->
  </section>

  <section>
    <h4>Choosing the right base</h4>
    <table style="font-size: 0.7em">
      <tr>
        <th>Element</th>
        <th>Use when you need</th>
      </tr>
      <tr class="fragment">
        <td><code>&lt;button&gt;</code></td>
        <td>Clickable actions, form submission</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;input&gt;</code></td>
        <td>User input, form data, validation</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;div&gt;</code></td>
        <td>Generic container, layout</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;a&gt;</code></td>
        <td>Navigation, links</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;img&gt;</code></td>
        <td>Image display with enhancements</td>
      </tr>
    </table>
    <small balance class="fragment" style="margin-top: 1em">
      ðŸ’¡ <strong>Pro <mark>tip</mark>:</strong> Always extend the most <mark>semantic</mark> element
    </small>
  </section>
</section>
