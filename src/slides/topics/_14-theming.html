<section>
  <section data-transition="slide">
    <h3>CSS Custom Properties for <mark>Theming</mark></h3>
    <p>Building flexible, themeable component systems</p>
  </section>
  <section data-transition="slide">
    <h4>Design Tokens</h4>
    <pre><code class="language-css">:root {
  /* Colors */
  --color-primary: #007bff;
  --color-success: #28a745;
  --color-danger: #dc3545;
  
  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 2rem;
  
  /* Typography */
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.25rem;
  
  /* Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Component Theme Contract</h4>
    <pre><code class="language-css">button[is="themed-button"] {
  /* Component consumes design tokens */
  background: var(--button-bg, var(--color-primary));
  color: var(--button-color, white);
  padding: var(--button-padding, var(--space-sm) var(--space-md));
  border-radius: var(--button-radius, var(--radius-sm));
  font-size: var(--button-font-size, var(--font-size-base));
  
  /* Computed values */
  border: 1px solid var(--button-border, transparent);
  transition: all 0.2s ease;
}

button[is="themed-button"]:hover {
  filter: brightness(1.1);
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Dark Mode Implementation</h4>
    <pre><code class="language-javascript">class ThemeToggle extends HTMLButtonElement {
  connectedCallback() {
    this.textContent = 'üåô';
    this.addEventListener('click', this.toggleTheme);
    this.applyTheme(this.getCurrentTheme());
  }

  toggleTheme = () => {
    const current = this.getCurrentTheme();
    const next = current === 'light' ? 'dark' : 'light';
    this.applyTheme(next);
    localStorage.setItem('theme', next);
  };

  getCurrentTheme() {
    return localStorage.getItem('theme') || 'light';
  }

  applyTheme(theme) {
    document.documentElement.dataset.theme = theme;
    this.textContent = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS for Dark Mode</h4>
    <pre><code class="language-css">/* Light theme (default) */
:root {
  --bg-primary: #ffffff;
  --text-primary: #000000;
  --button-bg: #007bff;
}

/* Dark theme */
[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --text-primary: #ffffff;
  --button-bg: #0056b3;
}

/* System preference */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --bg-primary: #1a1a1a;
    --text-primary: #ffffff;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Dynamic Theme Updates</h4>
    <pre><code class="language-javascript">class ThemeProvider extends HTMLDivElement {
  connectedCallback() {
    this.setupTheme();
  }

  setupTheme() {
    const theme = {
      primary: this.getAttribute('primary') || '#007bff',
      secondary: this.getAttribute('secondary') || '#6c757d',
      spacing: this.getAttribute('spacing') || '1rem',
    };

    Object.entries(theme).forEach(([key, value]) => {
      this.style.setProperty(`--theme-${key}`, value);
    });
  }

  static get observedAttributes() {
    return ['primary', 'secondary', 'spacing'];
  }

  attributeChangedCallback() {
    this.setupTheme();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Usage</h4>
    <pre><code class="language-html">&lt;div is="theme-provider" 
     primary="#ff6b6b" 
     secondary="#4ecdc4"
     spacing="1.5rem"&gt;
  
  &lt;button is="themed-button"&gt;Themed Button&lt;/button&gt;
  &lt;input is="themed-input" /&gt;
  
&lt;/div&gt;</code></pre>
    <p class="fragment">
      ‚úÖ All children inherit theme from provider via CSS cascade
    </p>
  </section>
</section>
