<section>
  <section>
    <h3>Styling <mark>Extended Elements</mark></h3>
    <p>Practical CSS without Shadow DOM: custom properties, @layer, @scope</p>
  </section>

  <section>
    <h4>Targeting extended elements</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
/* Low specificity selectors */
button[is="icon-button"] {
  display: inline-flex;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
}

/* States (hover, disabled) */
button[is="icon-button"]:hover {
  transform: scale(1.05);
}

button[is="icon-button"][disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}
      </code>
    </pre>
    <p class="fragment">‚úÖ Use <mark>attribute selectors</mark> and keep specificity low</p>
  </section>

  <section>
    <h4>Custom properties for theming</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
button[is="themed-button"] {
  background: var(--button-bg, #007bff);
  color: var(--button-color, white);
  border-radius: var(--button-radius, 4px);
  padding: var(--button-padding, 0.5rem 1rem);
}

.theme-dark {
  --button-bg: #1a1a1a;
  --button-color: #ffffff;
}

.theme-light {
  --button-bg: #f0f0f0;
  --button-color: #000000;
}
      </code>
    </pre>
    <pre class="fragment">
      <code class="hljs html" data-trim data-line-numbers>
&lt;div class="theme-dark"&gt;
  &lt;button is="themed-button"&gt;Dark&lt;/button&gt;
&lt;/div&gt;
&lt;div class="theme-light"&gt;
  &lt;button is="themed-button"&gt;Light&lt;/button&gt;
&lt;/div&gt;
      </code>
    </pre>
  </section>
  <section>
    <h4>Design tokens and component contract</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
:root {
  --color-primary: #007bff;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --radius-sm: 4px;
  --font-size-base: 1rem;
}

button[is="themed-button"] {
  background: var(--button-bg, var(--color-primary));
  color: var(--button-color, white);
  padding: var(--button-padding, var(--space-sm) var(--space-md));
  border-radius: var(--button-radius, var(--radius-sm));
  font-size: var(--button-font-size, var(--font-size-base));
  filter: var(--button-filter, none);
}
      </code>
    </pre>
  </section>

  <section>
    <h4>Organize with @layer</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@layer reset, base, components, utilities, themes;

/* reset/base */
@layer reset {
  *,*::before,*::after { box-sizing: border-box; }
}

@layer base {
  :root { --space-sm: 0.5rem; --space-md: 1rem; }
}

/* components */
@layer components {
  button[is="themed-button"] { padding: var(--space-sm) var(--space-md); }
}

/* themes come last to win over components */
@layer themes {
  :root[data-theme="dark"] {
    --button-bg: #1a1a1a; --button-color: #ffffff;
  }
}
      </code>
    </pre>
    <p class="fragment">‚úÖ Layers control cascade <mark>without specificity hacks</mark></p>
  </section>

  <section>
    <h4>Encapsulate with @scope</h4>
    <pre>
      <code class="hljs html" data-trim data-line-numbers>
&lt;div class="card"&gt;
  &lt;h3&gt;Title&lt;/h3&gt;
  &lt;button is="themed-button"&gt;Action&lt;/button&gt;
&lt;/div&gt;
      </code>
    </pre>
    <pre class="fragment">
      <code class="hljs css" data-trim data-line-numbers>
@scope (.card) {
  :scope {
    padding: 1rem; border: 1px solid #ddd;
  }
  
  h3 {
    margin: 0 0 0.5rem; font-size: 1.25rem;
  }
  
  button[is="themed-button"] {
    --button-bg: #e8f0ff;
  }
}
      </code>
    </pre>
    <p class="fragment">‚úÖ @scope styles === <mark>encapsulation</mark> <br />with <mark>no boundaries</mark></p>
  </section>

  <section>
    <h4>State driven styling</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
/* data-* states */
button[is="toggle-button"][data-state="active"] {
  background: var(--active-bg);
}

/* ARIA states */
button[is="menu-button"][aria-expanded="true"] {
  transform: rotate(180deg);
}

/* Pseudo-classes */
input[is="validated-input"]:invalid {
  border-color: var(--error-color);
}

input[is="validated-input"]:focus {
  outline: 2px solid var(--focus-color); outline-offset: 2px;
}
      </code>
    </pre>
  </section>
  <!-- <section>
    <h4>Dark mode and preferences</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
/* System preference as default */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --bg-primary: #1a1a1a; --text-primary: #ffffff;
  }
}

/* Manual override */
:root[data-theme="dark"] {
  --bg-primary: #1a1a1a; --text-primary: #ffffff;
}
      </code>
    </pre> -->
  <!-- <pre class="fragment">
      <code class="hljs javascript" data-trim data-line-numbers>
class ThemeToggle extends HTMLButtonElement {
  connectedCallback() {
    this.textContent = 'üåô';
    this.addEventListener('click', () => {
      const next = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
      document.documentElement.dataset.theme = next;
      this.textContent = next === 'light' ? 'üåô' : '‚òÄÔ∏è';
    });
  }
}
customElements.define('theme-toggle', ThemeToggle, { extends: 'button' });
      </code>
    </pre> -->
  <!-- </section> -->
  <!-- <section>
    <h4>Usage</h4>
    <pre>
      <code class="hljs html" data-trim data-line-numbers>
&lt;button is="theme-toggle"&gt;üåô&lt;/button&gt;
&lt;button is="themed-button"&gt;Themed Button&lt;/button&gt;
      </code>
    </pre>
    <p class="fragment">‚úÖ Children inherit tokens; layers and scope orchestrate overrides</p>
  </section> -->
</section>
