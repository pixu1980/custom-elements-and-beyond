<!DOCTYPE html><html lang="it"><head>
    <meta charset="utf-8">
    <title>customElements &amp; beyond</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <link rel="stylesheet" href="/custom-elements-and-beyond.ebeadb08.css">
  </head>
  <body>
    <main class="reveal">
      <div class="slides">
        <section intro="" data-transition="zoom">
  <h2>
    <mark>custom</mark>Elements <br>
    &amp; <mark>beyond</mark>
  </h2>
  <p class="fragment" style="margin-top: 2em; font-size: .8em">Exploring the power and flexibility of <strong>Web Standards</strong></p>
  <aside class="notes">
    This talk celebrates web standards and their role in building sustainable, framework-agnostic web applications. We'll explore Custom Elements from basics to advanced patterns, showing how they
    integrate with modern frameworks while maintaining long-term compatibility.
  </aside>
</section>

<section>
  <section pixu="" data-transition="convex">
    <comparison>
      <left>
        <figure>
          <picture>
            <source srcset="/pixu.8dc4bcd7.webp" type="image/webp">
            <img src="/pixu.8cd71433.jpg" alt="Pixu">
          </picture>
        </figure>
        <h3>Emiliano <mark>Pisu</mark></h3>
        <small balance="" class="fragment">
          <p><mark>Father</mark> of 2 lovely "monsters"</p>
          <p><mark>D&amp;D</mark> master, player ... whatever</p>
          <p>
            Senior <mark>Design Engineer</mark>, <mark>Sensei</mark> &amp; Co-Host
            <br>
            @ Dev <mark>Dojo</mark> IT
          </p>
        </small>
      </left>
      <right class="fragment">
        <h6>
          <img src="/linkedin.1b8d1573.svg" alt="pixu1980@linkedin">
          linkedin.com/in/pixu1980
        </h6>
        <h6>
          <img src="/github.dd65c88f.svg" alt="pixu1980@github">
          github.com/pixu1980
        </h6>
        <h6>
          <img src="/codepen.1d70fbe2.svg" alt="pixu1980@codepen">
          codepen.io/pixu1980
        </h6>
        <h6>
          <img src="/linkedin.1b8d1573.svg" alt="devdojo@linkedin">
          linkedin.com/company/dev-dojo-it/
        </h6>
        <h6>
          <img src="/youtube.33d88a05.svg" alt="devdojo@youtube">
          youtube.com/@devdojo_it
        </h6>
        <h6>
          <img src="/twitch.b8c97bdd.svg" alt="devdojo@twitch">
          twitch.tv/devdojo_it
        </h6>
        <h6>
          <img src="/telegram.baf0a86a.svg" alt="devdojo@telegram">
          @devdojo_it
        </h6>
      </right>
    </comparison>
  </section>
</section>

<section>
  <section data-transition="slide">
    <h3>Building the future with <mark>Web Standards</mark></h3>
    <p class="fragment"><strong>Custom Elements</strong> empower developers to create reusable, framework-agnostic components by extending native HTML elements</p>
  </section>
  <section data-transition="slide">
    <h4>Why this matters <mark>now</mark></h4>
    <div class="fragment">
      <p>After years of framework dominance, <strong>web standards</strong> are making a comeback</p>
      <p class="fragment">
        Custom Elements provide <mark>long-term sustainability</mark> and
        <mark>interoperability</mark>
      </p>
      <p class="fragment">No more framework lock-in - write once, use <mark>everywhere</mark></p>
    </div>
  </section>
</section>


<section>
  <section data-transition="slide">
    <h3>What you will <mark>learn</mark> today</h3>
  </section>
  <section data-transition="slide">
    <h4><mark>Fundamentals</mark> of Custom Elements</h4>
    <small>
      <ul>
        <li class="fragment">Custom Elements API and lifecycle callbacks</li>
        <li class="fragment">Extending native HTML elements with <code>{extends: "elementName"}</code></li>
        <li class="fragment">Using <code>is="custom-name"</code> attribute pattern</li>
        <li class="fragment">Browser support and Baseline status</li>
      </ul>
    </small>
  </section>
  <section data-transition="slide">
    <h4><mark>Practical patterns</mark> for building components</h4>
    <small>
      <ul>
        <li class="fragment">Component composition and reusability</li>
        <li class="fragment">Attribute and property binding</li>
        <li class="fragment">Event handling and communication</li>
        <li class="fragment">Styling strategies and theming</li>
      </ul>
    </small>
  </section>
  <section data-transition="slide">
    <h4><mark>Advanced techniques</mark></h4>
    <small>
      <ul>
        <li class="fragment">Accessibility considerations</li>
        <li class="fragment">Performance optimization</li>
        <li class="fragment">Testing Web Components</li>
        <li class="fragment">Memory management and cleanup</li>
      </ul>
    </small>
  </section>
  <section data-transition="slide">
    <h4><mark>Integration</mark> with modern frameworks</h4>
    <small>
      <ul>
        <li class="fragment">Using Web Components with Vue</li>
        <li class="fragment">React interoperability</li>
        <li class="fragment">Angular Elements</li>
        <li class="fragment">Building framework-agnostic design systems</li>
      </ul>
    </small>
  </section>
  <section data-transition="slide">
    <h4><mark>Future features</mark> and the road ahead</h4>
    <small>
      <ul>
        <li class="fragment">Improved ElementInternals API</li>
        <li class="fragment">Better form integration</li>
        <li class="fragment">Enhanced accessibility features</li>
        <li class="fragment">Where the standard is heading</li>
      </ul>
    </small>
  </section>
</section>

<section class="slide-dive-in" data-auto-animate="">
  <div sr-only="" data-menu-title="">Let's dive in</div>
  <dive-in>
    <stack-container>
      <stack-item>Let's <mark>dive</mark> in</stack-item>
      <stack-item>Let's <mark>dive</mark> in</stack-item>
      <stack-item>Let's <mark>dive</mark> in</stack-item>
      <stack-item>Let's <mark>dive</mark> in</stack-item>
      <stack-item>Let's <mark>dive</mark> in</stack-item>
    </stack-container>
  </dive-in>
</section>


<section>
  <!-- Fundamentals: Slides 4-12 -->
  <section data-transition="slide"></section>
  <h3>What are <mark>Custom Elements</mark>?</h3>
  <div class="fragment">
    <p>
      <strong>Custom Elements</strong> are a web standard that allows you to
      <mark>extend native HTML elements</mark>
    </p>
  </div>
  <div class="fragment">
    <ul>
      <li>Part of the <strong>Web Components</strong> family</li>
      <li>Framework <mark>agnostic</mark> and standards based</li>
      <li>
        Extend existing elements like <code>&lt;button&gt;</code>,
        <code>&lt;input&gt;</code>, <code>&lt;div&gt;</code>
      </li>
      <li>Inherit native <mark>behavior</mark> and <mark>accessibility</mark></li>
    </ul>
  </div>
  <aside class="notes">
    Custom Elements let us extend native HTML elements with custom behavior
    while maintaining all their built-in functionality, accessibility, and
    browser support.
  </aside>


  <section>
  <section data-transition="slide">
    <h3>The Custom Elements <mark>API</mark></h3>
    <p class="fragment">
      Define custom elements using
      <code>customElements.define()</code>
    </p>
  </section>
  <section data-transition="slide">
    <h4>The <mark>extends</mark> pattern</h4>
    <pre class="fragment"><code class="language-javascript">class EnhancedButton extends HTMLButtonElement {
  constructor() {
    super(); // Always call super() first!
  }
}

// Register with the extends option
customElements.define('enhanced-button', EnhancedButton, {
  extends: 'button'
});</code></pre>
    <aside class="notes">
      The extends option tells the browser which native element we're
      extending. This pattern ensures we inherit all native functionality.
    </aside>
  </section>
  <section data-transition="slide">
    <h4>Using with <mark>is</mark> attribute</h4>
    <pre class="fragment"><code class="language-html">&lt;!-- Standard button --&gt;
&lt;button&gt;Click me&lt;/button&gt;

&lt;!-- Enhanced button --&gt;
&lt;button is="enhanced-button"&gt;Click me&lt;/button&gt;</code></pre>
    <p class="fragment">
      The <code>is</code> attribute tells the browser to use your custom
      element class
    </p>
    <aside class="notes">
      This approach is called "customized built-in elements" and provides
      better progressive enhancement than autonomous custom elements.
    </aside>
  </section>
</section>

  <section data-transition="slide">
  <h3>Browser Support &amp; <mark>Baseline</mark></h3>
  <div class="fragment">
    <h4>✅ Widely Available</h4>
    <p>Custom Elements are supported across all modern browsers</p>
    <ul>
      <li><strong>Chrome/Edge:</strong> ✅ Since 2017</li>
      <li><strong>Firefox:</strong> ✅ Since 2018</li>
      <li><strong>Safari:</strong> ✅ Since 2018</li>
    </ul>
  </div>
  <div class="fragment">
    <p style="margin-top: 2em">
      <strong>Note:</strong> Safari does not support
      <code>{extends: "elementName"}</code> pattern 😢
    </p>
    <p class="fragment">
      <mark>Polyfill available</mark> for Safari compatibility
    </p>
  </div>
  <aside class="notes">
    While Custom Elements have excellent support, the extends pattern
    (customized built-in elements) requires a polyfill for Safari. This is the
    main trade-off but the benefits of extending native elements often
    outweigh this limitation.
  </aside>
</section>

  <section>
  <section data-transition="slide">
    <h3>Your First <mark>Custom Element</mark></h3>
    <p>Let's create an enhanced button with a click counter</p>
  </section>
  <section data-transition="slide">
    <h4>Step 1: Define the class</h4>
    <pre><code class="language-javascript">class CounterButton extends HTMLButtonElement {
  constructor() {
    super();
    this.count = 0;
  }

  connectedCallback() {
    this.updateText();
    this.addEventListener('click', this.handleClick);
  }

  handleClick = () =&gt; {
    this.count++;
    this.updateText();
  };

  updateText() {
    this.textContent = `Clicked ${this.count} times`;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Step 2: Register the element</h4>
    <pre><code class="language-javascript">customElements.define('counter-button', CounterButton, {
  extends: 'button'
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Step 3: Use in HTML</h4>
    <pre><code class="language-html">&lt;button is="counter-button"&gt;Click me&lt;/button&gt;</code></pre>
    <div class="fragment" style="margin-top: 2em">
      <p><strong>Live Demo:</strong></p>
      <button is="counter-button" style="padding: 1em 2em; font-size: 1.2em">
        Click me
      </button>
    </div>
    <aside class="notes">
      Notice how we inherit all button functionality: keyboard support, form
      integration, ARIA roles, and all native events.
    </aside>
  </section>
</section>

<script>if (!customElements.get('counter-button')) {
    class CounterButton extends HTMLButtonElement {
        constructor(){
            super();
            this.count = 0;
        }
        connectedCallback() {
            this.updateText();
            this.addEventListener('click', this.handleClick);
        }
        disconnectedCallback() {
            this.removeEventListener('click', this.handleClick);
        }
        handleClick = ()=>{
            this.count++;
            this.updateText();
        };
        updateText() {
            this.textContent = `Clicked ${this.count} times`;
        }
    }
    customElements.define('counter-button', CounterButton, {
        extends: 'button'
    });
}

</script>

  <section>
  <section data-transition="slide">
    <h3>Lifecycle <mark>Callbacks</mark></h3>
    <p>Custom Elements have four main lifecycle hooks</p>
  </section>
  <section data-transition="slide">
    <h4><code>constructor()</code></h4>
    <pre><code class="language-javascript">class MyElement extends HTMLButtonElement {
  constructor() {
    super(); // Must be first!
    // Initialize state
    this.count = 0;
    // Don't manipulate DOM or attributes here
  }
}</code></pre>
    <p class="fragment">
      ⚠️ <strong>Rules:</strong> Call <code>super()</code> first, don't modify
      DOM or attributes
    </p>
  </section>
  <section data-transition="slide">
    <h4><code>connectedCallback()</code></h4>
    <pre><code class="language-javascript">connectedCallback() {
  // Element added to DOM
  this.render();
  this.addEventListener('click', this.handleClick);
  
  // Safe to access DOM and attributes here
  console.log(this.getAttribute('data-value'));
}</code></pre>
    <p class="fragment">
      ✅ Called when element is <mark>inserted into DOM</mark>
    </p>
  </section>
  <section data-transition="slide">
    <h4><code>disconnectedCallback()</code></h4>
    <pre><code class="language-javascript">disconnectedCallback() {
  // Element removed from DOM
  this.removeEventListener('click', this.handleClick);
  
  // Clean up resources, timers, observers
  if (this.interval) {
    clearInterval(this.interval);
  }
}</code></pre>
    <p class="fragment">
      ✅ Called when element is <mark>removed from DOM</mark>
    </p>
  </section>
  <section data-transition="slide">
    <h4><code>attributeChangedCallback()</code></h4>
    <pre><code class="language-javascript">static get observedAttributes() {
  return ['value', 'disabled'];
}

attributeChangedCallback(name, oldValue, newValue) {
  if (name === 'value') {
    this.updateDisplay(newValue);
  }
}</code></pre>
    <p class="fragment">
      ✅ Called when <mark>observed attributes</mark> change
    </p>
  </section>
  <section data-transition="slide">
    <h4>Lifecycle Timeline</h4>
    <div style="text-align: left; font-size: .8em">
      <p>1️⃣ <code>constructor()</code> - Element created</p>
      <p class="fragment">
        2️⃣ <code>connectedCallback()</code> - Added to DOM
      </p>
      <p class="fragment">
        3️⃣ <code>attributeChangedCallback()</code> - Attributes change
      </p>
      <p class="fragment">
        4️⃣ <code>disconnectedCallback()</code> - Removed from DOM
      </p>
    </div>
    <aside class="notes">
      Understanding the lifecycle is crucial for proper resource management and
      avoiding memory leaks.
    </aside>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Attributes vs <mark>Properties</mark></h3>
    <p>Understanding the difference is key to effective Custom Elements</p>
  </section>
  <section data-transition="slide">
    <h4>Attributes (HTML)</h4>
    <pre><code class="language-html">&lt;button is="my-button" value="42" disabled&gt;
  Click me
&lt;/button&gt;</code></pre>
    <ul class="fragment">
      <li>Always <mark>strings</mark> (or null)</li>
      <li>Defined in <mark>HTML</mark></li>
      <li>Accessible via <code>getAttribute()</code></li>
      <li>Trigger <code>attributeChangedCallback()</code></li>
    </ul>
  </section>
  <section data-transition="slide">
    <h4>Properties (JavaScript)</h4>
    <pre><code class="language-javascript">const button = document.querySelector('[is="my-button"]');
button.value = 42;        // Number
button.disabled = true;   // Boolean
button.data = { foo: 'bar' }; // Object</code></pre>
    <ul class="fragment">
      <li>Can be any <mark>JavaScript type</mark></li>
      <li>Accessed in <mark>JavaScript</mark></li>
      <li>Don't trigger callbacks automatically</li>
    </ul>
  </section>
  <section data-transition="slide">
    <h4>Reflection Pattern</h4>
    <pre><code class="language-javascript">class MyButton extends HTMLButtonElement {
  get value() {
    return this.getAttribute('value');
  }
  
  set value(val) {
    this.setAttribute('value', val);
  }
}</code></pre>
    <p class="fragment">
      Sync properties with attributes for <mark>consistency</mark>
    </p>
  </section>
  <section data-transition="slide">
    <h4>Best Practices</h4>
    <ul>
      <li class="fragment">
        Use <mark>attributes</mark> for simple, serializable values
      </li>
      <li class="fragment">
        Use <mark>properties</mark> for complex objects or functions
      </li>
      <li class="fragment">
        Reflect simple properties to attributes when possible
      </li>
      <li class="fragment">
        Follow native element patterns (e.g., <code>disabled</code>,
        <code>value</code>)
      </li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Observed Attributes &amp; <mark>Reactivity</mark></h3>
    <p>Make your elements respond to attribute changes</p>
  </section>
  <section data-transition="slide">
    <h4>Declaring observed attributes</h4>
    <pre><code class="language-javascript">class ColorButton extends HTMLButtonElement {
  static get observedAttributes() {
    return ['color', 'size'];
  }
  
  attributeChangedCallback(name, oldValue, newValue) {
    console.log(`${name} changed: ${oldValue} → ${newValue}`);
    
    if (name === 'color') {
      this.style.backgroundColor = newValue;
    }
    if (name === 'size') {
      this.style.fontSize = newValue;
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Complete example</h4>
    <pre><code class="language-javascript">class ValidatedInput extends HTMLInputElement {
  static get observedAttributes() {
    return ['pattern', 'required'];
  }

  connectedCallback() {
    this.addEventListener('input', this.validate);
    this.validate();
  }

  validate = () =&gt; {
    const isValid = this.checkValidity();
    this.classList.toggle('invalid', !isValid);
    this.setAttribute('aria-invalid', String(!isValid));
  };

  attributeChangedCallback(name, oldValue, newValue) {
    if (this.isConnected) {
      this.validate();
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Usage</h4>
    <pre><code class="language-html">&lt;input 
  is="validated-input" 
  type="email" 
  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
  required
/&gt;</code></pre>
    <p class="fragment">
      Changes to <code>pattern</code> or <code>required</code> automatically
      re-validate
    </p>
  </section>
  <section data-transition="slide">
    <h4>Performance tip</h4>
    <p>Only observe attributes you actually need to react to</p>
    <pre class="fragment"><code class="language-javascript">// ❌ Don't do this
static get observedAttributes() {
  return ['id', 'class', 'data-foo', 'data-bar', ...];
}

// ✅ Do this
static get observedAttributes() {
  return ['value', 'disabled']; // Only what you need
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Extending Different <mark>Native Elements</mark></h3>
    <p>Choose the right base element for your needs</p>
  </section>
  <section data-transition="slide">
    <h4>Extending <mark>Buttons</mark></h4>
    <pre><code class="language-javascript">class IconButton extends HTMLButtonElement {
  connectedCallback() {
    const icon = this.getAttribute('icon');
    this.innerHTML = `
      &lt;span class="icon"&gt;${icon}&lt;/span&gt;
      &lt;span class="text"&gt;${this.textContent}&lt;/span&gt;
    `;
  }
}

customElements.define('icon-button', IconButton, {
  extends: 'button'
});</code></pre>
    <pre class="fragment"><code class="language-html">&lt;button is="icon-button" icon="🚀"&gt;Launch&lt;/button&gt;</code></pre>
    <p class="fragment">
      ✅ Inherits: click events, form submission, keyboard support, disabled
      state
    </p>
  </section>
  <section data-transition="slide">
    <h4>Extending <mark>Inputs</mark></h4>
    <pre><code class="language-javascript">class DateInput extends HTMLInputElement {
  connectedCallback() {
    this.type = 'date';
    this.setAttribute('aria-label', 'Select date');
    
    this.addEventListener('change', () =&gt; {
      console.log('Date selected:', this.value);
    });
  }
}

customElements.define('date-input', DateInput, {
  extends: 'input'
});</code></pre>
    <p class="fragment">
      ✅ Inherits: form integration, validation, value property, focus
      management
    </p>
  </section>
  <section data-transition="slide">
    <h4>Extending <mark>Divs</mark></h4>
    <pre><code class="language-javascript">class CollapsiblePanel extends HTMLDivElement {
  connectedCallback() {
    this.setAttribute('role', 'region');
    const header = this.querySelector('[slot="header"]');
    
    header?.addEventListener('click', () =&gt; {
      this.classList.toggle('collapsed');
      const expanded = !this.classList.contains('collapsed');
      this.setAttribute('aria-expanded', String(expanded));
    });
  }
}

customElements.define('collapsible-panel', CollapsiblePanel, {
  extends: 'div'
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Extending <mark>Lists</mark></h4>
    <pre><code class="language-javascript">class SortableList extends HTMLUListElement {
  connectedCallback() {
    this.setAttribute('role', 'list');
    
    const sortButton = document.createElement('button');
    sortButton.textContent = 'Sort';
    sortButton.onclick = () =&gt; this.sort();
    
    this.before(sortButton);
  }
  
  sort() {
    const items = Array.from(this.children);
    items.sort((a, b) =&gt; 
      a.textContent.localeCompare(b.textContent)
    );
    this.append(...items);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Choosing the right base</h4>
    <table style="font-size: .7em">
      <tbody><tr>
        <th>Element</th>
        <th>Use when you need</th>
      </tr>
      <tr class="fragment">
        <td><code>&lt;button&gt;</code></td>
        <td>Clickable actions, form submission</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;input&gt;</code></td>
        <td>User input, form data, validation</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;div&gt;</code></td>
        <td>Generic container, layout</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;a&gt;</code></td>
        <td>Navigation, links</td>
      </tr>
      <tr class="fragment">
        <td><code>&lt;img&gt;</code></td>
        <td>Image display with enhancements</td>
      </tr>
    </tbody></table>
    <p class="fragment" style="margin-top: 1em">
      💡 <strong>Pro tip:</strong> Always extend the most
      <mark>semantic</mark> element
    </p>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Styling <mark>Extended Elements</mark></h3>
    <p>CSS strategies without Shadow DOM</p>
  </section>
  <section data-transition="slide">
    <h4>Using attribute selectors</h4>
    <pre><code class="language-css">/* Target extended button */
button[is="icon-button"] {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
}

/* Specific states */
button[is="icon-button"]:hover {
  transform: scale(1.05);
}

button[is="icon-button"][disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS Custom Properties for theming</h4>
    <pre><code class="language-css">button[is="themed-button"] {
  background: var(--button-bg, #007bff);
  color: var(--button-color, white);
  border-radius: var(--button-radius, 4px);
  padding: var(--button-padding, 0.5rem 1rem);
  border: none;
  cursor: pointer;
  transition: all 0.2s;
}

button[is="themed-button"]:hover {
  background: var(--button-bg-hover, #0056b3);
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Setting themes dynamically</h4>
    <pre><code class="language-html">&lt;div class="theme-dark"&gt;
  &lt;button is="themed-button"&gt;Dark Theme&lt;/button&gt;
&lt;/div&gt;

&lt;div class="theme-light"&gt;
  &lt;button is="themed-button"&gt;Light Theme&lt;/button&gt;
&lt;/div&gt;</code></pre>
    <pre class="fragment"><code class="language-css">.theme-dark {
  --button-bg: #1a1a1a;
  --button-color: #ffffff;
  --button-bg-hover: #2a2a2a;
}

.theme-light {
  --button-bg: #f0f0f0;
  --button-color: #000000;
  --button-bg-hover: #e0e0e0;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Cascade and specificity</h4>
    <pre><code class="language-css">/* Base styles - low specificity */
button[is="my-button"] {
  padding: 0.5rem;
}

/* Override for specific context */
.card button[is="my-button"] {
  padding: 1rem;
}

/* Override with data attributes */
button[is="my-button"][data-size="large"] {
  padding: 1.5rem 3rem;
  font-size: 1.2rem;
}</code></pre>
    <p class="fragment">
      ✅ Normal CSS cascade rules apply - no Shadow DOM barriers!
    </p>
  </section>
  <section data-transition="slide">
    <h4>Complete example</h4>
    <pre><code class="language-javascript">class ThemedButton extends HTMLButtonElement {
  connectedCallback() {
    this.updateTheme();
  }
  
  updateTheme() {
    const theme = this.getAttribute('theme') || 'primary';
    this.setAttribute('data-theme', theme);
  }
  
  static get observedAttributes() {
    return ['theme'];
  }
  
  attributeChangedCallback(name, oldValue, newValue) {
    if (name === 'theme') this.updateTheme();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS for the example</h4>
    <pre><code class="language-css">button[is="themed-button"] {
  border: none;
  border-radius: 4px;
  padding: 0.75rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;
}

button[is="themed-button"][data-theme="primary"] {
  background: #007bff;
  color: white;
}

button[is="themed-button"][data-theme="success"] {
  background: #28a745;
  color: white;
}

button[is="themed-button"][data-theme="danger"] {
  background: #dc3545;
  color: white;
}</code></pre>
  </section>
</section>


  <!-- Patterns & Use Cases: Slides 13-24 -->
  <section></section>
  <section data-transition="slide">
    <h3>Component <mark>Composition</mark> Patterns</h3>
    <p>Building complex components from simple extended elements</p>
  </section>
  <section data-transition="slide">
    <h4>Container Pattern</h4>
    <pre><code class="language-javascript">class TabContainer extends HTMLDivElement {
  connectedCallback() {
    this.setAttribute('role', 'tablist');
    this.setupTabs();
  }

  setupTabs() {
    const tabs = this.querySelectorAll('[is="tab-button"]');
    const panels = this.querySelectorAll('[is="tab-panel"]');
    
    tabs.forEach((tab, index) =&gt; {
      tab.addEventListener('click', () =&gt; {
        this.activateTab(index);
      });
    });
  }

  activateTab(index) {
    // Manage active states
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Presentational Pattern</h4>
    <pre><code class="language-javascript">class TabButton extends HTMLButtonElement {
  connectedCallback() {
    this.setAttribute('role', 'tab');
    this.setAttribute('aria-selected', 'false');
  }

  activate() {
    this.setAttribute('aria-selected', 'true');
    this.classList.add('active');
  }

  deactivate() {
    this.setAttribute('aria-selected', 'false');
    this.classList.remove('active');
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Usage</h4>
    <pre><code class="language-html">&lt;div is="tab-container"&gt;
  &lt;button is="tab-button"&gt;Tab 1&lt;/button&gt;
  &lt;button is="tab-button"&gt;Tab 2&lt;/button&gt;
  &lt;button is="tab-button"&gt;Tab 3&lt;/button&gt;
  
  &lt;div is="tab-panel"&gt;Content 1&lt;/div&gt;
  &lt;div is="tab-panel"&gt;Content 2&lt;/div&gt;
  &lt;div is="tab-panel"&gt;Content 3&lt;/div&gt;
&lt;/div&gt;</code></pre>
    <p class="fragment">
      ✅ Separation of concerns: container manages logic, children handle
      presentation
    </p>
  </section>
  <section data-transition="slide">
    <h4>Best Practices</h4>
    <ul>
      <li class="fragment">
        Keep components <mark>focused</mark> on a single responsibility
      </li>
      <li class="fragment">
        Use <mark>composition</mark> over deep inheritance
      </li>
      <li class="fragment">
        Communicate through <mark>events</mark> and attributes
      </li>
      <li class="fragment">
        Let parents manage <mark>state</mark>, children handle presentation
      </li>
    </ul>
  </section>


  <section>
  <section data-transition="slide">
    <h3>Attribute &amp; Property <mark>Binding</mark></h3>
    <p>Creating reactive and data-driven components</p>
  </section>
  <section data-transition="slide">
    <h4>Two-way binding example</h4>
    <pre><code class="language-javascript">class RangeInput extends HTMLInputElement {
  connectedCallback() {
    this.type = 'range';
    this.render();
    
    this.addEventListener('input', () =&gt; {
      this.updateValue();
    });
  }

  render() {
    const display = document.createElement('span');
    display.className = 'range-value';
    this.after(display);
    this.updateValue();
  }

  updateValue() {
    const display = this.nextElementSibling;
    if (display) {
      display.textContent = this.value;
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Property synchronization</h4>
    <pre><code class="language-javascript">class SyncedInput extends HTMLInputElement {
  static get observedAttributes() {
    return ['value', 'placeholder'];
  }

  // Reflect property to attribute
  get value() {
    return this.getAttribute('value') || '';
  }

  set value(val) {
    this.setAttribute('value', val);
    super.value = val; // Update native value
  }

  attributeChangedCallback(name, oldValue, newValue) {
    if (name === 'value' &amp;&amp; this.value !== newValue) {
      super.value = newValue;
      this.dispatchEvent(new Event('change', { bubbles: true }));
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Data binding with objects</h4>
    <pre><code class="language-javascript">class DataBoundList extends HTMLUListElement {
  set data(items) {
    this._data = items;
    this.render();
  }

  get data() {
    return this._data;
  }

  render() {
    this.innerHTML = '';
    
    (this._data || []).forEach(item =&gt; {
      const li = document.createElement('li');
      li.textContent = item.name;
      li.dataset.id = item.id;
      this.appendChild(li);
    });
  }
}</code></pre>
    <p class="fragment">
      💡 Use <mark>properties</mark> for complex data, <mark>attributes</mark>
      for simple values
    </p>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Event Handling &amp; <mark>Communication</mark></h3>
    <p>How components talk to each other</p>
  </section>
  <section data-transition="slide">
    <h4>Custom Events</h4>
    <pre><code class="language-javascript">class SelectButton extends HTMLButtonElement {
  connectedCallback() {
    this.addEventListener('click', this.handleClick);
  }

  handleClick = () =&gt; {
    // Dispatch custom event with detail
    this.dispatchEvent(
      new CustomEvent('item-selected', {
        bubbles: true,
        composed: true,
        detail: {
          id: this.dataset.id,
          value: this.dataset.value,
          timestamp: Date.now(),
        },
      })
    );
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Listening to custom events</h4>
    <pre><code class="language-javascript">class SelectContainer extends HTMLDivElement {
  connectedCallback() {
    // Listen for events from children
    this.addEventListener('item-selected', this.handleSelection);
  }

  handleSelection = (event) =&gt; {
    const { id, value } = event.detail;
    console.log(`Selected: ${value} (${id})`);
    
    // Update UI or state
    this.setAttribute('selected-id', id);
    
    // Forward event to parent if needed
    this.dispatchEvent(
      new CustomEvent('selection-changed', {
        bubbles: true,
        detail: event.detail,
      })
    );
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Parent-Child Communication</h4>
    <pre><code class="language-javascript">// Parent calls child methods directly
class ParentContainer extends HTMLDivElement {
  connectedCallback() {
    this.querySelector('[is="child-element"]')?.initialize();
  }
}

// Child notifies parent via events
class ChildElement extends HTMLButtonElement {
  initialize() {
    this.dispatchEvent(
      new CustomEvent('initialized', { bubbles: true })
    );
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Event delegation pattern</h4>
    <pre><code class="language-javascript">class ListContainer extends HTMLUListElement {
  connectedCallback() {
    // Single listener for all items
    this.addEventListener('click', this.handleItemClick);
  }

  handleItemClick = (event) =&gt; {
    const listItem = event.target.closest('li[is="list-item"]');
    
    if (listItem) {
      const itemId = listItem.dataset.id;
      this.selectItem(itemId);
    }
  };

  selectItem(id) {
    // Handle selection
    this.querySelectorAll('li').forEach(item =&gt; {
      item.classList.toggle('selected', item.dataset.id === id);
    });
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Best Practices</h4>
    <ul>
      <li class="fragment">
        Use <code>bubbles: true</code> for events that should propagate
      </li>
      <li class="fragment">
        Include relevant data in <code>event.detail</code>
      </li>
      <li class="fragment">
        Use <mark>event delegation</mark> for dynamic content
      </li>
      <li class="fragment">
        Always <mark>clean up</mark> event listeners in disconnectedCallback
      </li>
      <li class="fragment">
        Follow native event naming conventions (lowercase, hyphenated)
      </li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Component <mark>Styling</mark> Strategies</h3>
    <p>Organizing CSS for maintainable components</p>
  </section>
  <section data-transition="slide">
    <h4>BEM with Custom Elements</h4>
    <pre><code class="language-css">/* Block */
button[is="card-button"] {
  display: flex;
  padding: 1rem;
}

/* Element */
button[is="card-button"] .card-button__icon {
  margin-right: 0.5rem;
}

/* Modifier */
button[is="card-button"][data-variant="primary"] {
  background: var(--primary-color);
}

button[is="card-button"][data-size="large"] {
  font-size: 1.2em;
  padding: 1.5rem;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS Custom Properties Architecture</h4>
    <pre><code class="language-css">/* Component defines tokens */
button[is="themed-button"] {
  /* Public API - can be customized */
  background: var(--button-bg, #007bff);
  color: var(--button-color, white);
  padding: var(--button-padding, 0.5rem 1rem);
  
  /* Private tokens - internal use */
  --_button-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  --_button-transition: all 0.2s ease;
  
  box-shadow: var(--_button-shadow);
  transition: var(--_button-transition);
}

button[is="themed-button"]:hover {
  background: var(--button-bg-hover, #0056b3);
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Theme Layers</h4>
    <pre><code class="language-css">/* Global theme */
:root {
  --primary: #007bff;
  --secondary: #6c757d;
  --spacing-unit: 0.5rem;
}

/* Context theme */
.dark-mode {
  --button-bg: #1a1a1a;
  --button-color: #ffffff;
}

/* Component overrides */
.card[is="feature-card"] button[is="themed-button"] {
  --button-padding: calc(var(--spacing-unit) * 2);
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>State-based styling</h4>
    <pre><code class="language-css">/* Data attributes for state */
button[is="toggle-button"][data-state="active"] {
  background: var(--active-bg);
  border-color: var(--active-border);
}

/* ARIA states */
button[is="menu-button"][aria-expanded="true"] {
  transform: rotate(180deg);
}

/* Pseudo-classes */
input[is="validated-input"]:invalid {
  border-color: var(--error-color);
}

input[is="validated-input"]:focus {
  outline: 2px solid var(--focus-color);
  outline-offset: 2px;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Organizational Best Practices</h4>
    <ul>
      <li class="fragment">
        Use <code>data-*</code> attributes for <mark>component state</mark>
      </li>
      <li class="fragment">
        Prefix private custom properties with <code>--_</code>
      </li>
      <li class="fragment">
        Group related styles with <mark>CSS comments</mark>
      </li>
      <li class="fragment">
        Keep specificity <mark>low</mark> for easier overrides
      </li>
      <li class="fragment">
        Document custom properties as <mark>public API</mark>
      </li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>CSS Custom Properties for <mark>Theming</mark></h3>
    <p>Building flexible, themeable component systems</p>
  </section>
  <section data-transition="slide">
    <h4>Design Tokens</h4>
    <pre><code class="language-css">:root {
  /* Colors */
  --color-primary: #007bff;
  --color-success: #28a745;
  --color-danger: #dc3545;
  
  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 2rem;
  
  /* Typography */
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.25rem;
  
  /* Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Component Theme Contract</h4>
    <pre><code class="language-css">button[is="themed-button"] {
  /* Component consumes design tokens */
  background: var(--button-bg, var(--color-primary));
  color: var(--button-color, white);
  padding: var(--button-padding, var(--space-sm) var(--space-md));
  border-radius: var(--button-radius, var(--radius-sm));
  font-size: var(--button-font-size, var(--font-size-base));
  
  /* Computed values */
  border: 1px solid var(--button-border, transparent);
  transition: all 0.2s ease;
}

button[is="themed-button"]:hover {
  filter: brightness(1.1);
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Dark Mode Implementation</h4>
    <pre><code class="language-javascript">class ThemeToggle extends HTMLButtonElement {
  connectedCallback() {
    this.textContent = '🌙';
    this.addEventListener('click', this.toggleTheme);
    this.applyTheme(this.getCurrentTheme());
  }

  toggleTheme = () =&gt; {
    const current = this.getCurrentTheme();
    const next = current === 'light' ? 'dark' : 'light';
    this.applyTheme(next);
    localStorage.setItem('theme', next);
  };

  getCurrentTheme() {
    return localStorage.getItem('theme') || 'light';
  }

  applyTheme(theme) {
    document.documentElement.dataset.theme = theme;
    this.textContent = theme === 'light' ? '🌙' : '☀️';
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS for Dark Mode</h4>
    <pre><code class="language-css">/* Light theme (default) */
:root {
  --bg-primary: #ffffff;
  --text-primary: #000000;
  --button-bg: #007bff;
}

/* Dark theme */
[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --text-primary: #ffffff;
  --button-bg: #0056b3;
}

/* System preference */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --bg-primary: #1a1a1a;
    --text-primary: #ffffff;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Dynamic Theme Updates</h4>
    <pre><code class="language-javascript">class ThemeProvider extends HTMLDivElement {
  connectedCallback() {
    this.setupTheme();
  }

  setupTheme() {
    const theme = {
      primary: this.getAttribute('primary') || '#007bff',
      secondary: this.getAttribute('secondary') || '#6c757d',
      spacing: this.getAttribute('spacing') || '1rem',
    };

    Object.entries(theme).forEach(([key, value]) =&gt; {
      this.style.setProperty(`--theme-${key}`, value);
    });
  }

  static get observedAttributes() {
    return ['primary', 'secondary', 'spacing'];
  }

  attributeChangedCallback() {
    this.setupTheme();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Usage</h4>
    <pre><code class="language-html">&lt;div is="theme-provider" 
     primary="#ff6b6b" 
     secondary="#4ecdc4"
     spacing="1.5rem"&gt;
  
  &lt;button is="themed-button"&gt;Themed Button&lt;/button&gt;
  &lt;input is="themed-input" /&gt;
  
&lt;/div&gt;</code></pre>
    <p class="fragment">
      ✅ All children inherit theme from provider via CSS cascade
    </p>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Accessibility</mark> in Custom Elements</h3>
    <p>Inheriting and enhancing native accessibility</p>
  </section>
  <section data-transition="slide">
    <h4>Inherited Accessibility</h4>
    <p>Extended elements inherit native accessibility features</p>
    <ul class="fragment">
      <li>✅ Keyboard navigation (Tab, Enter, Space)</li>
      <li>✅ Screen reader announcements</li>
      <li>✅ Focus management</li>
      <li>✅ Native ARIA roles</li>
      <li>✅ Form integration and labels</li>
    </ul>
    <aside class="notes">
      This is a huge advantage over autonomous custom elements - you get
      accessibility for free!
    </aside>
  </section>
  <section data-transition="slide">
    <h4>ARIA Attributes</h4>
    <pre><code class="language-javascript">class ExpandableButton extends HTMLButtonElement {
  connectedCallback() {
    // Set ARIA attributes
    this.setAttribute('aria-expanded', 'false');
    this.setAttribute('aria-controls', this.dataset.controls);
    
    this.addEventListener('click', this.toggle);
  }

  toggle = () =&gt; {
    const expanded = this.getAttribute('aria-expanded') === 'true';
    this.setAttribute('aria-expanded', String(!expanded));
    
    // Update controlled element
    const panel = document.getElementById(this.dataset.controls);
    panel?.classList.toggle('hidden', expanded);
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Keyboard Navigation</h4>
    <pre><code class="language-javascript">class MenuButton extends HTMLButtonElement {
  connectedCallback() {
    this.setAttribute('aria-haspopup', 'menu');
    
    this.addEventListener('click', this.openMenu);
    this.addEventListener('keydown', this.handleKeydown);
  }

  handleKeydown = (event) =&gt; {
    switch (event.key) {
      case 'ArrowDown':
      case 'ArrowUp':
        event.preventDefault();
        this.openMenu();
        this.focusFirstMenuItem();
        break;
      case 'Escape':
        this.closeMenu();
        this.focus();
        break;
    }
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Focus Management</h4>
    <pre><code class="language-javascript">class DialogButton extends HTMLButtonElement {
  connectedCallback() {
    this.addEventListener('click', this.openDialog);
  }

  openDialog = () =&gt; {
    const dialog = document.getElementById(this.dataset.dialog);
    
    if (dialog) {
      // Store focus for return
      this._previousFocus = document.activeElement;
      
      dialog.showModal();
      
      // Focus first focusable element
      const firstFocusable = dialog.querySelector(
        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
      );
      firstFocusable?.focus();
    }
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Screen Reader Support</h4>
    <pre><code class="language-javascript">class StatusButton extends HTMLButtonElement {
  connectedCallback() {
    this.setupLiveRegion();
  }

  setupLiveRegion() {
    this.liveRegion = document.createElement('div');
    this.liveRegion.setAttribute('role', 'status');
    this.liveRegion.setAttribute('aria-live', 'polite');
    this.liveRegion.className = 'sr-only';
    document.body.appendChild(this.liveRegion);
  }

  announce(message) {
    this.liveRegion.textContent = message;
  }

  disconnectedCallback() {
    this.liveRegion?.remove();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Form Integration</h4>
    <pre><code class="language-javascript">class RatingInput extends HTMLInputElement {
  connectedCallback() {
    this.type = 'hidden';
    this.setAttribute('aria-label', 'Rating');
    
    this.createStars();
  }

  createStars() {
    const container = document.createElement('div');
    container.setAttribute('role', 'radiogroup');
    container.setAttribute('aria-label', 'Rate from 1 to 5 stars');
    
    for (let i = 1; i &lt;= 5; i++) {
      const star = this.createStar(i);
      container.appendChild(star);
    }
    
    this.after(container);
  }

  createStar(value) {
    const button = document.createElement('button');
    button.type = 'button';
    button.setAttribute('role', 'radio');
    button.setAttribute('aria-checked', 'false');
    button.textContent = '⭐';
    button.onclick = () =&gt; this.setRating(value);
    return button;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Testing Accessibility</h4>
    <ul>
      <li class="fragment">
        Use <mark>axe DevTools</mark> for automated testing
      </li>
      <li class="fragment">
        Test with <mark>screen readers</mark> (NVDA, JAWS, VoiceOver)
      </li>
      <li class="fragment">
        Verify <mark>keyboard navigation</mark> works without mouse
      </li>
      <li class="fragment">
        Check <mark>color contrast</mark> ratios (WCAG AA/AAA)
      </li>
      <li class="fragment">
        Test <mark>focus indicators</mark> are visible
      </li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Form Integration</mark> &amp; Validation</h3>
    <p>Building form controls that work seamlessly with native forms</p>
  </section>
  <section data-transition="slide">
    <h4>ElementInternals API</h4>
    <pre><code class="language-javascript">class CustomInput extends HTMLInputElement {
  static formAssociated = true;

  constructor() {
    super();
    this._internals = this.attachInternals();
  }

  connectedCallback() {
    this.addEventListener('input', this.handleInput);
  }

  handleInput = () =&gt; {
    // Update form value
    this._internals.setFormValue(this.value);
    
    // Validate
    this.validate();
  };

  validate() {
    if (!this.value) {
      this._internals.setValidity(
        { valueMissing: true },
        'This field is required'
      );
    } else {
      this._internals.setValidity({});
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Custom Validation</h4>
    <pre><code class="language-javascript">class EmailInput extends HTMLInputElement {
  connectedCallback() {
    this.type = 'email';
    this.addEventListener('blur', this.validateEmail);
  }

  validateEmail = () =&gt; {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const isValid = emailRegex.test(this.value);

    if (!isValid &amp;&amp; this.value) {
      this.setCustomValidity('Please enter a valid email');
      this.setAttribute('aria-invalid', 'true');
    } else {
      this.setCustomValidity('');
      this.setAttribute('aria-invalid', 'false');
    }

    // Trigger validation UI
    this.reportValidity();
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Form Submission</h4>
    <pre><code class="language-javascript">class FormButton extends HTMLButtonElement {
  connectedCallback() {
    this.type = 'submit';
    this.addEventListener('click', this.handleSubmit);
  }

  handleSubmit = async (event) =&gt; {
    event.preventDefault();
    
    const form = this.closest('form');
    
    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }

    this.setAttribute('aria-busy', 'true');
    this.disabled = true;

    try {
      const formData = new FormData(form);
      const response = await this.submitForm(formData);
      this.handleSuccess(response);
    } catch (error) {
      this.handleError(error);
    } finally {
      this.setAttribute('aria-busy', 'false');
      this.disabled = false;
    }
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Real-time Validation</h4>
    <pre><code class="language-javascript">class PasswordInput extends HTMLInputElement {
  static get observedAttributes() {
    return ['minlength'];
  }

  connectedCallback() {
    this.type = 'password';
    this.addEventListener('input', this.checkStrength);
  }

  checkStrength = () =&gt; {
    const value = this.value;
    const minLength = parseInt(this.getAttribute('minlength')) || 8;
    
    const hasLength = value.length &gt;= minLength;
    const hasUpper = /[A-Z]/.test(value);
    const hasLower = /[a-z]/.test(value);
    const hasNumber = /\d/.test(value);
    const hasSpecial = /[!@#$%^&amp;*]/.test(value);

    const strength = [hasLength, hasUpper, hasLower, hasNumber, hasSpecial]
      .filter(Boolean).length;

    this.setAttribute('data-strength', strength);
    this.updateStrengthIndicator(strength);
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Complex Validation Example</h4>
    <pre><code class="language-javascript">class DateRangeInput extends HTMLInputElement {
  connectedCallback() {
    this.type = 'date';
    this.addEventListener('change', this.validateRange);
  }

  validateRange = () =&gt; {
    const startDate = this.form?.querySelector('[name="start-date"]');
    const endDate = this.form?.querySelector('[name="end-date"]');

    if (startDate &amp;&amp; endDate &amp;&amp; startDate.value &amp;&amp; endDate.value) {
      const start = new Date(startDate.value);
      const end = new Date(endDate.value);

      if (end &lt; start) {
        endDate.setCustomValidity('End date must be after start date');
        endDate.reportValidity();
      } else {
        startDate.setCustomValidity('');
        endDate.setCustomValidity('');
      }
    }
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Browser Compatibility</h4>
    <p class="fragment">
      ⚠️ <code>ElementInternals</code> is relatively new
    </p>
    <ul class="fragment">
      <li>Chrome/Edge: ✅ Since 2020</li>
      <li>Firefox: ✅ Since 2021</li>
      <li>Safari: ✅ Since 2021</li>
    </ul>
    <p class="fragment">
      For older browsers, use traditional form integration with hidden inputs
    </p>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>State Management</mark> in Components</h3>
    <p>Managing component state effectively</p>
  </section>
  <section data-transition="slide">
    <h4>Local Component State</h4>
    <pre><code class="language-javascript">class TodoItem extends HTMLLIElement {
  constructor() {
    super();
    this._state = {
      completed: false,
      text: '',
      id: null,
    };
  }

  connectedCallback() {
    this._state.id = this.dataset.id;
    this._state.text = this.textContent;
    this._state.completed = this.hasAttribute('completed');
    
    this.render();
  }

  toggle() {
    this._state.completed = !this._state.completed;
    this.render();
    this.dispatchStateChange();
  }

  render() {
    this.classList.toggle('completed', this._state.completed);
    this.setAttribute('aria-checked', String(this._state.completed));
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>State Synchronization</h4>
    <pre><code class="language-javascript">class CounterButton extends HTMLButtonElement {
  constructor() {
    super();
    this._count = 0;
  }

  get count() {
    return this._count;
  }

  set count(value) {
    const oldValue = this._count;
    this._count = value;
    
    // Reflect to attribute
    this.setAttribute('count', value);
    
    // Update UI
    this.updateDisplay();
    
    // Notify listeners
    this.dispatchEvent(new CustomEvent('count-changed', {
      detail: { oldValue, newValue: value },
      bubbles: true,
    }));
  }

  updateDisplay() {
    this.textContent = `Count: ${this._count}`;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Immutability Pattern</h4>
    <pre><code class="language-javascript">class DataList extends HTMLUListElement {
  set items(newItems) {
    // Don't mutate original array
    this._items = [...newItems];
    this.render();
  }

  get items() {
    // Return copy to prevent external mutation
    return [...this._items];
  }

  addItem(item) {
    // Create new array instead of mutating
    this.items = [...this._items, item];
  }

  removeItem(id) {
    this.items = this._items.filter(item =&gt; item.id !== id);
  }

  updateItem(id, updates) {
    this.items = this._items.map(item =&gt;
      item.id === id ? { ...item, ...updates } : item
    );
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Change Detection</h4>
    <pre><code class="language-javascript">class SmartComponent extends HTMLDivElement {
  constructor() {
    super();
    this._state = {};
    this._stateProxy = new Proxy(this._state, {
      set: (target, prop, value) =&gt; {
        const oldValue = target[prop];
        target[prop] = value;
        
        // Trigger re-render on change
        if (oldValue !== value) {
          this.requestUpdate(prop, oldValue, value);
        }
        
        return true;
      },
    });
  }

  get state() {
    return this._stateProxy;
  }

  requestUpdate(prop, oldValue, newValue) {
    // Batch updates
    if (!this._updateScheduled) {
      this._updateScheduled = true;
      requestAnimationFrame(() =&gt; {
        this.update();
        this._updateScheduled = false;
      });
    }
  }
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Error Handling</mark> &amp; Resilience</h3>
    <p>Building robust components that gracefully handle failures</p>
  </section>
  <section data-transition="slide">
    <h4>Try-Catch in Lifecycle</h4>
    <pre><code class="language-javascript">class ResilientComponent extends HTMLDivElement {
  connectedCallback() {
    try {
      this.initialize();
    } catch (error) {
      console.error('Failed to initialize:', error);
      this.renderError(error);
    }
  }

  initialize() {
    const config = JSON.parse(this.getAttribute('config') || '{}');
    this.setup(config);
  }

  renderError(error) {
    this.innerHTML = `
      &lt;div class="error-state"&gt;
        &lt;p&gt;⚠️ Failed to load component&lt;/p&gt;
        &lt;details&gt;
          &lt;summary&gt;Error details&lt;/summary&gt;
          &lt;pre&gt;${error.message}&lt;/pre&gt;
        &lt;/details&gt;
      &lt;/div&gt;
    `;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Graceful Degradation</h4>
    <pre><code class="language-javascript">class ImageWithFallback extends HTMLImageElement {
  connectedCallback() {
    this.addEventListener('error', this.handleError);
  }

  handleError = () =&gt; {
    // Try fallback image
    if (this.dataset.fallback &amp;&amp; this.src !== this.dataset.fallback) {
      console.warn('Primary image failed, using fallback');
      this.src = this.dataset.fallback;
    } else {
      // Show placeholder
      this.style.display = 'none';
      this.insertAdjacentHTML('afterend', `
        &lt;div class="image-placeholder"&gt;
          📷 Image unavailable
        &lt;/div&gt;
      `);
    }
  };

  disconnectedCallback() {
    this.removeEventListener('error', this.handleError);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Retry Logic</h4>
    <pre><code class="language-javascript">class DataFetcher extends HTMLDivElement {
  constructor() {
    super();
    this.maxRetries = 3;
    this.retryCount = 0;
  }

  async fetchData(url) {
    try {
      const response = await fetch(url);
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }
      
      return await response.json();
      
    } catch (error) {
      if (this.retryCount &lt; this.maxRetries) {
        this.retryCount++;
        console.warn(`Retry ${this.retryCount}/${this.maxRetries}`);
        
        // Exponential backoff
        await this.delay(Math.pow(2, this.retryCount) * 1000);
        return this.fetchData(url);
      }
      
      throw error;
    }
  }

  delay(ms) {
    return new Promise(resolve =&gt; setTimeout(resolve, ms));
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Error Boundaries Pattern</h4>
    <pre><code class="language-javascript">class ErrorBoundary extends HTMLDivElement {
  connectedCallback() {
    this.setupErrorHandling();
  }

  setupErrorHandling() {
    // Catch errors from child components
    this.addEventListener('error', this.handleError, true);
    
    // Catch unhandled promise rejections
    window.addEventListener('unhandledrejection', this.handleRejection);
  }

  handleError = (event) =&gt; {
    if (this.contains(event.target)) {
      event.preventDefault();
      console.error('Caught error:', event.error);
      this.showErrorUI();
    }
  };

  handleRejection = (event) =&gt; {
    console.error('Unhandled rejection:', event.reason);
    this.showErrorUI();
  };

  showErrorUI() {
    const errorContainer = this.querySelector('.error-fallback');
    if (errorContainer) {
      errorContainer.style.display = 'block';
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Loading States</h4>
    <pre><code class="language-javascript">class AsyncButton extends HTMLButtonElement {
  async connectedCallback() {
    this.addEventListener('click', this.handleClick);
  }

  handleClick = async () =&gt; {
    if (this.loading) return;

    this.loading = true;
    this.renderLoadingState();

    try {
      await this.performAction();
      this.renderSuccessState();
    } catch (error) {
      this.renderErrorState(error);
    } finally {
      this.loading = false;
    }
  };

  renderLoadingState() {
    this.disabled = true;
    this.originalText = this.textContent;
    this.textContent = '⏳ Loading...';
    this.setAttribute('aria-busy', 'true');
  }

  renderSuccessState() {
    this.textContent = '✅ Done';
    setTimeout(() =&gt; {
      this.textContent = this.originalText;
      this.disabled = false;
      this.setAttribute('aria-busy', 'false');
    }, 2000);
  }

  renderErrorState(error) {
    this.textContent = '❌ Failed';
    console.error(error);
  }
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>API Design</mark> &amp; Documentation</h3>
    <p>Creating clear and intuitive component interfaces</p>
  </section>
  <section data-transition="slide">
    <h4>Designing Clear APIs</h4>
    <pre><code class="language-javascript">/**
 * Enhanced button with icon support
 * 
 * @element icon-button
 * @extends HTMLButtonElement
 * 
 * @attr {string} icon - Icon to display (emoji or icon class)
 * @attr {string} position - Icon position: 'start' | 'end'
 * @attr {string} variant - Button style: 'primary' | 'secondary' | 'danger'
 * 
 * @fires icon-button:click - Fired when button is clicked
 * 
 * @example
 * &lt;button is="icon-button" icon="🚀" variant="primary"&gt;
 *   Launch
 * &lt;/button&gt;
 */
class IconButton extends HTMLButtonElement {
  static get observedAttributes() {
    return ['icon', 'position', 'variant'];
  }
  
  // ... implementation
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>JSDoc Comments</h4>
    <pre><code class="language-javascript">class DataTable extends HTMLTableElement {
  /**
   * Sets the table data
   * @param {Array&lt;Object&gt;} data - Array of row objects
   * @example
   * table.data = [
   *   { id: 1, name: 'John', age: 30 },
   *   { id: 2, name: 'Jane', age: 25 }
   * ];
   */
  set data(data) {
    this._data = data;
    this.render();
  }

  /**
   * Sorts the table by column
   * @param {string} column - Column name to sort by
   * @param {('asc'|'desc')} direction - Sort direction
   * @returns {void}
   */
  sort(column, direction = 'asc') {
    // Implementation
  }

  /**
   * Filters table rows
   * @param {Function} predicate - Filter function
   * @returns {Array} Filtered data
   */
  filter(predicate) {
    return this._data.filter(predicate);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Semantic Attribute Naming</h4>
    <pre><code class="language-javascript">class FormInput extends HTMLInputElement {
  static get observedAttributes() {
    return [
      // ✅ Good: Clear, semantic names
      'label-text',
      'error-message',
      'help-text',
      'validation-mode',
      
      // ❌ Bad: Vague or abbreviated
      // 'txt', 'err', 'msg', 'mode'
    ];
  }

  attributeChangedCallback(name, oldValue, newValue) {
    switch (name) {
      case 'label-text':
        this.updateLabel(newValue);
        break;
      case 'error-message':
        this.showError(newValue);
        break;
      // ...
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Property vs Attribute Guidelines</h4>
    <pre><code class="language-javascript">class SmartList extends HTMLUListElement {
  // ✅ Attribute: Simple, serializable values
  get sortOrder() {
    return this.getAttribute('sort-order') || 'asc';
  }
  
  set sortOrder(value) {
    this.setAttribute('sort-order', value);
  }

  // ✅ Property: Complex objects, functions
  set items(items) {
    this._items = items;
    this.render();
  }
  
  get items() {
    return this._items;
  }

  // ✅ Property: Callback functions
  set onItemClick(callback) {
    this._onItemClick = callback;
  }

  // ✅ Method: Actions
  refresh() {
    this.render();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>TypeScript Support</h4>
    <pre><code class="language-typescript">// Custom element type definition
interface IconButtonElement extends HTMLButtonElement {
  icon: string;
  position: 'start' | 'end';
  variant: 'primary' | 'secondary' | 'danger';
}

declare global {
  interface HTMLElementTagNameMap {
    'icon-button': IconButtonElement;
  }
}

// Usage with type safety
const button = document.createElement('button', {
  is: 'icon-button'
}) as IconButtonElement;

button.icon = '🚀';
button.variant = 'primary'; // TypeScript validates this!</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Documentation Best Practices</h4>
    <ul>
      <li class="fragment">
        Document <mark>all public APIs</mark> (attributes, properties, methods,
        events)
      </li>
      <li class="fragment">
        Provide <mark>usage examples</mark> in comments
      </li>
      <li class="fragment">
        Use <mark>semantic naming</mark> that's self-explanatory
      </li>
      <li class="fragment">
        Follow <mark>native element patterns</mark> when possible
      </li>
      <li class="fragment">
        Include <mark>TypeScript definitions</mark> for type safety
      </li>
      <li class="fragment">
        Document <mark>browser compatibility</mark> requirements
      </li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Real-World <mark>Examples</mark></h3>
    <p>Putting it all together with complete implementations</p>
  </section>
  <section data-transition="slide">
    <h4>Example 1: Notification Toast</h4>
    <pre><code class="language-javascript">class ToastNotification extends HTMLDivElement {
  static get observedAttributes() {
    return ['type', 'duration', 'dismissible'];
  }

  connectedCallback() {
    this.render();
    this.setupDismiss();
    this.autoClose();
  }

  render() {
    const type = this.getAttribute('type') || 'info';
    const dismissible = this.hasAttribute('dismissible');

    this.className = `toast toast-${type}`;
    this.setAttribute('role', 'alert');
    this.setAttribute('aria-live', 'polite');

    if (dismissible) {
      const closeBtn = document.createElement('button');
      closeBtn.textContent = '×';
      closeBtn.className = 'toast-close';
      closeBtn.setAttribute('aria-label', 'Close notification');
      closeBtn.onclick = () =&gt; this.dismiss();
      this.appendChild(closeBtn);
    }
  }

  autoClose() {
    const duration = parseInt(this.getAttribute('duration')) || 5000;
    if (duration &gt; 0) {
      setTimeout(() =&gt; this.dismiss(), duration);
    }
  }

  dismiss() {
    this.classList.add('dismissing');
    setTimeout(() =&gt; this.remove(), 300);
  }
}

customElements.define('toast-notification', ToastNotification, {
  extends: 'div',
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Usage: Toast</h4>
    <pre><code class="language-html">&lt;div is="toast-notification" 
     type="success" 
     duration="3000" 
     dismissible&gt;
  ✅ Changes saved successfully!
&lt;/div&gt;</code></pre>
    <pre class="fragment"><code class="language-javascript">// Programmatic creation
function showToast(message, type = 'info') {
  const toast = document.createElement('div', { 
    is: 'toast-notification' 
  });
  toast.textContent = message;
  toast.setAttribute('type', type);
  toast.setAttribute('duration', '4000');
  toast.setAttribute('dismissible', '');
  
  document.body.appendChild(toast);
  
  return toast;
}

showToast('Hello World!', 'success');</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Example 2: Accordion Panel</h4>
    <pre><code class="language-javascript">class AccordionPanel extends HTMLDetailsElement {
  connectedCallback() {
    this.setupAccessibility();
    this.setupAnimation();
  }

  setupAccessibility() {
    const summary = this.querySelector('summary');
    if (summary) {
      summary.setAttribute('role', 'button');
      summary.setAttribute('aria-expanded', String(this.open));
      
      this.addEventListener('toggle', () =&gt; {
        summary.setAttribute('aria-expanded', String(this.open));
      });
    }
  }

  setupAnimation() {
    const content = this.querySelector('.accordion-content');
    if (!content) return;

    this.addEventListener('toggle', () =&gt; {
      if (this.open) {
        this.animateOpen(content);
      } else {
        this.animateClose(content);
      }
    });
  }

  animateOpen(element) {
    element.style.overflow = 'hidden';
    const height = element.scrollHeight;
    element.animate([
      { height: '0px', opacity: 0 },
      { height: `${height}px`, opacity: 1 }
    ], {
      duration: 300,
      easing: 'ease-out'
    });
  }

  animateClose(element) {
    const height = element.scrollHeight;
    element.animate([
      { height: `${height}px`, opacity: 1 },
      { height: '0px', opacity: 0 }
    ], {
      duration: 300,
      easing: 'ease-in'
    });
  }
}

customElements.define('accordion-panel', AccordionPanel, {
  extends: 'details',
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Example 3: Copy Button</h4>
    <pre><code class="language-javascript">class CopyButton extends HTMLButtonElement {
  connectedCallback() {
    this.textContent = this.getAttribute('label') || 'Copy';
    this.addEventListener('click', this.copyToClipboard);
  }

  async copyToClipboard() {
    const targetId = this.getAttribute('target');
    const target = document.getElementById(targetId);
    
    if (!target) return;

    try {
      const text = target.textContent || target.value;
      await navigator.clipboard.writeText(text);
      
      this.showSuccess();
      this.dispatchEvent(new CustomEvent('copied', {
        detail: { text },
        bubbles: true,
      }));
    } catch (error) {
      this.showError();
      console.error('Copy failed:', error);
    }
  }

  showSuccess() {
    const original = this.textContent;
    this.textContent = '✅ Copied!';
    this.disabled = true;
    
    setTimeout(() =&gt; {
      this.textContent = original;
      this.disabled = false;
    }, 2000);
  }

  showError() {
    this.textContent = '❌ Failed';
    setTimeout(() =&gt; {
      this.textContent = this.getAttribute('label') || 'Copy';
    }, 2000);
  }
}

customElements.define('copy-button', CopyButton, {
  extends: 'button',
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Resources</h4>
    <ul>
      <li class="fragment">
        📚 <strong>MDN Web Docs:</strong> Complete Custom Elements documentation
      </li>
      <li class="fragment">
        💻 <strong>GitHub:</strong> Open-source component libraries
      </li>
      <li class="fragment">
        🎨 <strong>CodePen:</strong> Interactive examples and demos
      </li>
      <li class="fragment">
        🔧 <strong>Web.dev:</strong> Best practices and patterns
      </li>
    </ul>
    <p class="fragment" style="margin-top: 2em">
      🔗 Links to full examples available in the slides repository
    </p>
  </section>
</section>


  <!-- Advanced Topics: Slides 25-35 -->
  <section>
  <section data-transition="slide">
    <h3>Advanced <mark>DOM Manipulation</mark></h3>
    <p>Best practices for efficient and safe DOM operations</p>
  </section>
  <section data-transition="slide">
    <h4>innerHTML vs createElement</h4>
    <pre><code class="language-javascript">class ProductCard extends HTMLDivElement {
  // ❌ Bad: innerHTML is slower and loses event listeners
  renderWithInnerHTML(product) {
    this.innerHTML = `
      &lt;h3&gt;${product.name}&lt;/h3&gt;
      &lt;p&gt;${product.description}&lt;/p&gt;
      &lt;button&gt;Add to Cart&lt;/button&gt;
    `;
    // Event listeners must be re-attached!
  }

  // ✅ Good: createElement is faster and preserves references
  renderWithCreateElement(product) {
    const title = document.createElement('h3');
    title.textContent = product.name;
    
    const desc = document.createElement('p');
    desc.textContent = product.description;
    
    const button = document.createElement('button');
    button.textContent = 'Add to Cart';
    button.onclick = () =&gt; this.addToCart(product);
    
    this.replaceChildren(title, desc, button);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>DocumentFragment for Batch Operations</h4>
    <pre><code class="language-javascript">class ItemList extends HTMLUListElement {
  set items(items) {
    // ✅ Best practice: Use DocumentFragment for multiple insertions
    const fragment = document.createDocumentFragment();
    
    items.forEach(item =&gt; {
      const li = document.createElement('li');
      li.textContent = item.name;
      li.dataset.id = item.id;
      li.onclick = () =&gt; this.handleItemClick(item);
      
      fragment.appendChild(li);
    });
    
    // Single reflow/repaint instead of N reflows
    this.replaceChildren(fragment);
  }

  // ❌ Bad: Multiple DOM insertions cause multiple reflows
  addItemsSlow(items) {
    this.innerHTML = '';
    items.forEach(item =&gt; {
      const li = document.createElement('li');
      li.textContent = item.name;
      this.appendChild(li); // Triggers reflow each time!
    });
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>XSS Prevention</h4>
    <pre><code class="language-javascript">class CommentBox extends HTMLDivElement {
  // ❌ DANGER: XSS vulnerability!
  addCommentUnsafe(text) {
    this.innerHTML += `&lt;p&gt;${text}&lt;/p&gt;`;
    // If text contains: &lt;img src=x onerror="alert('XSS')"&gt;
    // The script will execute!
  }

  // ✅ Safe: Use textContent or sanitize
  addCommentSafe(text) {
    const p = document.createElement('p');
    p.textContent = text; // Automatically escapes HTML
    this.appendChild(p);
  }

  // ✅ Safe: Use DOMPurify for rich content
  addCommentWithHTML(html) {
    const clean = DOMPurify.sanitize(html);
    const wrapper = document.createElement('div');
    wrapper.innerHTML = clean;
    this.appendChild(wrapper);
  }

  // ✅ Safe: Use template literals with sanitization
  addCommentTemplate(author, text) {
    const sanitizedAuthor = this.escapeHTML(author);
    const sanitizedText = this.escapeHTML(text);
    
    this.insertAdjacentHTML('beforeend', `
      &lt;article&gt;
        &lt;strong&gt;${sanitizedAuthor}&lt;/strong&gt;
        &lt;p&gt;${sanitizedText}&lt;/p&gt;
      &lt;/article&gt;
    `);
  }

  escapeHTML(str) {
    const div = document.createElement('div');
    div.textContent = str;
    return div.innerHTML;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Efficient DOM Queries</h4>
    <pre><code class="language-javascript">class DataGrid extends HTMLTableElement {
  constructor() {
    super();
    // ✅ Cache DOM references
    this._tbody = null;
    this._headerRow = null;
  }

  connectedCallback() {
    // Query once and cache
    this._tbody = this.querySelector('tbody');
    this._headerRow = this.querySelector('thead tr');
  }

  // ❌ Bad: Queries DOM every time
  getCellSlow(row, col) {
    return this.querySelector(`tbody tr:nth-child(${row}) td:nth-child(${col})`);
  }

  // ✅ Good: Use cached references
  getCellFast(row, col) {
    const rows = this._tbody.children;
    if (row &lt; rows.length) {
      const cells = rows[row].children;
      if (col &lt; cells.length) {
        return cells[col];
      }
    }
    return null;
  }

  // ✅ Best: Use data structures
  updateCell(rowIndex, colIndex, value) {
    if (!this._cellCache) {
      this._cellCache = Array.from(this._tbody.children)
        .map(row =&gt; Array.from(row.children));
    }
    
    const cell = this._cellCache[rowIndex]?.[colIndex];
    if (cell) {
      cell.textContent = value;
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Performance Monitoring</h4>
    <pre><code class="language-javascript">class PerformantComponent extends HTMLDivElement {
  render() {
    // Measure render performance
    const startTime = performance.now();
    
    // Do rendering work
    this.buildDOM();
    
    const endTime = performance.now();
    const duration = endTime - startTime;
    
    // Log slow renders
    if (duration &gt; 16) { // More than one frame (60fps)
      console.warn(`Slow render: ${duration.toFixed(2)}ms`);
    }
    
    // Use Performance API for detailed metrics
    performance.measure('component-render', {
      start: startTime,
      end: endTime,
    });
  }

  buildDOM() {
    // Use requestAnimationFrame for smooth updates
    requestAnimationFrame(() =&gt; {
      const fragment = this.createContent();
      this.replaceChildren(fragment);
    });
  }
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Content Distribution</mark> Patterns</h3>
    <p>Managing child content without Shadow DOM slots</p>
  </section>
  <section data-transition="slide">
    <h4>Named Regions Pattern</h4>
    <pre><code class="language-javascript">class CardLayout extends HTMLDivElement {
  connectedCallback() {
    this.distributeContent();
  }

  distributeContent() {
    // Find content by data attributes
    const header = this.querySelector('[slot="header"]');
    const body = this.querySelector('[slot="body"]');
    const footer = this.querySelector('[slot="footer"]');
    
    // Create structure
    const wrapper = document.createDocumentFragment();
    
    if (header) {
      const headerDiv = document.createElement('div');
      headerDiv.className = 'card-header';
      headerDiv.appendChild(header);
      wrapper.appendChild(headerDiv);
    }
    
    if (body) {
      const bodyDiv = document.createElement('div');
      bodyDiv.className = 'card-body';
      bodyDiv.appendChild(body);
      wrapper.appendChild(bodyDiv);
    }
    
    if (footer) {
      const footerDiv = document.createElement('div');
      footerDiv.className = 'card-footer';
      footerDiv.appendChild(footer);
      wrapper.appendChild(footerDiv);
    }
    
    this.replaceChildren(wrapper);
  }
}</code></pre>
    <pre><code class="language-html">&lt;div is="card-layout"&gt;
  &lt;h2 slot="header"&gt;Card Title&lt;/h2&gt;
  &lt;p slot="body"&gt;Card content goes here&lt;/p&gt;
  &lt;button slot="footer"&gt;Action&lt;/button&gt;
&lt;/div&gt;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Content Projection with Classes</h4>
    <pre><code class="language-javascript">class TabContainer extends HTMLDivElement {
  connectedCallback() {
    this.setupTabs();
  }

  setupTabs() {
    // Find all tab panels by class
    const panels = Array.from(this.querySelectorAll('.tab-panel'));
    
    // Create tab navigation
    const nav = document.createElement('nav');
    nav.className = 'tab-nav';
    nav.setAttribute('role', 'tablist');
    
    panels.forEach((panel, index) =&gt; {
      const title = panel.dataset.title || `Tab ${index + 1}`;
      const button = this.createTabButton(title, panel, index);
      nav.appendChild(button);
      
      // Set up panel
      panel.hidden = index !== 0;
      panel.setAttribute('role', 'tabpanel');
    });
    
    // Insert navigation before panels
    this.insertBefore(nav, this.firstChild);
  }

  createTabButton(title, panel, index) {
    const button = document.createElement('button');
    button.textContent = title;
    button.setAttribute('role', 'tab');
    button.onclick = () =&gt; this.showTab(panel);
    return button;
  }

  showTab(targetPanel) {
    this.querySelectorAll('.tab-panel').forEach(panel =&gt; {
      panel.hidden = panel !== targetPanel;
    });
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Dynamic Content Wrapping</h4>
    <pre><code class="language-javascript">class GridLayout extends HTMLDivElement {
  connectedCallback() {
    this.wrapChildren();
    this.observeChanges();
  }

  wrapChildren() {
    // Wrap each direct child in a grid item
    const children = Array.from(this.children);
    const fragment = document.createDocumentFragment();
    
    children.forEach(child =&gt; {
      const wrapper = document.createElement('div');
      wrapper.className = 'grid-item';
      wrapper.appendChild(child);
      fragment.appendChild(wrapper);
    });
    
    this.replaceChildren(fragment);
  }

  observeChanges() {
    // Watch for new children being added
    const observer = new MutationObserver(mutations =&gt; {
      mutations.forEach(mutation =&gt; {
        mutation.addedNodes.forEach(node =&gt; {
          if (node.nodeType === 1 &amp;&amp; !node.classList.contains('grid-item')) {
            this.wrapChild(node);
          }
        });
      });
    });
    
    observer.observe(this, { childList: true });
  }

  wrapChild(child) {
    const wrapper = document.createElement('div');
    wrapper.className = 'grid-item';
    child.replaceWith(wrapper);
    wrapper.appendChild(child);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Content Filtering</h4>
    <pre><code class="language-javascript">class FilterableList extends HTMLUListElement {
  constructor() {
    super();
    this._originalChildren = [];
  }

  connectedCallback() {
    // Store original children
    this._originalChildren = Array.from(this.children);
    this.setupFilter();
  }

  setupFilter() {
    const input = document.createElement('input');
    input.type = 'search';
    input.placeholder = 'Filter items...';
    input.oninput = (e) =&gt; this.filter(e.target.value);
    
    this.insertBefore(input, this.firstChild);
  }

  filter(query) {
    const lowerQuery = query.toLowerCase();
    
    // Hide/show items based on query
    this._originalChildren.forEach(child =&gt; {
      const text = child.textContent.toLowerCase();
      const matches = text.includes(lowerQuery);
      
      child.hidden = !matches;
      child.setAttribute('aria-hidden', String(!matches));
    });
    
    // Announce results
    const visibleCount = this._originalChildren.filter(c =&gt; !c.hidden).length;
    this.announceResults(visibleCount);
  }

  announceResults(count) {
    const announcement = `${count} items found`;
    this.setAttribute('aria-label', announcement);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Template Cloning</h4>
    <pre><code class="language-javascript">class RepeatList extends HTMLUListElement {
  set items(items) {
    // Get template from within component
    const template = this.querySelector('template');
    if (!template) return;
    
    const fragment = document.createDocumentFragment();
    
    items.forEach(item =&gt; {
      // Clone template content
      const clone = template.content.cloneNode(true);
      
      // Fill in data
      this.populateTemplate(clone, item);
      fragment.appendChild(clone);
    });
    
    // Replace all children except template
    const children = Array.from(this.children)
      .filter(child =&gt; child.tagName !== 'TEMPLATE');
    children.forEach(child =&gt; child.remove());
    
    this.appendChild(fragment);
  }

  populateTemplate(clone, data) {
    // Find and fill placeholders
    clone.querySelectorAll('[data-bind]').forEach(el =&gt; {
      const key = el.dataset.bind;
      if (data[key]) {
        el.textContent = data[key];
      }
    });
  }
}</code></pre>
    <pre><code class="language-html">&lt;ul is="repeat-list"&gt;
  &lt;template&gt;
    &lt;li&gt;
      &lt;strong data-bind="name"&gt;&lt;/strong&gt;
      &lt;span data-bind="description"&gt;&lt;/span&gt;
    &lt;/li&gt;
  &lt;/template&gt;
&lt;/ul&gt;</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Advanced <mark>Lifecycle</mark> Patterns</h3>
    <p>Mastering component lifecycle for robust applications</p>
  </section>
  <section data-transition="slide">
    <h4>Lazy Initialization</h4>
    <pre><code class="language-javascript">class LazyComponent extends HTMLDivElement {
  constructor() {
    super();
    this._initialized = false;
    this._initPromise = null;
  }

  connectedCallback() {
    // Don't initialize immediately
    // Wait for user interaction or visibility
    this.setupLazyInit();
  }

  setupLazyInit() {
    // Option 1: Initialize on first interaction
    this.addEventListener('click', this.ensureInitialized, { once: true });
    
    // Option 2: Initialize when visible (Intersection Observer)
    const observer = new IntersectionObserver((entries) =&gt; {
      if (entries[0].isIntersecting) {
        this.ensureInitialized();
        observer.disconnect();
      }
    });
    observer.observe(this);
  }

  async ensureInitialized() {
    if (this._initialized) return;
    
    if (!this._initPromise) {
      this._initPromise = this.initialize();
    }
    
    await this._initPromise;
    this._initialized = true;
  }

  async initialize() {
    // Load resources, fetch data, etc.
    const data = await fetch('/api/data').then(r =&gt; r.json());
    this.render(data);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Cleanup Management</h4>
    <pre><code class="language-javascript">class ManagedComponent extends HTMLDivElement {
  constructor() {
    super();
    this._cleanupFunctions = [];
    this._eventListeners = new Map();
  }

  connectedCallback() {
    this.setup();
  }

  disconnectedCallback() {
    this.cleanup();
  }

  // Helper to auto-cleanup event listeners
  addManagedListener(element, event, handler, options) {
    element.addEventListener(event, handler, options);
    
    this._cleanupFunctions.push(() =&gt; {
      element.removeEventListener(event, handler, options);
    });
  }

  // Helper to auto-cleanup intervals
  setManagedInterval(callback, delay) {
    const id = setInterval(callback, delay);
    
    this._cleanupFunctions.push(() =&gt; {
      clearInterval(id);
    });
    
    return id;
  }

  // Helper to auto-cleanup observers
  observeManaged(target, config) {
    const observer = new MutationObserver((mutations) =&gt; {
      this.handleMutations(mutations);
    });
    
    observer.observe(target, config);
    
    this._cleanupFunctions.push(() =&gt; {
      observer.disconnect();
    });
    
    return observer;
  }

  cleanup() {
    // Run all cleanup functions
    this._cleanupFunctions.forEach(fn =&gt; fn());
    this._cleanupFunctions = [];
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Reconnection Handling</h4>
    <pre><code class="language-javascript">class ReconnectableComponent extends HTMLDivElement {
  constructor() {
    super();
    this._connectionCount = 0;
  }

  connectedCallback() {
    this._connectionCount++;
    
    if (this._connectionCount === 1) {
      // First connection - full setup
      this.initialize();
    } else {
      // Reconnection - restore state
      this.restore();
    }
    
    this.resume();
  }

  disconnectedCallback() {
    // Pause ongoing operations
    this.pause();
    
    // Don't cleanup immediately - component might reconnect
    this._disconnectTimeout = setTimeout(() =&gt; {
      this.cleanup();
    }, 1000); // Grace period
  }

  restore() {
    // Clear cleanup timeout
    if (this._disconnectTimeout) {
      clearTimeout(this._disconnectTimeout);
      this._disconnectTimeout = null;
    }
    
    // Restore preserved state
    console.log('Component reconnected, restoring state');
  }

  pause() {
    // Pause animations, timers, etc.
    if (this._animationFrame) {
      cancelAnimationFrame(this._animationFrame);
    }
  }

  resume() {
    // Resume operations
    this.startAnimation();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Adopted Callback Pattern</h4>
    <pre><code class="language-javascript">class PortableComponent extends HTMLDivElement {
  adoptedCallback() {
    // Component moved to a new document
    console.log('Component moved to new document');
    
    // Re-establish document-specific connections
    this.reconnectToDocument();
  }

  reconnectToDocument() {
    // Update references to document-level services
    const doc = this.ownerDocument;
    
    // Re-query global elements
    this._form = doc.querySelector('form#main-form');
    
    // Re-attach to document events
    doc.addEventListener('theme-changed', this.handleThemeChange);
    
    // Update styles if needed
    this.updateStyleContext();
  }

  // Useful for iframes and document.adoptNode scenarios
  handleDocumentChange() {
    // Clean up old document references
    this.cleanupDocumentRefs();
    
    // Establish new ones
    this.reconnectToDocument();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Attribute Change Batching</h4>
    <pre><code class="language-javascript">class BatchedComponent extends HTMLDivElement {
  constructor() {
    super();
    this._pendingUpdates = new Set();
    this._updateScheduled = false;
  }

  static get observedAttributes() {
    return ['data', 'config', 'theme', 'layout'];
  }

  attributeChangedCallback(name, oldValue, newValue) {
    // Collect changes instead of updating immediately
    this._pendingUpdates.add(name);
    
    // Schedule batch update
    if (!this._updateScheduled) {
      this._updateScheduled = true;
      
      // Use microtask for immediate batching
      queueMicrotask(() =&gt; {
        this.processBatchedUpdates();
      });
    }
  }

  processBatchedUpdates() {
    // Process all pending attribute changes together
    const updates = Array.from(this._pendingUpdates);
    this._pendingUpdates.clear();
    this._updateScheduled = false;
    
    console.log(`Processing ${updates.length} attribute changes together`);
    
    // Single render for all changes
    this.render();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Lifecycle Best Practices</h4>
    <ul>
      <li class="fragment">
        <mark>Lazy initialize</mark> expensive operations
      </li>
      <li class="fragment">
        Always <mark>cleanup</mark> in disconnectedCallback
      </li>
      <li class="fragment">
        Handle <mark>reconnection</mark> gracefully
      </li>
      <li class="fragment">
        <mark>Batch</mark> attribute changes when possible
      </li>
      <li class="fragment">
        Use <mark>Intersection Observer</mark> for visibility-based init
      </li>
      <li class="fragment">
        Consider <mark>adoptedCallback</mark> for iframe usage
      </li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Advanced <mark>Event Patterns</mark></h3>
    <p>Sophisticated event handling and communication strategies</p>
  </section>
  <section data-transition="slide">
    <h4>Event Delegation with Data Attributes</h4>
    <pre><code class="language-javascript">class ActionableList extends HTMLUListElement {
  connectedCallback() {
    // Single event listener for all actions
    this.addEventListener('click', this.handleAction);
  }

  handleAction = (event) =&gt; {
    const target = event.target;
    
    // Find closest element with action
    const actionEl = target.closest('[data-action]');
    if (!actionEl) return;
    
    const action = actionEl.dataset.action;
    const itemId = actionEl.closest('[data-id]')?.dataset.id;
    
    // Route to appropriate handler
    switch (action) {
      case 'edit':
        this.handleEdit(itemId);
        break;
      case 'delete':
        this.handleDelete(itemId);
        break;
      case 'share':
        this.handleShare(itemId);
        break;
      default:
        console.warn(`Unknown action: ${action}`);
    }
  };

  disconnectedCallback() {
    this.removeEventListener('click', this.handleAction);
  }
}</code></pre>
    <pre><code class="language-html">&lt;ul is="actionable-list"&gt;
  &lt;li data-id="1"&gt;
    Item 1
    &lt;button data-action="edit"&gt;Edit&lt;/button&gt;
    &lt;button data-action="delete"&gt;Delete&lt;/button&gt;
    &lt;button data-action="share"&gt;Share&lt;/button&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Event Bus Pattern</h4>
    <pre><code class="language-javascript">// Global event bus
class EventBus extends EventTarget {
  static instance = new EventBus();
  
  emit(eventName, detail) {
    this.dispatchEvent(new CustomEvent(eventName, { detail }));
  }
  
  on(eventName, handler) {
    this.addEventListener(eventName, handler);
  }
  
  off(eventName, handler) {
    this.removeEventListener(eventName, handler);
  }
}

// Component using event bus
class SubscriberComponent extends HTMLDivElement {
  connectedCallback() {
    // Subscribe to global events
    this._handlers = {
      userLogin: (e) =&gt; this.handleUserLogin(e.detail),
      themeChange: (e) =&gt; this.handleThemeChange(e.detail),
    };
    
    EventBus.instance.on('user:login', this._handlers.userLogin);
    EventBus.instance.on('theme:change', this._handlers.themeChange);
  }

  disconnectedCallback() {
    // Unsubscribe
    EventBus.instance.off('user:login', this._handlers.userLogin);
    EventBus.instance.off('theme:change', this._handlers.themeChange);
  }
}

// Component emitting events
class PublisherComponent extends HTMLButtonElement {
  connectedCallback() {
    this.onclick = () =&gt; {
      EventBus.instance.emit('user:login', {
        userId: 123,
        username: 'john_doe',
      });
    };
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Event Throttling and Debouncing</h4>
    <pre><code class="language-javascript">class SearchInput extends HTMLInputElement {
  constructor() {
    super();
    this._searchTimeout = null;
  }

  connectedCallback() {
    // Debounce: Wait for user to stop typing
    this.addEventListener('input', this.handleInputDebounced);
    
    // Throttle: Limit scroll event frequency
    this.addEventListener('scroll', this.handleScrollThrottled);
  }

  // Debounce: Execute after delay, reset timer on each call
  handleInputDebounced = (event) =&gt; {
    clearTimeout(this._searchTimeout);
    
    this._searchTimeout = setTimeout(() =&gt; {
      this.performSearch(event.target.value);
    }, 300); // Wait 300ms after last keystroke
  };

  // Throttle: Execute at most once per interval
  handleScrollThrottled = (event) =&gt; {
    if (this._scrollThrottled) return;
    
    this._scrollThrottled = true;
    
    requestAnimationFrame(() =&gt; {
      this.handleScroll(event);
      this._scrollThrottled = false;
    });
  };

  performSearch(query) {
    this.dispatchEvent(new CustomEvent('search', {
      detail: { query },
      bubbles: true,
    }));
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Event Composition</h4>
    <pre><code class="language-javascript">class GestureButton extends HTMLButtonElement {
  constructor() {
    super();
    this._pressStart = 0;
    this._pressTimer = null;
  }

  connectedCallback() {
    this.addEventListener('pointerdown', this.handlePointerDown);
    this.addEventListener('pointerup', this.handlePointerUp);
    this.addEventListener('pointercancel', this.handlePointerCancel);
  }

  handlePointerDown = (event) =&gt; {
    this._pressStart = Date.now();
    
    // Detect long press
    this._pressTimer = setTimeout(() =&gt; {
      this.dispatchEvent(new CustomEvent('longpress', {
        detail: { duration: Date.now() - this._pressStart },
        bubbles: true,
      }));
    }, 500);
  };

  handlePointerUp = (event) =&gt; {
    const duration = Date.now() - this._pressStart;
    clearTimeout(this._pressTimer);
    
    if (duration &lt; 500) {
      // Short press - regular click
      this.dispatchEvent(new CustomEvent('shortpress', {
        detail: { duration },
        bubbles: true,
      }));
    }
  };

  handlePointerCancel = () =&gt; {
    clearTimeout(this._pressTimer);
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Promise-Based Events</h4>
    <pre><code class="language-javascript">class AsyncDialog extends HTMLDialogElement {
  // Return promise that resolves with user's choice
  async ask(question) {
    return new Promise((resolve) =&gt; {
      this.querySelector('p').textContent = question;
      
      const handleChoice = (event) =&gt; {
        const button = event.target.closest('button');
        if (!button) return;
        
        const choice = button.dataset.value;
        this.close();
        resolve(choice);
        
        // Cleanup
        this.removeEventListener('click', handleChoice);
      };
      
      this.addEventListener('click', handleChoice);
      this.showModal();
    });
  }
}

// Usage
const dialog = document.querySelector('dialog[is="async-dialog"]');
const answer = await dialog.ask('Do you want to continue?');

if (answer === 'yes') {
  // User clicked yes
} else {
  // User clicked no
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Event Replay Pattern</h4>
    <pre><code class="language-javascript">class EventRecorder extends HTMLDivElement {
  constructor() {
    super();
    this._eventLog = [];
    this._recording = false;
  }

  startRecording() {
    this._recording = true;
    this._eventLog = [];
    
    // Capture all events
    this.addEventListener('click', this.recordEvent, true);
    this.addEventListener('input', this.recordEvent, true);
    this.addEventListener('change', this.recordEvent, true);
  }

  stopRecording() {
    this._recording = false;
    this.removeEventListener('click', this.recordEvent, true);
    this.removeEventListener('input', this.recordEvent, true);
    this.removeEventListener('change', this.recordEvent, true);
  }

  recordEvent = (event) =&gt; {
    if (!this._recording) return;
    
    this._eventLog.push({
      type: event.type,
      target: event.target,
      timestamp: Date.now(),
      detail: event.detail,
    });
  };

  async replay(speed = 1) {
    for (const record of this._eventLog) {
      // Wait for original timing
      await new Promise(resolve =&gt; setTimeout(resolve, 100 / speed));
      
      // Dispatch recorded event
      const event = new CustomEvent(record.type, {
        detail: record.detail,
        bubbles: true,
      });
      record.target.dispatchEvent(event);
    }
  }
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Performance</mark> Optimization</h3>
    <p>Making components fast and efficient</p>
  </section>
  <section data-transition="slide">
    <h4>Rendering Optimization</h4>
    <pre><code class="language-javascript">class OptimizedList extends HTMLUListElement {
  constructor() {
    super();
    this._renderScheduled = false;
    this._pendingData = null;
  }

  set items(items) {
    this._pendingData = items;
    
    // Batch multiple updates into single render
    if (!this._renderScheduled) {
      this._renderScheduled = true;
      requestAnimationFrame(() =&gt; {
        this.render();
        this._renderScheduled = false;
      });
    }
  }

  render() {
    if (!this._pendingData) return;
    
    // Use virtual scrolling for large lists
    if (this._pendingData.length &gt; 100) {
      this.renderVirtual(this._pendingData);
    } else {
      this.renderFull(this._pendingData);
    }
  }

  renderVirtual(items) {
    // Only render visible items
    const itemHeight = 50;
    const scrollTop = this.scrollTop || 0;
    const visibleCount = Math.ceil(this.clientHeight / itemHeight);
    const startIndex = Math.floor(scrollTop / itemHeight);
    const endIndex = startIndex + visibleCount;
    
    const visibleItems = items.slice(startIndex, endIndex);
    
    // Set total height for scrollbar
    this.style.minHeight = `${items.length * itemHeight}px`;
    
    // Render only visible items
    this.renderItems(visibleItems, startIndex * itemHeight);
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Lazy Loading Content</h4>
    <pre><code class="language-javascript">class LazyImage extends HTMLImageElement {
  connectedCallback() {
    // Don't load image immediately
    this._originalSrc = this.src;
    this.src = this.dataset.placeholder || 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
    
    // Load when visible
    this.observeVisibility();
  }

  observeVisibility() {
    const observer = new IntersectionObserver((entries) =&gt; {
      entries.forEach(entry =&gt; {
        if (entry.isIntersecting) {
          this.loadImage();
          observer.disconnect();
        }
      });
    }, {
      rootMargin: '50px', // Start loading slightly before visible
    });
    
    observer.observe(this);
  }

  loadImage() {
    // Load actual image
    const img = new Image();
    img.onload = () =&gt; {
      this.src = this._originalSrc;
      this.classList.add('loaded');
    };
    img.onerror = () =&gt; {
      this.classList.add('error');
    };
    img.src = this._originalSrc;
  }
}

customElements.define('lazy-image', LazyImage, { extends: 'img' });</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Memory Management</h4>
    <pre><code class="language-javascript">class MemoryEfficientComponent extends HTMLDivElement {
  constructor() {
    super();
    this._cache = new WeakMap(); // Auto garbage collected
    this._listeners = new WeakMap();
  }

  // Use WeakMap for automatic cleanup
  setCachedData(element, data) {
    this._cache.set(element, data);
  }

  getCachedData(element) {
    return this._cache.get(element);
  }

  // Avoid memory leaks with proper cleanup
  attachListener(element, event, handler) {
    element.addEventListener(event, handler);
    
    // Store reference for cleanup
    if (!this._listeners.has(element)) {
      this._listeners.set(element, []);
    }
    this._listeners.get(element).push({ event, handler });
  }

  disconnectedCallback() {
    // Clean up all listeners
    this._listeners.forEach((listeners, element) =&gt; {
      listeners.forEach(({ event, handler }) =&gt; {
        element.removeEventListener(event, handler);
      });
    });
    
    // Clear references
    this._cache = new WeakMap();
    this._listeners = new WeakMap();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS Containment</h4>
    <pre><code class="language-javascript">class ContainedComponent extends HTMLDivElement {
  connectedCallback() {
    // Use CSS containment for better performance
    // Tells browser this element's internals don't affect outside
    this.style.contain = 'layout style paint';
    
    // For components with fixed size
    if (this.hasAttribute('width') &amp;&amp; this.hasAttribute('height')) {
      this.style.contain = 'strict';
    }
    
    // For absolutely positioned content
    if (this.dataset.isolated === 'true') {
      this.style.contain = 'layout paint';
    }
    
    this.render();
  }
}</code></pre>
    <pre><code class="language-css">/* CSS containment for better rendering performance */
.component {
  /* Layout: Internal layout doesn't affect external elements */
  contain: layout;
  
  /* Paint: Element's contents don't paint outside its bounds */
  contain: paint;
  
  /* Size: Element's size doesn't depend on descendants */
  contain: size;
  
  /* Style: Properties don't escape element boundary */
  contain: style;
  
  /* Strict: All containment types */
  contain: strict;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>will-change Property</h4>
    <pre><code class="language-javascript">class AnimatedComponent extends HTMLDivElement {
  connectedCallback() {
    this.setupAnimation();
  }

  setupAnimation() {
    // Hint to browser about upcoming changes
    this.addEventListener('mouseenter', () =&gt; {
      // Prepare for animation
      this.style.willChange = 'transform, opacity';
    });
    
    this.addEventListener('mouseleave', () =&gt; {
      // Remove hint after animation
      this.style.willChange = 'auto';
    });
  }

  animate() {
    // Apply will-change before expensive operations
    this.style.willChange = 'transform';
    
    requestAnimationFrame(() =&gt; {
      this.style.transform = 'scale(1.2)';
      
      // Remove after animation completes
      setTimeout(() =&gt; {
        this.style.willChange = 'auto';
      }, 300);
    });
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Performance Measurement</h4>
    <pre><code class="language-javascript">class MeasuredComponent extends HTMLDivElement {
  connectedCallback() {
    performance.mark('component-connect-start');
    
    this.initialize();
    
    performance.mark('component-connect-end');
    performance.measure(
      'component-connection',
      'component-connect-start',
      'component-connect-end'
    );
    
    // Log performance
    const measure = performance.getEntriesByName('component-connection')[0];
    console.log(`Component connected in ${measure.duration.toFixed(2)}ms`);
  }

  render() {
    const renderStart = performance.now();
    
    // Do rendering
    this.buildDOM();
    
    const renderEnd = performance.now();
    const duration = renderEnd - renderStart;
    
    // Track slow renders
    if (duration &gt; 16.67) { // More than one frame at 60fps
      console.warn(`Slow render detected: ${duration.toFixed(2)}ms`);
    }
  }

  // Use Performance Observer for monitoring
  static startMonitoring() {
    const observer = new PerformanceObserver((list) =&gt; {
      list.getEntries().forEach(entry =&gt; {
        if (entry.duration &gt; 50) {
          console.warn(`Long task detected: ${entry.duration.toFixed(2)}ms`);
        }
      });
    });
    
    observer.observe({ entryTypes: ['measure', 'longtask'] });
  }
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Testing</mark> Custom Elements</h3>
    <p>Strategies for testing web components effectively</p>
  </section>
  <section data-transition="slide">
    <h4>Unit Testing Setup</h4>
    <pre><code class="language-javascript">// counter-button.test.js
import { expect } from '@esm-bundle/chai';
import './counter-button.js';

describe('CounterButton', () =&gt; {
  let element;

  beforeEach(() =&gt; {
    // Create fresh instance for each test
    element = document.createElement('button', { is: 'counter-button' });
    document.body.appendChild(element);
  });

  afterEach(() =&gt; {
    // Clean up after each test
    element.remove();
  });

  it('should initialize with count of 0', () =&gt; {
    expect(element.count).to.equal(0);
    expect(element.textContent).to.include('0');
  });

  it('should increment count on click', () =&gt; {
    element.click();
    expect(element.count).to.equal(1);
  });

  it('should dispatch count-changed event', (done) =&gt; {
    element.addEventListener('count-changed', (e) =&gt; {
      expect(e.detail.newValue).to.equal(1);
      done();
    });
    element.click();
  });
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Testing Lifecycle</h4>
    <pre><code class="language-javascript">describe('Component Lifecycle', () =&gt; {
  it('should call connectedCallback when added to DOM', () =&gt; {
    const element = document.createElement('div', { is: 'my-component' });
    const spy = sinon.spy(element, 'connectedCallback');
    
    document.body.appendChild(element);
    
    expect(spy.calledOnce).to.be.true;
    element.remove();
  });

  it('should call disconnectedCallback when removed', () =&gt; {
    const element = document.createElement('div', { is: 'my-component' });
    document.body.appendChild(element);
    
    const spy = sinon.spy(element, 'disconnectedCallback');
    element.remove();
    
    expect(spy.calledOnce).to.be.true;
  });

  it('should call attributeChangedCallback', async () =&gt; {
    const element = document.createElement('div', { is: 'my-component' });
    document.body.appendChild(element);
    
    const spy = sinon.spy(element, 'attributeChangedCallback');
    element.setAttribute('data-value', '42');
    
    expect(spy.calledWith('data-value', null, '42')).to.be.true;
    element.remove();
  });
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Testing User Interactions</h4>
    <pre><code class="language-javascript">describe('User Interactions', () =&gt; {
  it('should handle keyboard navigation', () =&gt; {
    const list = document.createElement('ul', { is: 'keyboard-list' });
    list.innerHTML = `
      &lt;li tabindex="0"&gt;Item 1&lt;/li&gt;
      &lt;li tabindex="0"&gt;Item 2&lt;/li&gt;
      &lt;li tabindex="0"&gt;Item 3&lt;/li&gt;
    `;
    document.body.appendChild(list);
    
    const firstItem = list.children[0];
    firstItem.focus();
    
    // Simulate arrow down key
    const event = new KeyboardEvent('keydown', { key: 'ArrowDown' });
    list.dispatchEvent(event);
    
    expect(document.activeElement).to.equal(list.children[1]);
    list.remove();
  });

  it('should handle form submission', async () =&gt; {
    const input = document.createElement('input', { is: 'validated-input' });
    input.setAttribute('required', '');
    document.body.appendChild(input);
    
    // Test validation
    expect(input.checkValidity()).to.be.false;
    
    input.value = 'test';
    expect(input.checkValidity()).to.be.true;
    
    input.remove();
  });
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Testing Async Operations</h4>
    <pre><code class="language-javascript">describe('Async Operations', () =&gt; {
  it('should fetch and render data', async () =&gt; {
    // Mock fetch
    global.fetch = sinon.stub().resolves({
      ok: true,
      json: async () =&gt; ({ items: ['A', 'B', 'C'] })
    });
    
    const list = document.createElement('ul', { is: 'data-list' });
    document.body.appendChild(list);
    
    // Trigger data fetch
    await list.loadData();
    
    // Wait for render
    await new Promise(resolve =&gt; setTimeout(resolve, 0));
    
    expect(list.children.length).to.equal(3);
    expect(list.children[0].textContent).to.equal('A');
    
    list.remove();
  });

  it('should handle loading states', async () =&gt; {
    const button = document.createElement('button', { is: 'async-button' });
    document.body.appendChild(button);
    
    expect(button.loading).to.be.false;
    
    const promise = button.performAction();
    expect(button.loading).to.be.true;
    expect(button.disabled).to.be.true;
    
    await promise;
    expect(button.loading).to.be.false;
    expect(button.disabled).to.be.false;
    
    button.remove();
  });
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Integration Testing</h4>
    <pre><code class="language-javascript">describe('Component Integration', () =&gt; {
  it('should communicate between components', async () =&gt; {
    // Create parent and child
    const parent = document.createElement('div', { is: 'parent-component' });
    const child = document.createElement('button', { is: 'child-component' });
    parent.appendChild(child);
    document.body.appendChild(parent);
    
    // Set up event listener
    let receivedData = null;
    parent.addEventListener('child-clicked', (e) =&gt; {
      receivedData = e.detail;
    });
    
    // Trigger interaction
    child.click();
    
    // Verify communication
    expect(receivedData).to.not.be.null;
    expect(receivedData.source).to.equal('child');
    
    parent.remove();
  });

  it('should work with forms', () =&gt; {
    const form = document.createElement('form');
    const input = document.createElement('input', { is: 'custom-input' });
    input.name = 'username';
    input.value = 'john';
    
    form.appendChild(input);
    document.body.appendChild(form);
    
    const formData = new FormData(form);
    expect(formData.get('username')).to.equal('john');
    
    form.remove();
  });
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Visual Regression Testing</h4>
    <pre><code class="language-javascript">// Using Playwright or Puppeteer
describe('Visual Tests', () =&gt; {
  it('should match screenshot', async () =&gt; {
    await page.goto('http://localhost:8000/test.html');
    
    // Wait for component to render
    await page.waitForSelector('[is="my-component"]');
    
    // Take screenshot
    const screenshot = await page.screenshot();
    
    // Compare with baseline
    expect(screenshot).toMatchImageSnapshot();
  });

  it('should render correctly in different states', async () =&gt; {
    const component = await page.$('[is="stateful-component"]');
    
    // Test initial state
    await component.screenshot({ path: 'initial.png' });
    
    // Test loading state
    await component.evaluate(el =&gt; el.loading = true);
    await component.screenshot({ path: 'loading.png' });
    
    // Test error state
    await component.evaluate(el =&gt; el.error = 'Failed');
    await component.screenshot({ path: 'error.png' });
  });
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Testing Best Practices</h4>
    <ul>
      <li class="fragment">
        Test <mark>behavior, not implementation</mark>
      </li>
      <li class="fragment">
        Always <mark>clean up</mark> after tests (remove elements)
      </li>
      <li class="fragment">
        Test <mark>accessibility</mark> (ARIA, keyboard navigation)
      </li>
      <li class="fragment">
        Mock <mark>external dependencies</mark> (fetch, localStorage)
      </li>
      <li class="fragment">
        Test <mark>edge cases</mark> and error states
      </li>
      <li class="fragment">
        Use <mark>real browser</mark> environments when possible
      </li>
      <li class="fragment">
        Consider <mark>visual regression</mark> tests for UI components
      </li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>TypeScript</mark> Integration</h3>
    <p>Adding type safety to Custom Elements</p>
  </section>
  <section data-transition="slide">
    <h4>Basic TypeScript Definition</h4>
    <pre><code class="language-typescript">// counter-button.ts
interface CounterButtonElement extends HTMLButtonElement {
  count: number;
  increment(): void;
  decrement(): void;
}

class CounterButton extends HTMLButtonElement implements CounterButtonElement {
  private _count: number = 0;

  get count(): number {
    return this._count;
  }

  set count(value: number) {
    this._count = value;
    this.render();
  }

  connectedCallback(): void {
    this.addEventListener('click', this.increment);
    this.render();
  }

  disconnectedCallback(): void {
    this.removeEventListener('click', this.increment);
  }

  increment = (): void =&gt; {
    this.count++;
  };

  decrement(): void {
    this.count--;
  }

  private render(): void {
    this.textContent = `Count: ${this._count}`;
  }
}

customElements.define('counter-button', CounterButton, { extends: 'button' });</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Type-Safe Attributes</h4>
    <pre><code class="language-typescript">type ThemeValue = 'light' | 'dark' | 'auto';
type SizeValue = 'small' | 'medium' | 'large';

interface ThemedButtonAttributes {
  theme: ThemeValue;
  size: SizeValue;
  disabled: boolean;
}

class ThemedButton extends HTMLButtonElement {
  static get observedAttributes(): string[] {
    return ['theme', 'size', 'disabled'];
  }

  get theme(): ThemeValue {
    return (this.getAttribute('theme') as ThemeValue) || 'auto';
  }

  set theme(value: ThemeValue) {
    this.setAttribute('theme', value);
  }

  get size(): SizeValue {
    return (this.getAttribute('size') as SizeValue) || 'medium';
  }

  set size(value: SizeValue) {
    this.setAttribute('size', value);
  }

  attributeChangedCallback(
    name: keyof ThemedButtonAttributes,
    oldValue: string | null,
    newValue: string | null
  ): void {
    if (oldValue === newValue) return;
    
    switch (name) {
      case 'theme':
        this.updateTheme(newValue as ThemeValue);
        break;
      case 'size':
        this.updateSize(newValue as SizeValue);
        break;
    }
  }

  private updateTheme(theme: ThemeValue): void {
    this.className = `btn btn-${theme}`;
  }

  private updateSize(size: SizeValue): void {
    this.dataset.size = size;
  }
}

customElements.define('themed-button', ThemedButton, { extends: 'button' });</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Event Type Definitions</h4>
    <pre><code class="language-typescript">// Define custom event types
interface CountChangedEvent extends CustomEvent {
  detail: {
    oldValue: number;
    newValue: number;
    delta: number;
  };
}

interface ItemSelectedEvent extends CustomEvent {
  detail: {
    itemId: string;
    item: unknown;
  };
}

// Extend CustomElementEventMap for better autocomplete
declare global {
  interface HTMLElementEventMap {
    'count-changed': CountChangedEvent;
    'item-selected': ItemSelectedEvent;
  }
}

class CounterButton extends HTMLButtonElement {
  private _count: number = 0;

  increment(): void {
    const oldValue = this._count;
    this._count++;
    
    // Type-safe event dispatch
    const event: CountChangedEvent = new CustomEvent('count-changed', {
      detail: {
        oldValue,
        newValue: this._count,
        delta: 1,
      },
      bubbles: true,
    });
    
    this.dispatchEvent(event);
  }
}

// Usage with type safety
const button = document.querySelector('[is="counter-button"]') as CounterButton;
button.addEventListener('count-changed', (event) =&gt; {
  // event is typed as CountChangedEvent
  console.log(event.detail.newValue); // ✅ Autocomplete works!
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Generic Components</h4>
    <pre><code class="language-typescript">// Generic data list component
interface DataItem {
  id: string | number;
  [key: string]: unknown;
}

class DataList&lt;T extends DataItem&gt; extends HTMLUListElement {
  private _items: T[] = [];
  private _renderItem?: (item: T) =&gt; HTMLElement;

  set items(items: T[]) {
    this._items = items;
    this.render();
  }

  get items(): T[] {
    return [...this._items];
  }

  set renderItem(fn: (item: T) =&gt; HTMLElement) {
    this._renderItem = fn;
    this.render();
  }

  render(): void {
    const fragment = document.createDocumentFragment();
    
    this._items.forEach(item =&gt; {
      const element = this._renderItem
        ? this._renderItem(item)
        : this.defaultRender(item);
      
      fragment.appendChild(element);
    });
    
    this.replaceChildren(fragment);
  }

  private defaultRender(item: T): HTMLElement {
    const li = document.createElement('li');
    li.textContent = String(item.id);
    return li;
  }

  findById(id: T['id']): T | undefined {
    return this._items.find(item =&gt; item.id === id);
  }
}

// Usage with specific type
interface User extends DataItem {
  id: number;
  name: string;
  email: string;
}

const userList = document.createElement('ul', {
  is: 'data-list'
}) as DataList&lt;User&gt;;

userList.items = [
  { id: 1, name: 'John', email: 'john@example.com' }
];

const user = userList.findById(1); // Type: User | undefined</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Decorators (Experimental)</h4>
    <pre><code class="language-typescript">// Using decorators for cleaner syntax
function customElement(tagName: string, options?: ElementDefinitionOptions) {
  return function (target: CustomElementConstructor) {
    customElements.define(tagName, target, options);
  };
}

function property(options?: PropertyDeclaration) {
  return function (target: any, propertyKey: string) {
    const attributeName = options?.attribute || propertyKey;
    
    Object.defineProperty(target, propertyKey, {
      get() {
        return this.getAttribute(attributeName);
      },
      set(value: any) {
        this.setAttribute(attributeName, String(value));
      },
    });
  };
}

function event(eventName: string) {
  return function (
    target: any,
    propertyKey: string,
    descriptor: PropertyDescriptor
  ) {
    const original = descriptor.value;
    
    descriptor.value = function (...args: any[]) {
      const result = original.apply(this, args);
      this.dispatchEvent(new CustomEvent(eventName, { bubbles: true }));
      return result;
    };
  };
}

// Usage
@customElement('fancy-button', { extends: 'button' })
class FancyButton extends HTMLButtonElement {
  @property()
  label?: string;

  @property({ attribute: 'icon-name' })
  icon?: string;

  @event('button-clicked')
  handleClick(): void {
    console.log('Button clicked!');
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Type Declaration Files</h4>
    <pre><code class="language-typescript">// counter-button.d.ts
declare global {
  interface HTMLElementTagNameMap {
    'counter-button': CounterButtonElement;
  }
}

export interface CounterButtonElement extends HTMLButtonElement {
  count: number;
  increment(): void;
  decrement(): void;
  reset(): void;
}

export class CounterButton extends HTMLButtonElement implements CounterButtonElement {
  count: number;
  increment(): void;
  decrement(): void;
  reset(): void;
}

// Now TypeScript knows about the element
const button = document.createElement('button', {
  is: 'counter-button'
}) as CounterButtonElement;

button.count = 10; // ✅ Type-safe
button.increment(); // ✅ Autocomplete works
button.unknownMethod(); // ❌ TypeScript error</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Build Tools</mark> &amp; Bundling</h3>
    <p>Integrating Custom Elements in modern build pipelines</p>
  </section>
  <section data-transition="slide">
    <h4>No Build Approach</h4>
    <pre><code class="language-html">&lt;!-- Native ES modules, no build required --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;No Build Setup&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;button is="counter-button"&gt;Count: 0&lt;/button&gt;

  &lt;script type="module"&gt;
    // Import directly from source
    import './components/counter-button.js';
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    <pre><code class="language-javascript">// components/counter-button.js
class CounterButton extends HTMLButtonElement {
  constructor() {
    super();
    this.count = 0;
  }

  connectedCallback() {
    this.addEventListener('click', () =&gt; {
      this.count++;
      this.textContent = `Count: ${this.count}`;
    });
  }
}

customElements.define('counter-button', CounterButton, { extends: 'button' });

// Works directly in modern browsers!</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Vite Configuration</h4>
    <pre><code class="language-javascript">// vite.config.js
import { defineConfig } from 'vite';

export default defineConfig({
  build: {
    lib: {
      entry: 'src/index.js',
      formats: ['es'],
      fileName: 'custom-elements',
    },
    rollupOptions: {
      // Preserve custom elements
      output: {
        preserveModules: true,
      },
    },
  },
  
  // Support for extending built-in elements
  optimizeDeps: {
    include: ['@ungap/custom-elements'],
  },
});</code></pre>
    <pre><code class="language-json">{
  "type": "module",
  "main": "./dist/custom-elements.js",
  "exports": {
    ".": "./dist/custom-elements.js",
    "./counter-button": "./dist/components/counter-button.js"
  },
  "files": ["dist"]
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Webpack Configuration</h4>
    <pre><code class="language-javascript">// webpack.config.js
module.exports = {
  entry: './src/index.js',
  output: {
    filename: 'custom-elements.js',
    library: {
      type: 'module',
    },
  },
  experiments: {
    outputModule: true,
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: [
              ['@babel/preset-env', {
                targets: {
                  esmodules: true,
                },
              }],
            ],
          },
        },
      },
    ],
  },
};</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Code Splitting</h4>
    <pre><code class="language-javascript">// Lazy load components
class ComponentLoader extends HTMLDivElement {
  async connectedCallback() {
    const componentName = this.getAttribute('component');
    
    if (!componentName) return;
    
    try {
      // Dynamic import for code splitting
      await import(`./components/${componentName}.js`);
      
      // Component is now registered
      this.replaceWith(
        document.createElement(this.getAttribute('tag'), {
          is: componentName,
        })
      );
    } catch (error) {
      console.error(`Failed to load component: ${componentName}`, error);
    }
  }
}

customElements.define('component-loader', ComponentLoader, { extends: 'div' });</code></pre>
    <pre><code class="language-html">&lt;!-- Component loads only when needed --&gt;
&lt;div is="component-loader" 
     component="data-table" 
     tag="table"&gt;
  Loading...
&lt;/div&gt;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS Processing</h4>
    <pre><code class="language-javascript">// With CSS imports (Vite/Webpack)
import styles from './button.module.css';

class StyledButton extends HTMLButtonElement {
  connectedCallback() {
    // Apply scoped styles
    this.className = styles.button;
  }
}

customElements.define('styled-button', StyledButton, { extends: 'button' });</code></pre>
    <pre><code class="language-css">/* button.module.css */
.button {
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  background: var(--button-bg, blue);
  color: white;
}

.button:hover {
  background: var(--button-bg-hover, darkblue);
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Development Server</h4>
    <pre><code class="language-json">// package.json
{
  "name": "my-custom-elements",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "test": "vitest"
  },
  "devDependencies": {
    "vite": "^5.0.0",
    "vitest": "^1.0.0",
    "@ungap/custom-elements": "^1.3.0"
  }
}</code></pre>
    <pre><code class="language-bash"># Development with hot reload
npm run dev

# Production build
npm run build

# Preview production build
npm run preview</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Publishing to NPM</h4>
    <pre><code class="language-json">// package.json for npm package
{
  "name": "@yourorg/custom-elements",
  "version": "1.0.0",
  "type": "module",
  "main": "./dist/index.js",
  "module": "./dist/index.js",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    },
    "./*": {
      "import": "./dist/*.js",
      "types": "./dist/*.d.ts"
    }
  },
  "files": [
    "dist"
  ],
  "scripts": {
    "build": "vite build &amp;&amp; tsc --emitDeclarationOnly",
    "prepublishOnly": "npm run build"
  }
}</code></pre>
    <pre><code class="language-bash"># Publish to npm
npm publish --access public</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Debugging</mark> &amp; DevTools</h3>
    <p>Tools and techniques for debugging Custom Elements</p>
  </section>
  <section data-transition="slide">
    <h4>Browser DevTools</h4>
    <pre><code class="language-javascript">class DebuggableComponent extends HTMLDivElement {
  constructor() {
    super();
    
    // Add debug flag
    this.debug = this.hasAttribute('debug');
    
    if (this.debug) {
      console.log('Component constructed:', this);
    }
  }

  connectedCallback() {
    if (this.debug) {
      console.log('Component connected:', {
        element: this,
        attributes: this.getAttributeNames(),
        children: this.children.length,
      });
    }
  }

  attributeChangedCallback(name, oldValue, newValue) {
    if (this.debug) {
      console.log('Attribute changed:', { name, oldValue, newValue });
    }
  }

  // Helper to inspect component state
  getDebugInfo() {
    return {
      tagName: this.tagName,
      is: this.getAttribute('is'),
      attributes: Object.fromEntries(
        this.getAttributeNames().map(name =&gt; [name, this.getAttribute(name)])
      ),
      properties: this.getOwnPropertyNames(),
      children: Array.from(this.children).map(c =&gt; c.tagName),
    };
  }
}

// Make component inspectable from console
window.debugComponent = (selector) =&gt; {
  const el = document.querySelector(selector);
  if (el &amp;&amp; el.getDebugInfo) {
    return el.getDebugInfo();
  }
  return el;
};</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Custom DevTools Panel</h4>
    <pre><code class="language-javascript">// Create debug panel for component
class ComponentDebugPanel {
  constructor(component) {
    this.component = component;
    this.panel = this.createPanel();
  }

  createPanel() {
    const panel = document.createElement('div');
    panel.className = 'debug-panel';
    panel.style.cssText = `
      position: fixed;
      bottom: 0;
      right: 0;
      width: 300px;
      max-height: 400px;
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 1rem;
      overflow: auto;
      font-family: monospace;
      font-size: 12px;
      z-index: 10000;
    `;
    
    this.update();
    return panel;
  }

  update() {
    const state = this.component.getDebugInfo?.() || {};
    
    this.panel.innerHTML = `
      &lt;h3 style="margin: 0 0 1rem 0"&gt;🔍 Component Inspector&lt;/h3&gt;
      &lt;pre&gt;${JSON.stringify(state, null, 2)}&lt;/pre&gt;
      &lt;button onclick="this.parentElement.remove()"&gt;Close&lt;/button&gt;
    `;
  }

  show() {
    document.body.appendChild(this.panel);
    
    // Update on mutations
    const observer = new MutationObserver(() =&gt; this.update());
    observer.observe(this.component, {
      attributes: true,
      childList: true,
      subtree: true,
    });
  }
}

// Usage
const panel = new ComponentDebugPanel(myComponent);
panel.show();</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Performance Profiling</h4>
    <pre><code class="language-javascript">class ProfiledComponent extends HTMLDivElement {
  constructor() {
    super();
    this.metrics = {
      renders: 0,
      totalRenderTime: 0,
      averageRenderTime: 0,
    };
  }

  render() {
    const start = performance.now();
    
    // Do rendering
    this.buildDOM();
    
    const end = performance.now();
    const duration = end - start;
    
    // Track metrics
    this.metrics.renders++;
    this.metrics.totalRenderTime += duration;
    this.metrics.averageRenderTime = 
      this.metrics.totalRenderTime / this.metrics.renders;
    
    // Log slow renders
    if (duration &gt; 16.67) {
      console.warn(`Slow render #${this.metrics.renders}: ${duration.toFixed(2)}ms`);
      console.trace();
    }
    
    // Mark in Performance timeline
    performance.mark(`render-${this.metrics.renders}-start`);
    performance.mark(`render-${this.metrics.renders}-end`);
    performance.measure(
      `render-${this.metrics.renders}`,
      `render-${this.metrics.renders}-start`,
      `render-${this.metrics.renders}-end`
    );
  }

  getMetrics() {
    return { ...this.metrics };
  }
}

// View metrics
console.table(component.getMetrics());</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Error Tracking</h4>
    <pre><code class="language-javascript">class ErrorTrackingComponent extends HTMLDivElement {
  constructor() {
    super();
    this.errors = [];
  }

  connectedCallback() {
    // Wrap lifecycle in try-catch
    try {
      this.initialize();
    } catch (error) {
      this.logError('connectedCallback', error);
    }
  }

  logError(context, error) {
    const errorInfo = {
      context,
      message: error.message,
      stack: error.stack,
      timestamp: Date.now(),
      element: this.tagName,
      attributes: Object.fromEntries(
        this.getAttributeNames().map(n =&gt; [n, this.getAttribute(n)])
      ),
    };
    
    this.errors.push(errorInfo);
    
    // Report to console
    console.error('Component error:', errorInfo);
    
    // Report to external service
    if (window.errorTracker) {
      window.errorTracker.report(errorInfo);
    }
    
    // Dispatch event for parent to handle
    this.dispatchEvent(new CustomEvent('component-error', {
      detail: errorInfo,
      bubbles: true,
    }));
  }

  getErrors() {
    return [...this.errors];
  }
}

// Global error handler
window.addEventListener('component-error', (event) =&gt; {
  console.error('Component error detected:', event.detail);
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Logging Utilities</h4>
    <pre><code class="language-javascript">// Create custom logger for components
class ComponentLogger {
  constructor(componentName) {
    this.name = componentName;
    this.enabled = localStorage.getItem(`debug:${componentName}`) === 'true';
  }

  log(...args) {
    if (this.enabled) {
      console.log(`[${this.name}]`, ...args);
    }
  }

  warn(...args) {
    if (this.enabled) {
      console.warn(`[${this.name}]`, ...args);
    }
  }

  error(...args) {
    console.error(`[${this.name}]`, ...args);
  }

  group(label) {
    if (this.enabled) {
      console.group(`[${this.name}] ${label}`);
    }
  }

  groupEnd() {
    if (this.enabled) {
      console.groupEnd();
    }
  }

  time(label) {
    if (this.enabled) {
      console.time(`[${this.name}] ${label}`);
    }
  }

  timeEnd(label) {
    if (this.enabled) {
      console.timeEnd(`[${this.name}] ${label}`);
    }
  }
}

// Usage in component
class LoggedComponent extends HTMLDivElement {
  constructor() {
    super();
    this.logger = new ComponentLogger('LoggedComponent');
  }

  connectedCallback() {
    this.logger.time('initialization');
    this.logger.log('Component connected');
    this.initialize();
    this.logger.timeEnd('initialization');
  }
}

// Enable debugging from console
localStorage.setItem('debug:LoggedComponent', 'true');</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Testing in DevTools</h4>
    <pre><code class="language-javascript">// Helper functions for testing in console

// Test component by selector
window.$test = (selector) =&gt; {
  const el = document.querySelector(selector);
  
  return {
    element: el,
    click: () =&gt; el?.click(),
    set: (prop, value) =&gt; { el[prop] = value; },
    get: (prop) =&gt; el?.[prop],
    attr: (name, value) =&gt; {
      if (value === undefined) return el?.getAttribute(name);
      el?.setAttribute(name, value);
    },
    dispatch: (event, detail) =&gt; {
      el?.dispatchEvent(new CustomEvent(event, { detail, bubbles: true }));
    },
    inspect: () =&gt; console.dir(el),
  };
};

// Usage in DevTools console
const btn = $test('[is="counter-button"]');
btn.click();
btn.get('count'); // Get property
btn.set('count', 10); // Set property
btn.attr('disabled', 'true'); // Set attribute
btn.dispatch('custom-event', { data: 'test' });
btn.inspect(); // Full element inspection</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Versioning</mark> &amp; Compatibility</h3>
    <p>Managing component versions and ensuring compatibility</p>
  </section>
  <section data-transition="slide">
    <h4>Semantic Versioning</h4>
    <pre><code class="language-javascript">// Component with version information
class VersionedButton extends HTMLButtonElement {
  static VERSION = '2.1.0';
  
  static BREAKING_CHANGES = {
    '2.0.0': [
      'Renamed `onClick` property to `handleClick`',
      'Removed deprecated `type` attribute',
    ],
  };

  constructor() {
    super();
    
    // Log version info in dev mode
    if (this.hasAttribute('debug')) {
      console.log(`${this.constructor.name} v${this.constructor.VERSION}`);
    }
  }

  static checkCompatibility(requiredVersion) {
    const [major, minor, patch] = this.VERSION.split('.').map(Number);
    const [reqMajor, reqMinor, reqPatch] = requiredVersion.split('.').map(Number);
    
    // Major version must match
    if (major !== reqMajor) {
      console.warn(
        `Version mismatch: Required v${requiredVersion}, got v${this.VERSION}`
      );
      return false;
    }
    
    return true;
  }
}

// Check at runtime
if (!VersionedButton.checkCompatibility('2.0.0')) {
  throw new Error('Incompatible component version');
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Feature Detection</h4>
    <pre><code class="language-javascript">class FeatureAwareComponent extends HTMLDivElement {
  static FEATURES = {
    // Core features
    core: true,
    
    // Optional features
    animations: typeof Element.prototype.animate === 'function',
    intersectionObserver: 'IntersectionObserver' in window,
    resizeObserver: 'ResizeObserver' in window,
    
    // Check for specific APIs
    customElements: 'customElements' in window,
    customElementsExtends: (() =&gt; {
      try {
        customElements.define('test-ext', class extends HTMLButtonElement {}, {
          extends: 'button',
        });
        return true;
      } catch {
        return false;
      }
    })(),
  };

  connectedCallback() {
    // Adapt behavior based on available features
    if (FeatureAwareComponent.FEATURES.animations) {
      this.useNativeAnimations();
    } else {
      this.useFallbackAnimations();
    }
    
    if (FeatureAwareComponent.FEATURES.intersectionObserver) {
      this.setupLazyLoading();
    } else {
      this.loadImmediately();
    }
  }

  static isSupported() {
    return this.FEATURES.customElements &amp;&amp; this.FEATURES.customElementsExtends;
  }
}

// Check before using
if (!FeatureAwareComponent.isSupported()) {
  console.error('Custom Elements not fully supported');
  // Load polyfill or show fallback
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Polyfill Strategy</h4>
    <pre><code class="language-html">&lt;!-- index.html --&gt;
&lt;script&gt;
  // Check for Custom Elements support
  if (!('customElements' in window)) {
    // Load polyfill
    const script = document.createElement('script');
    script.src = 'https://unpkg.com/@ungap/custom-elements';
    document.head.appendChild(script);
    
    script.onload = () =&gt; {
      console.log('Custom Elements polyfill loaded');
      loadComponents();
    };
  } else {
    loadComponents();
  }
  
  function loadComponents() {
    import('./components/index.js');
  }
&lt;/script&gt;</code></pre>
    <pre><code class="language-javascript">// Conditional polyfill loading
async function ensureSupport() {
  const checks = {
    customElements: 'customElements' in window,
    extends: await checkExtendsSupport(),
  };
  
  if (!checks.customElements || !checks.extends) {
    await import('@ungap/custom-elements');
  }
}

async function checkExtendsSupport() {
  try {
    const test = document.createElement('button', { is: 'test-element' });
    return test.getAttribute('is') === 'test-element';
  } catch {
    return false;
  }
}

// Use before defining components
await ensureSupport();
import('./components/index.js');</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Backward Compatibility</h4>
    <pre><code class="language-javascript">class BackwardCompatibleComponent extends HTMLDivElement {
  constructor() {
    super();
    this.migrateOldAttributes();
  }

  static get observedAttributes() {
    return [
      'data-value',  // New
      'value',       // Old (deprecated)
      'variant',     // New
      'type',        // Old (deprecated, was renamed to variant)
    ];
  }

  migrateOldAttributes() {
    // Support old attribute names
    if (this.hasAttribute('value') &amp;&amp; !this.hasAttribute('data-value')) {
      console.warn('`value` attribute is deprecated, use `data-value`');
      this.setAttribute('data-value', this.getAttribute('value'));
    }
    
    if (this.hasAttribute('type') &amp;&amp; !this.hasAttribute('variant')) {
      console.warn('`type` attribute is deprecated, use `variant`');
      this.setAttribute('variant', this.getAttribute('type'));
    }
  }

  attributeChangedCallback(name, oldValue, newValue) {
    // Handle both old and new attributes
    switch (name) {
      case 'value':
        console.warn('`value` attribute is deprecated');
        if (!this.hasAttribute('data-value')) {
          this.setAttribute('data-value', newValue);
        }
        break;
        
      case 'data-value':
        this.updateValue(newValue);
        break;
        
      case 'type':
        console.warn('`type` attribute is deprecated');
        if (!this.hasAttribute('variant')) {
          this.setAttribute('variant', newValue);
        }
        break;
        
      case 'variant':
        this.updateVariant(newValue);
        break;
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Migration Guide</h4>
    <pre><code class="language-javascript">/**
 * Migration Guide: v1.x to v2.x
 * 
 * Breaking Changes:
 * 1. Attribute `type` renamed to `variant`
 *    - Before: &lt;div is="my-component" type="primary"&gt;
 *    - After:  &lt;div is="my-component" variant="primary"&gt;
 * 
 * 2. Method `onClick` renamed to `handleClick`
 *    - Before: component.onClick = () =&gt; {...}
 *    - After:  component.handleClick = () =&gt; {...}
 * 
 * 3. Event `item-clicked` renamed to `item:click`
 *    - Before: addEventListener('item-clicked', ...)
 *    - After:  addEventListener('item:click', ...)
 * 
 * Deprecations (will be removed in v3.0):
 * - `value` attribute (use `data-value` instead)
 * - `config` property (use `options` instead)
 * 
 * New Features:
 * - Added `theme` attribute for styling
 * - Added `validate()` method
 * - Added `state-changed` event
 */

class MigrationHelper {
  static checkVersion(component, minVersion) {
    const version = component.constructor.VERSION;
    if (!version) {
      console.warn('Component has no version information');
      return false;
    }
    
    return this.compareVersions(version, minVersion) &gt;= 0;
  }

  static compareVersions(v1, v2) {
    const parts1 = v1.split('.').map(Number);
    const parts2 = v2.split('.').map(Number);
    
    for (let i = 0; i &lt; 3; i++) {
      if (parts1[i] &gt; parts2[i]) return 1;
      if (parts1[i] &lt; parts2[i]) return -1;
    }
    return 0;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Compatibility Testing</h4>
    <pre><code class="language-javascript">// Test suite for version compatibility
describe('Version Compatibility', () =&gt; {
  it('should maintain backward compatibility', () =&gt; {
    const component = document.createElement('div', {
      is: 'my-component'
    });
    
    // Old API should still work with warnings
    component.setAttribute('type', 'primary');
    expect(component.variant).to.equal('primary');
    
    // New API should work
    component.setAttribute('variant', 'secondary');
    expect(component.variant).to.equal('secondary');
  });

  it('should support gradual migration', () =&gt; {
    const component = document.createElement('div', {
      is: 'my-component'
    });
    
    // Both old and new APIs coexist
    component.setAttribute('value', 'old');
    component.setAttribute('data-value', 'new');
    
    // New API takes precedence
    expect(component.dataValue).to.equal('new');
  });
});</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Advanced Topics <mark>Recap</mark></h3>
    <p>Mastering Custom Elements development</p>
  </section>
  <section data-transition="slide">
    <h4>What We Covered</h4>
    <div class="two-columns">
      <div>
        <h5>Performance &amp; Optimization</h5>
        <ul>
          <li>DOM manipulation best practices</li>
          <li>Virtual scrolling</li>
          <li>Lazy loading</li>
          <li>Memory management</li>
          <li>CSS containment</li>
        </ul>
      </div>
      <div>
        <h5>Content Management</h5>
        <ul>
          <li>Content distribution patterns</li>
          <li>Named regions</li>
          <li>Dynamic wrapping</li>
          <li>Template cloning</li>
        </ul>
      </div>
    </div>
  </section>
  <section data-transition="slide">
    <h4>What We Covered (continued)</h4>
    <div class="two-columns">
      <div>
        <h5>Lifecycle &amp; Events</h5>
        <ul>
          <li>Lazy initialization</li>
          <li>Cleanup management</li>
          <li>Reconnection handling</li>
          <li>Event delegation</li>
          <li>Event bus pattern</li>
          <li>Throttling &amp; debouncing</li>
        </ul>
      </div>
      <div>
        <h5>Development Tools</h5>
        <ul>
          <li>TypeScript integration</li>
          <li>Build tool configuration</li>
          <li>Testing strategies</li>
          <li>Debugging techniques</li>
          <li>Versioning &amp; compatibility</li>
        </ul>
      </div>
    </div>
  </section>
  <section data-transition="slide">
    <h4>Key Takeaways</h4>
    <ul>
      <li class="fragment">
        <mark>Performance matters</mark>: Use virtual scrolling, lazy loading, and efficient DOM manipulation
      </li>
      <li class="fragment">
        <mark>Clean lifecycle</mark>: Always cleanup resources in disconnectedCallback
      </li>
      <li class="fragment">
        <mark>Type safety</mark>: TypeScript adds robustness to component APIs
      </li>
      <li class="fragment">
        <mark>Testing is essential</mark>: Unit test behavior, integration test communication
      </li>
      <li class="fragment">
        <mark>Modern tooling</mark>: Leverage Vite, Webpack, and ES modules
      </li>
      <li class="fragment">
        <mark>Versioning discipline</mark>: Semantic versioning and migration guides
      </li>
    </ul>
  </section>
  <section data-transition="slide">
    <h4>Best Practices Summary</h4>
    <div class="best-practices">
      <div class="fragment">
        <h5>✅ DO</h5>
        <ul>
          <li>Use DocumentFragment for batch operations</li>
          <li>Implement proper cleanup</li>
          <li>Type your components with TypeScript</li>
          <li>Write comprehensive tests</li>
          <li>Profile and measure performance</li>
          <li>Version your components semantically</li>
          <li>Document your APIs with JSDoc</li>
        </ul>
      </div>
      <div class="fragment">
        <h5>❌ DON'T</h5>
        <ul>
          <li>Use innerHTML with unsanitized data</li>
          <li>Forget to remove event listeners</li>
          <li>Query the DOM repeatedly</li>
          <li>Ignore memory leaks</li>
          <li>Skip accessibility features</li>
          <li>Break backward compatibility without warning</li>
        </ul>
      </div>
    </div>
  </section>
  <section data-transition="slide">
    <h4>Performance Checklist</h4>
    <ul>
      <li class="fragment">
        ✅ Use <code>requestAnimationFrame</code> for visual updates
      </li>
      <li class="fragment">
        ✅ Implement virtual scrolling for long lists
      </li>
      <li class="fragment">
        ✅ Lazy load images and heavy components
      </li>
      <li class="fragment">
        ✅ Use <code>will-change</code> sparingly for animations
      </li>
      <li class="fragment">
        ✅ Apply CSS containment where appropriate
      </li>
      <li class="fragment">
        ✅ Batch DOM updates with DocumentFragment
      </li>
      <li class="fragment">
        ✅ Profile with Performance API
      </li>
    </ul>
  </section>
  <section data-transition="slide">
    <h4>Ready for Production?</h4>
    <div class="checklist">
      <ul>
        <li class="fragment">📝 Comprehensive documentation</li>
        <li class="fragment">🧪 Unit and integration tests</li>
        <li class="fragment">♿️ Accessibility audit passed</li>
        <li class="fragment">🎨 Visual regression tests</li>
        <li class="fragment">⚡️ Performance benchmarks met</li>
        <li class="fragment">🔒 Security review completed</li>
        <li class="fragment">🌐 Browser compatibility tested</li>
        <li class="fragment">📦 Build pipeline configured</li>
        <li class="fragment">📚 Migration guide prepared</li>
      </ul>
    </div>
  </section>
</section>


  <!-- Integration: Slides 36-42 -->
  <section>
  <section data-transition="slide">
    <h3>Integration with <mark>Vue.js</mark></h3>
    <p>Using Custom Elements in Vue applications</p>
  </section>
  <section data-transition="slide">
    <h4>Vue Configuration</h4>
    <pre><code class="language-javascript">// vite.config.js (Vue 3 + Vite)
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';

export default defineConfig({
  plugins: [
    vue({
      template: {
        compilerOptions: {
          // Treat all tags with a dash as custom elements
          isCustomElement: (tag) =&gt; tag.includes('-') || tag.startsWith('is-'),
        },
      },
    }),
  ],
});</code></pre>
    <pre><code class="language-javascript">// main.js (Vue 3)
import { createApp } from 'vue';
import App from './App.vue';

// Import custom elements
import './components/counter-button.js';
import './components/data-list.js';

const app = createApp(App);

// Tell Vue to ignore custom elements
app.config.compilerOptions.isCustomElement = (tag) =&gt; {
  return tag.includes('-') || tag.startsWith('is-');
};

app.mount('#app');</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Using in Vue Templates</h4>
    <pre><code class="language-vue">&lt;template&gt;
  &lt;div class="app"&gt;
    &lt;!-- Custom element as standard HTML --&gt;
    &lt;button 
      is="counter-button"
      :count="count"
      @count-changed="handleCountChange"
    &gt;
      Count: {{ count }}
    &lt;/button&gt;

    &lt;!-- Pass data as properties --&gt;
    &lt;ul 
      is="data-list"
      ref="listRef"
    &gt;&lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from 'vue';

const count = ref(0);
const listRef = ref(null);

function handleCountChange(event) {
  count.value = event.detail.newValue;
}

onMounted(() =&gt; {
  // Set properties that can't be set via attributes
  if (listRef.value) {
    listRef.value.items = [
      { id: 1, name: 'Item 1' },
      { id: 2, name: 'Item 2' },
    ];
  }
});
&lt;/script&gt;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Two-Way Binding with v-model</h4>
    <pre><code class="language-vue">&lt;template&gt;
  &lt;!-- Custom v-model support --&gt;
  &lt;input 
    is="custom-input"
    v-model="inputValue"
    type="text"
  /&gt;
  
  &lt;p&gt;Value: {{ inputValue }}&lt;/p&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const inputValue = ref('');
&lt;/script&gt;</code></pre>
    <pre><code class="language-javascript">// custom-input.js - Vue-compatible custom element
class CustomInput extends HTMLInputElement {
  connectedCallback() {
    // Emit 'input' event for v-model
    this.addEventListener('input', () =&gt; {
      this.dispatchEvent(new Event('input', { bubbles: true }));
    });
  }
}

customElements.define('custom-input', CustomInput, { extends: 'input' });</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Wrapper Component Pattern</h4>
    <pre><code class="language-vue">&lt;!-- CustomButton.vue --&gt;
&lt;template&gt;
  &lt;button 
    is="fancy-button"
    ref="buttonRef"
    :variant="variant"
    @click="handleClick"
  &gt;
    &lt;slot /&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, watch, onMounted } from 'vue';
import './fancy-button.js';

const props = defineProps({
  variant: {
    type: String,
    default: 'primary',
  },
  loading: Boolean,
});

const emit = defineEmits(['click']);
const buttonRef = ref(null);

// Sync properties that can't be attributes
watch(() =&gt; props.loading, (newValue) =&gt; {
  if (buttonRef.value) {
    buttonRef.value.loading = newValue;
  }
});

function handleClick(event) {
  emit('click', event);
}

onMounted(() =&gt; {
  // Initialize complex properties
  if (buttonRef.value) {
    buttonRef.value.loading = props.loading;
  }
});
&lt;/script&gt;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Composables with Custom Elements</h4>
    <pre><code class="language-javascript">// useCustomElement.js
import { ref, onMounted, onUnmounted } from 'vue';

export function useCustomElement(elementRef, elementType) {
  const element = ref(null);
  const isReady = ref(false);

  onMounted(() =&gt; {
    element.value = elementRef.value;
    
    // Wait for element upgrade
    if (element.value) {
      customElements.whenDefined(elementType).then(() =&gt; {
        isReady.value = true;
      });
    }
  });

  function setProperty(prop, value) {
    if (element.value) {
      element.value[prop] = value;
    }
  }

  function callMethod(method, ...args) {
    if (element.value &amp;&amp; typeof element.value[method] === 'function') {
      return element.value[method](...args);
    }
  }

  return {
    element,
    isReady,
    setProperty,
    callMethod,
  };
}</code></pre>
    <pre><code class="language-vue">&lt;script setup&gt;
import { ref } from 'vue';
import { useCustomElement } from './useCustomElement';

const listRef = ref(null);
const { element, isReady, setProperty, callMethod } = useCustomElement(
  listRef,
  'data-list'
);

function loadData() {
  setProperty('items', [...data]);
  callMethod('refresh');
}
&lt;/script&gt;</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Integration with <mark>React</mark></h3>
    <p>Using Custom Elements in React applications</p>
  </section>
  <section data-transition="slide">
    <h4>Basic Usage in React</h4>
    <pre><code class="language-jsx">// App.jsx
import { useEffect, useRef } from 'react';
import './components/counter-button.js';

function App() {
  const buttonRef = useRef(null);

  useEffect(() =&gt; {
    const button = buttonRef.current;
    
    // Set properties (not attributes)
    if (button) {
      button.count = 10;
    }
    
    // Add event listeners
    const handleCountChange = (event) =&gt; {
      console.log('Count changed:', event.detail.newValue);
    };
    
    button?.addEventListener('count-changed', handleCountChange);
    
    return () =&gt; {
      button?.removeEventListener('count-changed', handleCountChange);
    };
  }, []);

  return (
    &lt;div className="app"&gt;
      &lt;button is="counter-button" ref={buttonRef}&gt;
        Count: 0
      &lt;/button&gt;
    &lt;/div&gt;
  );
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>React Wrapper Component</h4>
    <pre><code class="language-jsx">// CounterButton.jsx
import { useEffect, useRef, forwardRef } from 'react';
import './counter-button.js';

const CounterButton = forwardRef(({ 
  count = 0, 
  variant = 'primary',
  onCountChange,
  children 
}, ref) =&gt; {
  const internalRef = useRef(null);
  const buttonRef = ref || internalRef;

  // Sync props to properties
  useEffect(() =&gt; {
    if (buttonRef.current) {
      buttonRef.current.count = count;
    }
  }, [count]);

  // Handle events
  useEffect(() =&gt; {
    const button = buttonRef.current;
    if (!button || !onCountChange) return;

    const handleChange = (event) =&gt; {
      onCountChange(event.detail);
    };

    button.addEventListener('count-changed', handleChange);
    return () =&gt; {
      button.removeEventListener('count-changed', handleChange);
    };
  }, [onCountChange]);

  return (
    &lt;button 
      is="counter-button"
      ref={buttonRef}
      variant={variant}
    &gt;
      {children}
    &lt;/button&gt;
  );
});

export default CounterButton;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Using the Wrapper</h4>
    <pre><code class="language-jsx">// App.jsx
import { useState } from 'react';
import CounterButton from './CounterButton';

function App() {
  const [count, setCount] = useState(0);

  const handleCountChange = (detail) =&gt; {
    setCount(detail.newValue);
  };

  return (
    &lt;div className="app"&gt;
      &lt;h1&gt;React + Custom Elements&lt;/h1&gt;
      
      &lt;CounterButton
        count={count}
        variant="primary"
        onCountChange={handleCountChange}
      &gt;
        Count: {count}
      &lt;/CounterButton&gt;

      &lt;button onClick={() =&gt; setCount(0)}&gt;
        Reset
      &lt;/button&gt;
    &lt;/div&gt;
  );
}

export default App;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Custom Hook for Elements</h4>
    <pre><code class="language-javascript">// useCustomElement.js
import { useEffect, useRef, useCallback } from 'react';

export function useCustomElement(elementName) {
  const ref = useRef(null);

  // Wait for element definition
  useEffect(() =&gt; {
    customElements.whenDefined(elementName).then(() =&gt; {
      console.log(`${elementName} is defined`);
    });
  }, [elementName]);

  // Set property helper
  const setProperty = useCallback((prop, value) =&gt; {
    if (ref.current) {
      ref.current[prop] = value;
    }
  }, []);

  // Call method helper
  const callMethod = useCallback((method, ...args) =&gt; {
    if (ref.current &amp;&amp; typeof ref.current[method] === 'function') {
      return ref.current[method](...args);
    }
  }, []);

  // Add event listener helper
  const addEventListener = useCallback((event, handler) =&gt; {
    const element = ref.current;
    if (!element) return;

    element.addEventListener(event, handler);
    return () =&gt; element.removeEventListener(event, handler);
  }, []);

  return {
    ref,
    setProperty,
    callMethod,
    addEventListener,
  };
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Using the Hook</h4>
    <pre><code class="language-jsx">// DataList.jsx
import { useEffect, useState } from 'react';
import { useCustomElement } from './useCustomElement';
import './data-list.js';

function DataList({ items }) {
  const { ref, setProperty, addEventListener } = useCustomElement('data-list');

  // Sync items property
  useEffect(() =&gt; {
    setProperty('items', items);
  }, [items, setProperty]);

  // Listen to custom events
  useEffect(() =&gt; {
    return addEventListener('item-selected', (event) =&gt; {
      console.log('Item selected:', event.detail);
    });
  }, [addEventListener]);

  return (
    &lt;ul is="data-list" ref={ref}&gt;
      {/* Fallback content */}
      {items.map(item =&gt; (
        &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}

export default DataList;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>React 19+ with Custom Elements</h4>
    <pre><code class="language-jsx">// React 19 has better Custom Elements support
import './counter-button.js';

function App() {
  const [count, setCount] = useState(0);

  // React 19 handles properties automatically
  return (
    &lt;button 
      is="counter-button"
      count={count}  // Passed as property, not attribute!
      onCountChanged={(e) =&gt; setCount(e.detail.newValue)}
    &gt;
      Count: {count}
    &lt;/button&gt;
  );
}

// React 19 automatically:
// - Sets properties instead of attributes
// - Converts camelCase event names (onCountChanged → count-changed)
// - Handles cleanup automatically</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Integration with <mark>Angular</mark></h3>
    <p>Using Custom Elements in Angular applications</p>
  </section>
  <section data-transition="slide">
    <h4>Angular Configuration</h4>
    <pre><code class="language-typescript">// app.module.ts (Angular with NgModule)
import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';

// Import custom elements
import './components/counter-button.js';
import './components/data-list.js';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [],
  bootstrap: [AppComponent],
  schemas: [CUSTOM_ELEMENTS_SCHEMA], // ⭐ Enable custom elements
})
export class AppModule {}</code></pre>
    <pre><code class="language-typescript">// app.config.ts (Angular standalone)
import { ApplicationConfig } from '@angular/core';
import { provideRouter } from '@angular/router';

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    // Custom elements work out of the box with standalone
  ],
};</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Using in Templates</h4>
    <pre><code class="language-typescript">// app.component.ts
import { Component, ViewChild, ElementRef, AfterViewInit } from '@angular/core';

@Component({
  selector: 'app-root',
  template: `
    &lt;div class="app"&gt;
      &lt;h1&gt;Angular + Custom Elements&lt;/h1&gt;
      
      &lt;!-- Use custom element --&gt;
      &lt;button 
        is="counter-button"
        #counterButton
        [attr.variant]="variant"
        (count-changed)="onCountChange($event)"
      &gt;
        Count: {{ count }}
      &lt;/button&gt;

      &lt;button (click)="resetCount()"&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
  `,
  standalone: true,
})
export class AppComponent implements AfterViewInit {
  @ViewChild('counterButton') counterButton!: ElementRef;

  count = 0;
  variant = 'primary';

  ngAfterViewInit() {
    // Set properties that can't be set via attributes
    const button = this.counterButton.nativeElement;
    button.count = this.count;
  }

  onCountChange(event: CustomEvent) {
    this.count = event.detail.newValue;
  }

  resetCount() {
    this.count = 0;
    this.counterButton.nativeElement.count = 0;
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Property Binding</h4>
    <pre><code class="language-typescript">// data-list.component.ts
import { Component, ViewChild, ElementRef, Input, OnChanges } from '@angular/core';

interface DataItem {
  id: number;
  name: string;
}

@Component({
  selector: 'app-data-list',
  template: `
    &lt;ul is="data-list" #listElement&gt;&lt;/ul&gt;
  `,
  standalone: true,
})
export class DataListComponent implements OnChanges {
  @ViewChild('listElement') listElement!: ElementRef;
  @Input() items: DataItem[] = [];

  ngOnChanges() {
    // Sync items property
    if (this.listElement) {
      this.listElement.nativeElement.items = this.items;
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Directive Wrapper</h4>
    <pre><code class="language-typescript">// counter-button.directive.ts
import { 
  Directive, 
  ElementRef, 
  Input, 
  Output, 
  EventEmitter,
  OnInit,
  OnDestroy 
} from '@angular/core';

@Directive({
  selector: '[counterButton]',
  standalone: true,
})
export class CounterButtonDirective implements OnInit, OnDestroy {
  @Input() count = 0;
  @Output() countChange = new EventEmitter&lt;number&gt;();

  private element: any;
  private eventHandler: (e: CustomEvent) =&gt; void;

  constructor(private elementRef: ElementRef) {
    this.element = elementRef.nativeElement;
  }

  ngOnInit() {
    // Set initial property
    this.element.count = this.count;

    // Listen to custom event
    this.eventHandler = (event: CustomEvent) =&gt; {
      this.countChange.emit(event.detail.newValue);
    };
    
    this.element.addEventListener('count-changed', this.eventHandler);
  }

  ngOnDestroy() {
    this.element.removeEventListener('count-changed', this.eventHandler);
  }

  @Input() set count(value: number) {
    if (this.element) {
      this.element.count = value;
    }
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Using the Directive</h4>
    <pre><code class="language-typescript">// app.component.ts
import { Component } from '@angular/core';
import { CounterButtonDirective } from './counter-button.directive';

@Component({
  selector: 'app-root',
  template: `
    &lt;button 
      is="counter-button"
      counterButton
      [count]="count"
      (countChange)="count = $event"
    &gt;
      Count: {{ count }}
    &lt;/button&gt;
  `,
  standalone: true,
  imports: [CounterButtonDirective],
})
export class AppComponent {
  count = 0;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Service for Custom Elements</h4>
    <pre><code class="language-typescript">// custom-elements.service.ts
import { Injectable } from '@angular/core';
import { Observable, fromEvent } from 'rxjs';

@Injectable({
  providedIn: 'root',
})
export class CustomElementsService {
  // Wait for custom element to be defined
  async whenDefined(elementName: string): Promise&lt;void&gt; {
    await customElements.whenDefined(elementName);
  }

  // Get element reference with type safety
  getElement&lt;T extends HTMLElement&gt;(elementRef: any): T {
    return elementRef.nativeElement as T;
  }

  // Convert custom events to Observable
  fromCustomEvent&lt;T = any&gt;(
    element: HTMLElement,
    eventName: string
  ): Observable&lt;T&gt; {
    return fromEvent&lt;CustomEvent&lt;T&gt;&gt;(element, eventName)
      .pipe(map(event =&gt; event.detail));
  }

  // Set multiple properties
  setProperties(element: HTMLElement, props: Record&lt;string, any&gt;): void {
    Object.entries(props).forEach(([key, value]) =&gt; {
      (element as any)[key] = value;
    });
  }
}

// Usage in component
import { CustomElementsService } from './custom-elements.service';

export class MyComponent {
  constructor(private customElements: CustomElementsService) {}

  async ngAfterViewInit() {
    await this.customElements.whenDefined('counter-button');
    
    const button = this.customElements.getElement(this.buttonRef);
    
    this.customElements.fromCustomEvent(button, 'count-changed')
      .subscribe(detail =&gt; {
        console.log('Count changed:', detail);
      });
  }
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Building <mark>Design Systems</mark></h3>
    <p>Creating scalable component libraries with Custom Elements</p>
  </section>
  <section data-transition="slide">
    <h4>Design System Structure</h4>
    <pre><code class="language-plaintext">design-system/
├── tokens/
│   ├── colors.css
│   ├── typography.css
│   ├── spacing.css
│   └── tokens.js
├── components/
│   ├── button/
│   │   ├── button.js
│   │   ├── button.css
│   │   ├── button.test.js
│   │   └── README.md
│   ├── input/
│   ├── card/
│   └── index.js
├── utils/
│   └── base-element.js
└── index.js</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Design Tokens</h4>
    <pre><code class="language-css">/* tokens/colors.css */
:root {
  /* Primary colors */
  --color-primary-50: #e3f2fd;
  --color-primary-100: #bbdefb;
  --color-primary-500: #2196f3;
  --color-primary-900: #0d47a1;

  /* Semantic colors */
  --color-text-primary: #212121;
  --color-text-secondary: #757575;
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f5f5f5;
  
  /* Component tokens */
  --button-bg: var(--color-primary-500);
  --button-text: white;
  --button-hover: var(--color-primary-900);
}</code></pre>
    <pre><code class="language-javascript">// tokens/tokens.js
export const tokens = {
  colors: {
    primary: {
      50: '#e3f2fd',
      100: '#bbdefb',
      500: '#2196f3',
      900: '#0d47a1',
    },
  },
  spacing: {
    xs: '0.25rem',
    sm: '0.5rem',
    md: '1rem',
    lg: '1.5rem',
    xl: '2rem',
  },
  typography: {
    fontFamily: {
      base: 'system-ui, sans-serif',
      mono: 'monospace',
    },
    fontSize: {
      sm: '0.875rem',
      base: '1rem',
      lg: '1.125rem',
      xl: '1.25rem',
    },
  },
};</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Base Element Class</h4>
    <pre><code class="language-javascript">// utils/base-element.js
export class BaseElement extends HTMLElement {
  constructor(baseElement = HTMLElement) {
    super();
    this._baseElement = baseElement;
  }

  // Common lifecycle helper
  $(selector) {
    return this.querySelector(selector);
  }

  $$(selector) {
    return Array.from(this.querySelectorAll(selector));
  }

  // Emit custom event
  emit(eventName, detail) {
    this.dispatchEvent(new CustomEvent(eventName, {
      detail,
      bubbles: true,
      composed: true,
    }));
  }

  // Apply design tokens
  applyTokens(tokens) {
    Object.entries(tokens).forEach(([property, value]) =&gt; {
      this.style.setProperty(property, value);
    });
  }

  // Error handling
  handleError(error, context) {
    console.error(`[${this.constructor.name}] ${context}:`, error);
    this.emit('component-error', { error, context });
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Design System Button</h4>
    <pre><code class="language-javascript">// components/button/button.js
import { BaseElement } from '../../utils/base-element.js';
import styles from './button.css' assert { type: 'css' };

class DSButton extends HTMLButtonElement {
  static get observedAttributes() {
    return ['variant', 'size', 'loading'];
  }

  constructor() {
    super();
    this.attachStyles();
  }

  attachStyles() {
    // Apply component styles
    document.adoptedStyleSheets = [
      ...document.adoptedStyleSheets,
      styles,
    ];
  }

  connectedCallback() {
    this.classList.add('ds-button');
    this.updateVariant();
    this.updateSize();
  }

  attributeChangedCallback(name, oldValue, newValue) {
    if (oldValue === newValue) return;

    switch (name) {
      case 'variant':
        this.updateVariant();
        break;
      case 'size':
        this.updateSize();
        break;
      case 'loading':
        this.updateLoading();
        break;
    }
  }

  get variant() {
    return this.getAttribute('variant') || 'primary';
  }

  set variant(value) {
    this.setAttribute('variant', value);
  }

  get size() {
    return this.getAttribute('size') || 'medium';
  }

  set size(value) {
    this.setAttribute('size', value);
  }

  get loading() {
    return this.hasAttribute('loading');
  }

  set loading(value) {
    if (value) {
      this.setAttribute('loading', '');
    } else {
      this.removeAttribute('loading');
    }
  }

  updateVariant() {
    this.dataset.variant = this.variant;
  }

  updateSize() {
    this.dataset.size = this.size;
  }

  updateLoading() {
    this.disabled = this.loading;
    this.setAttribute('aria-busy', String(this.loading));
  }
}

customElements.define('ds-button', DSButton, { extends: 'button' });</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Button Styles</h4>
    <pre><code class="language-css">/* components/button/button.css */
.ds-button {
  /* Base styles */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  
  font-family: var(--font-family-base);
  font-weight: 500;
  line-height: 1.5;
  
  border: none;
  border-radius: var(--border-radius-md);
  cursor: pointer;
  
  transition: all 0.2s ease;
}

/* Variants */
.ds-button[data-variant="primary"] {
  background: var(--button-bg);
  color: var(--button-text);
}

.ds-button[data-variant="primary"]:hover {
  background: var(--button-hover);
}

.ds-button[data-variant="secondary"] {
  background: transparent;
  color: var(--button-bg);
  border: 2px solid currentColor;
}

/* Sizes */
.ds-button[data-size="small"] {
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: var(--font-size-sm);
}

.ds-button[data-size="medium"] {
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: var(--font-size-base);
}

.ds-button[data-size="large"] {
  padding: var(--spacing-md) var(--spacing-lg);
  font-size: var(--font-size-lg);
}

/* States */
.ds-button[loading] {
  opacity: 0.6;
  cursor: wait;
}

.ds-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Component Documentation</h4>
    <pre><code class="language-markdown"># Button Component

## Usage

```html
&lt;button is="ds-button" variant="primary" size="medium"&gt;
  Click me
&lt;/button&gt;
```

## Properties

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| variant | string | 'primary' | Button style variant |
| size | string | 'medium' | Button size |
| loading | boolean | false | Loading state |

## Variants

- `primary` - Primary action button
- `secondary` - Secondary action button
- `ghost` - Minimal button
- `danger` - Destructive action

## Sizes

- `small` - Compact button
- `medium` - Default size
- `large` - Prominent button

## Accessibility

- Inherits native button accessibility
- Loading state uses `aria-busy`
- Disabled state properly handled</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Publishing the Design System</h4>
    <pre><code class="language-json">// package.json
{
  "name": "@company/design-system",
  "version": "1.0.0",
  "type": "module",
  "main": "./dist/index.js",
  "exports": {
    ".": "./dist/index.js",
    "./tokens": "./dist/tokens/tokens.js",
    "./button": "./dist/components/button/button.js",
    "./input": "./dist/components/input/input.js"
  },
  "files": [
    "dist",
    "src"
  ],
  "scripts": {
    "build": "vite build",
    "test": "vitest",
    "storybook": "storybook dev -p 6006"
  }
}</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Framework Agnostic</mark> Components</h3>
    <p>Building components that work everywhere</p>
  </section>
  <section data-transition="slide">
    <h4>Universal Component Pattern</h4>
    <pre><code class="language-javascript">// universal-button.js
class UniversalButton extends HTMLButtonElement {
  // Use standard web APIs only
  static get observedAttributes() {
    return ['variant', 'loading'];
  }

  constructor() {
    super();
    this._initialized = false;
  }

  connectedCallback() {
    if (!this._initialized) {
      this.initialize();
      this._initialized = true;
    }
  }

  initialize() {
    // Setup that works everywhere
    this.classList.add('universal-button');
    this.updateAppearance();
    
    // Use standard events
    this.addEventListener('click', this.handleClick);
  }

  disconnectedCallback() {
    this.removeEventListener('click', this.handleClick);
  }

  // Public API using properties
  get loading() {
    return this.hasAttribute('loading');
  }

  set loading(value) {
    if (value) {
      this.setAttribute('loading', '');
    } else {
      this.removeAttribute('loading');
    }
  }

  // Emit standard custom events
  handleClick = (event) =&gt; {
    if (this.loading) {
      event.preventDefault();
      return;
    }

    this.dispatchEvent(new CustomEvent('button-click', {
      detail: { timestamp: Date.now() },
      bubbles: true,
    }));
  };
}

customElements.define('universal-button', UniversalButton, {
  extends: 'button',
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Framework Compatibility Checklist</h4>
    <ul>
      <li class="fragment">
        ✅ Use <mark>properties</mark> for complex data, <mark>attributes</mark> for simple values
      </li>
      <li class="fragment">
        ✅ Emit <mark>CustomEvents</mark> with kebab-case names
      </li>
      <li class="fragment">
        ✅ Support both <mark>declarative</mark> (HTML) and <mark>imperative</mark> (JS) usage
      </li>
      <li class="fragment">
        ✅ Provide <mark>proper cleanup</mark> in disconnectedCallback
      </li>
      <li class="fragment">
        ✅ Don't rely on <mark>framework-specific</mark> features
      </li>
      <li class="fragment">
        ✅ Include <mark>TypeScript definitions</mark> for better DX
      </li>
      <li class="fragment">
        ✅ Document <mark>all public APIs</mark> clearly
      </li>
    </ul>
  </section>
  <section data-transition="slide">
    <h4>Framework Adapters</h4>
    <pre><code class="language-javascript">// adapters/react.jsx
import { forwardRef, useEffect, useRef } from 'react';

export function createReactWrapper(elementName, events = []) {
  return forwardRef(({ children, ...props }, ref) =&gt; {
    const internalRef = useRef(null);
    const elementRef = ref || internalRef;

    useEffect(() =&gt; {
      const element = elementRef.current;
      if (!element) return;

      // Set properties
      Object.entries(props).forEach(([key, value]) =&gt; {
        if (!events.includes(key) &amp;&amp; key !== 'children') {
          element[key] = value;
        }
      });
    }, [props]);

    // Convert React events to DOM events
    const eventHandlers = {};
    events.forEach(eventName =&gt; {
      const propName = `on${eventName.charAt(0).toUpperCase()}${eventName.slice(1)}`;
      if (props[propName]) {
        eventHandlers[eventName] = props[propName];
      }
    });

    useEffect(() =&gt; {
      const element = elementRef.current;
      if (!element) return;

      const handlers = Object.entries(eventHandlers).map(([event, handler]) =&gt; {
        element.addEventListener(event, handler);
        return () =&gt; element.removeEventListener(event, handler);
      });

      return () =&gt; handlers.forEach(cleanup =&gt; cleanup());
    }, [eventHandlers]);

    return createElement(elementName, { ref: elementRef }, children);
  });
}

// Usage
const UniversalButton = createReactWrapper('universal-button', ['button-click']);</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Interoperability Best Practices</h4>
    <pre><code class="language-javascript">// Good: Framework-agnostic data flow
class DataComponent extends HTMLDivElement {
  // ✅ Property for complex data
  set data(value) {
    this._data = value;
    this.render();
  }

  get data() {
    return this._data;
  }

  // ✅ Attribute for simple config
  get mode() {
    return this.getAttribute('mode') || 'default';
  }

  set mode(value) {
    this.setAttribute('mode', value);
  }

  // ✅ Standard custom events
  emitChange(detail) {
    this.dispatchEvent(new CustomEvent('data-change', {
      detail,
      bubbles: true,
      composed: true, // Cross shadow DOM boundaries
    }));
  }

  // ✅ Public methods
  refresh() {
    this.render();
  }

  reset() {
    this._data = null;
    this.render();
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Testing Across Frameworks</h4>
    <pre><code class="language-javascript">// test/universal.test.js
describe('Universal Component', () =&gt; {
  it('works in vanilla JavaScript', () =&gt; {
    const button = document.createElement('button', {
      is: 'universal-button'
    });
    button.loading = true;
    expect(button.hasAttribute('loading')).toBe(true);
  });

  it('works with Vue', async () =&gt; {
    const wrapper = mount({
      template: `&lt;button is="universal-button" :loading="true" /&gt;`
    });
    expect(wrapper.find('button').attributes('loading')).toBeDefined();
  });

  it('works with React', () =&gt; {
    const { container } = render(
      &lt;UniversalButton loading={true} /&gt;
    );
    expect(container.querySelector('button')).toHaveAttribute('loading');
  });

  it('works with Angular', async () =&gt; {
    const fixture = TestBed.createComponent(TestComponent);
    fixture.componentInstance.loading = true;
    fixture.detectChanges();
    expect(fixture.nativeElement.querySelector('button'))
      .toHaveAttribute('loading');
  });
});</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Progressive Enhancement</h4>
    <pre><code class="language-html">&lt;!-- Component works without JavaScript --&gt;
&lt;button is="universal-button" disabled&gt;
  &lt;!-- Fallback content --&gt;
  Click me
&lt;/button&gt;

&lt;script type="module"&gt;
  // Enhancement loads progressively
  import './universal-button.js';
  
  // Component upgrades automatically
  customElements.whenDefined('universal-button').then(() =&gt; {
    console.log('Component upgraded!');
  });
&lt;/script&gt;</code></pre>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3><mark>Interoperability</mark> &amp; Standards</h3>
    <p>Making components work seamlessly across ecosystems</p>
  </section>
  <section data-transition="slide">
    <h4>Web Standards Foundation</h4>
    <ul>
      <li class="fragment">
        <mark>Custom Elements</mark> - Define new HTML elements
      </li>
      <li class="fragment">
        <mark>HTML</mark> - Semantic markup and native elements
      </li>
      <li class="fragment">
        <mark>DOM</mark> - Standard DOM APIs for manipulation
      </li>
      <li class="fragment">
        <mark>Events</mark> - CustomEvent for communication
      </li>
      <li class="fragment">
        <mark>CSS</mark> - Standard styling with custom properties
      </li>
      <li class="fragment">
        <mark>Accessibility</mark> - ARIA and native semantics
      </li>
      <li class="fragment">
        <mark>Forms</mark> - ElementInternals for form participation
      </li>
    </ul>
  </section>
  <section data-transition="slide">
    <h4>Standard Communication Patterns</h4>
    <pre><code class="language-javascript">// Parent-Child Communication
class ParentComponent extends HTMLDivElement {
  connectedCallback() {
    // Listen to child events
    this.addEventListener('child-event', (event) =&gt; {
      console.log('Child said:', event.detail);
    });
  }

  updateChild(data) {
    // Set child properties
    const child = this.querySelector('[is="child-component"]');
    if (child) {
      child.data = data;
    }
  }
}

class ChildComponent extends HTMLDivElement {
  notifyParent(message) {
    // Emit event to parent
    this.dispatchEvent(new CustomEvent('child-event', {
      detail: message,
      bubbles: true, // Event bubbles up
    }));
  }
}

// Sibling Communication (via parent)
class SiblingA extends HTMLDivElement {
  sendToSibling(data) {
    // Emit to parent, parent routes to sibling
    this.dispatchEvent(new CustomEvent('sibling-message', {
      detail: { target: 'sibling-b', data },
      bubbles: true,
    }));
  }
}

class SiblingB extends HTMLDivElement {
  connectedCallback() {
    // Listen for messages at parent level
    this.parentElement?.addEventListener('sibling-message', (event) =&gt; {
      if (event.detail.target === 'sibling-b') {
        this.handleMessage(event.detail.data);
      }
    });
  }
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Form Participation</h4>
    <pre><code class="language-javascript">// Standard form integration
class CustomInput extends HTMLInputElement {
  constructor() {
    super();
    
    // Use ElementInternals for form participation
    if (this.attachInternals) {
      this._internals = this.attachInternals();
    }
  }

  connectedCallback() {
    this.addEventListener('input', this.handleInput);
  }

  handleInput = () =&gt; {
    const value = this.value;
    
    // Update form value
    if (this._internals) {
      this._internals.setFormValue(value);
      
      // Set validity
      if (this.required &amp;&amp; !value) {
        this._internals.setValidity(
          { valueMissing: true },
          'This field is required'
        );
      } else {
        this._internals.setValidity({});
      }
    }
  };

  // Standard form reset
  formResetCallback() {
    this.value = '';
    this._internals?.setFormValue('');
  }

  // Standard form state restore
  formStateRestoreCallback(state) {
    this.value = state;
  }
}

customElements.define('custom-input', CustomInput, { extends: 'input' });</code></pre>
  </section>
  <section data-transition="slide">
    <h4>CSS Custom Properties Bridge</h4>
    <pre><code class="language-css">/* Design tokens that work everywhere */
:root {
  /* Namespace your tokens */
  --ds-color-primary: #2196f3;
  --ds-color-secondary: #f50057;
  --ds-spacing-unit: 8px;
  --ds-border-radius: 4px;
}

/* Components consume tokens */
button[is="ds-button"] {
  background: var(--ds-color-primary);
  padding: calc(var(--ds-spacing-unit) * 2);
  border-radius: var(--ds-border-radius);
}

/* Frameworks can override tokens */
.vue-app {
  --ds-color-primary: #42b983;
}

.react-app {
  --ds-color-primary: #61dafb;
}

.angular-app {
  --ds-color-primary: #dd0031;
}</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Accessibility Standards</h4>
    <pre><code class="language-javascript">// Accessible by default
class AccessibleButton extends HTMLButtonElement {
  connectedCallback() {
    // Inherit native button accessibility
    // Already has: role="button", keyboard support, focus management
    
    // Add ARIA attributes when needed
    if (this.loading) {
      this.setAttribute('aria-busy', 'true');
      this.setAttribute('aria-live', 'polite');
    }
    
    // Announce state changes
    this.addEventListener('statechange', (event) =&gt; {
      this.announceToScreenReader(event.detail.message);
    });
  }

  announceToScreenReader(message) {
    const announcement = document.createElement('div');
    announcement.setAttribute('role', 'status');
    announcement.setAttribute('aria-live', 'polite');
    announcement.className = 'sr-only';
    announcement.textContent = message;
    
    document.body.appendChild(announcement);
    setTimeout(() =&gt; announcement.remove(), 1000);
  }
}

// Works with screen readers across all frameworks!</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Module System Compatibility</h4>
    <pre><code class="language-javascript">// ESM (Modern)
export class MyComponent extends HTMLDivElement {
  // ...
}

customElements.define('my-component', MyComponent, { extends: 'div' });

// Works with:
import { MyComponent } from './my-component.js';

// Dynamic import
const { MyComponent } = await import('./my-component.js');

// Script tag
&lt;script type="module" src="./my-component.js"&gt;&lt;/script&gt;</code></pre>
    <pre><code class="language-javascript">// UMD for legacy support
(function(root, factory) {
  if (typeof define === 'function' &amp;&amp; define.amd) {
    define([], factory); // AMD
  } else if (typeof module === 'object' &amp;&amp; module.exports) {
    module.exports = factory(); // CommonJS
  } else {
    root.MyComponent = factory(); // Global
  }
}(typeof self !== 'undefined' ? self : this, function() {
  class MyComponent extends HTMLDivElement {
    // ...
  }
  customElements.define('my-component', MyComponent, { extends: 'div' });
  return MyComponent;
}));</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Interoperability Checklist</h4>
    <ul>
      <li class="fragment">✅ Use <mark>standard web APIs</mark> only</li>
      <li class="fragment">✅ Follow <mark>semantic HTML</mark> principles</li>
      <li class="fragment">✅ Emit <mark>standard CustomEvents</mark></li>
      <li class="fragment">✅ Support <mark>form participation</mark> with ElementInternals</li>
      <li class="fragment">✅ Use <mark>CSS custom properties</mark> for theming</li>
      <li class="fragment">✅ Provide <mark>TypeScript definitions</mark></li>
      <li class="fragment">✅ Include <mark>accessibility</mark> features</li>
      <li class="fragment">✅ Test across <mark>multiple frameworks</mark></li>
      <li class="fragment">✅ Document <mark>compatibility</mark> requirements</li>
    </ul>
  </section>
</section>

  <section>
  <section data-transition="slide">
    <h3>Real-World <mark>Case Studies</mark></h3>
    <p>Success stories from production applications</p>
  </section>
  <section data-transition="slide">
    <h4>Case Study 1: GitHub</h4>
    <div class="case-study">
      <h5>Challenge</h5>
      <p>Modernize legacy Rails app with progressive enhancement</p>
      
      <h5>Solution</h5>
      <ul>
        <li>Custom Elements extending native HTML</li>
        <li>Progressive enhancement strategy</li>
        <li>Server-side rendering + client-side enhancement</li>
      </ul>

      <h5>Example Components</h5>
      <ul>
        <li><code>&lt;time-ago&gt;</code> - Relative time display</li>
        <li><code>&lt;details-dialog&gt;</code> - Enhanced dialogs</li>
        <li><code>&lt;auto-complete&gt;</code> - Search suggestions</li>
        <li><code>&lt;clipboard-copy&gt;</code> - Copy to clipboard</li>
      </ul>
    </div>
  </section>
  <section data-transition="slide">
    <h4>GitHub Example: time-ago</h4>
    <pre><code class="language-html">&lt;!-- Server renders static time --&gt;
&lt;time-ago datetime="2025-10-22T10:00:00Z"&gt;
  October 22, 2025
&lt;/time-ago&gt;

&lt;!-- JavaScript enhances with relative time --&gt;
&lt;script type="module"&gt;
  class TimeAgoElement extends HTMLTimeElement {
    connectedCallback() {
      this.update();
      this._timer = setInterval(() =&gt; this.update(), 60000);
    }

    disconnectedCallback() {
      clearInterval(this._timer);
    }

    update() {
      const date = new Date(this.getAttribute('datetime'));
      this.textContent = this.getRelativeTime(date);
    }

    getRelativeTime(date) {
      const now = new Date();
      const seconds = Math.floor((now - date) / 1000);
      
      if (seconds &lt; 60) return 'just now';
      if (seconds &lt; 3600) return `${Math.floor(seconds / 60)}m ago`;
      if (seconds &lt; 86400) return `${Math.floor(seconds / 3600)}h ago`;
      return `${Math.floor(seconds / 86400)}d ago`;
    }
  }

  customElements.define('time-ago', TimeAgoElement, { extends: 'time' });
&lt;/script&gt;</code></pre>
  </section>
  <section data-transition="slide">
    <h4>Case Study 2: Salesforce Lightning</h4>
    <div class="case-study">
      <h5>Challenge</h5>
      <p>Build enterprise design system for multiple platforms</p>
      
      <h5>Solution</h5>
      <ul>
        <li>Lightning Web Components (LWC)</li>
        <li>Based on Web Components standards</li>
        <li>Shared across Salesforce ecosystem</li>
      </ul>

      <h5>Key Benefits</h5>
      <ul>
        <li>✅ Performance: 40% faster than previous framework</li>
        <li>✅ Standards-based: Built on web platform</li>
        <li>✅ Portable: Works across multiple apps</li>
        <li>✅ Developer experience: Modern tooling</li>
      </ul>
    </div>
  </section>
  <section data-transition="slide">
    <h4>Case Study 3: YouTube</h4>
    <div class="case-study">
      <h5>Challenge</h5>
      <p>Migrate massive app to modern architecture</p>
      
      <h5>Solution</h5>
      <ul>
        <li>Incremental migration to Custom Elements</li>
        <li>Polymer framework (now LitElement)</li>
        <li>Component-based architecture</li>
      </ul>

      <h5>Results</h5>
      <ul>
        <li>📦 Reduced bundle size</li>
        <li>⚡️ Improved performance</li>
        <li>🔄 Better code reusability</li>
        <li>🛠 Easier maintenance</li>
      </ul>
    </div>
  </section>
  <section data-transition="slide">
    <h4>Case Study 4: ING Bank</h4>
    <div class="case-study">
      <h5>Challenge</h5>
      <p>Unified design system across multiple teams and tech stacks</p>
      
      <h5>Solution</h5>
      <ul>
        <li>Lion Web Components library</li>
        <li>Framework-agnostic components</li>
        <li>Focus on accessibility and forms</li>
      </ul>

      <h5>Example: Form System</h5>
      <pre><code class="language-html">&lt;form is="lion-form"&gt;
  &lt;input 
    is="lion-input" 
    name="email"
    type="email"
    label="Email"
    validators="required email"
  /&gt;
  
  &lt;button is="lion-button" type="submit"&gt;
    Submit
  &lt;/button&gt;
&lt;/form&gt;</code></pre>
    </div>
  </section>
  <section data-transition="slide">
    <h4>Case Study 5: Adobe Spectrum</h4>
    <div class="case-study">
      <h5>Challenge</h5>
      <p>Consistent UI across all Adobe products</p>
      
      <h5>Solution</h5>
      <ul>
        <li>Spectrum Web Components</li>
        <li>Built with LitElement</li>
        <li>Extends native elements</li>
        <li>Design tokens for theming</li>
      </ul>

      <h5>Architecture</h5>
      <pre><code class="language-plaintext">Spectrum Design System
├── Design Tokens (CSS Variables)
├── Base Components (Web Components)
├── React Wrappers (React Spectrum)
└── Theme Provider (Multiple themes)</code></pre>
    </div>
  </section>
  <section data-transition="slide">
    <h4>Lessons Learned</h4>
    <ul>
      <li class="fragment">
        <mark>Progressive enhancement</mark> - Start with working HTML
      </li>
      <li class="fragment">
        <mark>Standards-first</mark> - Use web platform APIs
      </li>
      <li class="fragment">
        <mark>Accessibility</mark> - Inherit from native elements
      </li>
      <li class="fragment">
        <mark>Performance</mark> - Lazy load and optimize bundles
      </li>
      <li class="fragment">
        <mark>Interoperability</mark> - Framework-agnostic design
      </li>
      <li class="fragment">
        <mark>Documentation</mark> - Clear examples and API docs
      </li>
      <li class="fragment">
        <mark>Gradual adoption</mark> - Migrate incrementally
      </li>
    </ul>
  </section>
  <section data-transition="slide">
    <h4>Resources</h4>
    <ul>
      <li>
        <strong>GitHub Primer:</strong> 
        <a href="https://primer.style">primer.style</a>
      </li>
      <li>
        <strong>Salesforce LWC:</strong> 
        <a href="https://lwc.dev">lwc.dev</a>
      </li>
      <li>
        <strong>ING Lion:</strong> 
        <a href="https://lion-web.netlify.app">lion-web.netlify.app</a>
      </li>
      <li>
        <strong>Adobe Spectrum:</strong> 
        <a href="https://opensource.adobe.com/spectrum-web-components">
          spectrum-web-components
        </a>
      </li>
      <li>
        <strong>Awesome Web Components:</strong> 
        <a href="https://github.com/web-padawan/awesome-web-components">
          github.com/web-padawan/awesome-web-components
        </a>
      </li>
    </ul>
  </section>
</section>

</section>

<section>
  <section data-transition="convex">
    <h4>Wrapping up</h4>
  </section>
  <section data-transition="convex">
    <comparison>
      <left>
        <h4>Pros</h4>
        <small>
          <ul>
            <li class="fragment">pro 1</li>
            <li class="fragment">pro 2</li>
            <li class="fragment">pro 3</li>
            <li class="fragment">pro 4</li>
          </ul>
        </small>
      </left>
      <right>
        <h4>Cons</h4>
        <small>
          <ul>
            <li class="fragment">con 1</li>
            <li class="fragment">con 2</li>
            <li class="fragment">con 3</li>
            <li class="fragment">con 4</li>
          </ul>
        </small>
      </right>
    </comparison>
  </section>
  <section data-transition="convex">
    <h4>Conclusions</h4>
  </section>
</section>

<section>
  <!-- <section data-transition="convex">
  <h4>Slides Links</h4>
  <comparison links>
    <figure>
      <picture>
        <source srcset="./assets/qrcodes/slides.png?as=webp" type="image/webp" />
        <img src="./assets/qrcodes/slides.png" alt="Slides" />
      </picture>
      <figcaption>
        <small>Slides</small>
      </figcaption>
    </figure>
    <figure>
      <picture>
        <source srcset="./assets/qrcodes/slides-repo.png?as=webp" type="image/webp" />
        <img src="./assets/qrcodes/slides-repo.png" alt="Slides Repo on Github" />
      </picture>
      <figcaption>
        <small>Slides Repo</small>
      </figcaption>
    </figure>
  </comparison>
</section> -->

<section data-transition="convex">
  <h4>Personal Links</h4>
  <comparison links="">
    <figure>
      <picture>
        <source srcset="/pixu-dev.2695fc16.webp" type="image/webp">
        <img src="/pixu-dev.eb9169a4.png" alt="Pixu.dev">
      </picture>
      <figcaption>
        <small>pixu.dev</small>
      </figcaption>
    </figure>
    <figure>
      <picture>
        <source srcset="/linkedin.64f9af3d.webp" type="image/webp">
        <img src="/linkedin.70ec7f8e.png" alt="Pixu LinkedIn Profile">
      </picture>
      <figcaption>
        <small>LinkedIn</small>
      </figcaption>
    </figure>
  </comparison>
</section>

<section data-transition="convex">
  <h4>DevDojo Links</h4>
  <comparison links="">
    <figure>
      <picture>
        <source srcset="/dev-dojo.505dabf9.webp" type="image/webp">
        <img src="/dev-dojo.a4239a33.png" alt="devdojo.it">
      </picture>
      <figcaption>
        <small>devdojo.it</small>
      </figcaption>
    </figure>
    <figure>
      <picture>
        <source srcset="/dev-dojo-linkedin.bb68796f.webp" type="image/webp">
        <img src="/dev-dojo-linkedin.6fe28649.png" alt="devdojo @ linkedin">
      </picture>
      <figcaption>
        <small>LinkedIn</small>
      </figcaption>
    </figure>
  </comparison>
</section>

  <section class="slide-outro-taf" data-transition="convex">
  <!-- <div sr-only data-menu-title>That's All Folks</div> -->
  <audio data-autoplay="" src="/taf.d3b3531a.mp3"></audio>
  <div class="taf-wrapper">
    <div class="circles">
      <div class="circle one"></div>
      <div class="circle two"></div>
      <div class="circle three"></div>
      <div class="circle four"></div>
      <div class="circle five"></div>
      <div class="circle six"></div>
      <small>© 1987-2025 - Warner Bros. Entertainment Inc.</small>
    </div>
    <figure pixu="">
      <picture>
        <source srcset="/pixu.8dc4bcd7.webp" type="image/webp">
        <img src="/pixu.8cd71433.jpg" alt="Pixu">
      </picture>
    </figure>
    <svg style="isolation: isolate" viewBox="0 0 566.44 157.5">
      <g id="thats-all-folks">
        <path id="Q1" data-name="Q1" d="M14.07,103.92c-1.34,6.6-2,9.89-3.2,16.46l-1.65.87c.14-6,.23-9,.46-15Z"></path>
        <path id="Q2" data-name="Q2" d="M22.06,99.79c-1.4,6.62-2.07,9.91-3.35,16.49l-1.66.86c.21-6,.34-9,.62-15.09Z"></path>
        <path id="T1-1" data-name="T1" d="M102.69,61.11l1.43,1.13h0a40.47,40.47,0,0,1-4.31,4.55h0a47.22,47.22,0,0,1-4.87,3.84h0a57.45,57.45,0,0,1-5.34,3.24h0c-1.85,1-3.75,1.91-5.68,2.77h0q-3.66,1.62-7.79,3.09h0l-8.21,2.89h0c-2.72,1-5.33,1.9-7.86,2.82h0c-2.52.93-4.76,1.87-6.74,2.83h0a33.31,33.31,0,0,0-7.53,4.91h0a24.9,24.9,0,0,0-5.09,6h0a17.75,17.75,0,0,0-2.36,6.59h0a14.62,14.62,0,0,0,.62,6.71h0a9.72,9.72,0,0,0,2.19,3.78h0a7.41,7.41,0,0,0,3.32,2h0a10.31,10.31,0,0,0,4.22.22h0a16.63,16.63,0,0,0,4.85-1.56h0a26.81,26.81,0,0,0,4.37-2.7h0A30.46,30.46,0,0,0,62,110.43h0l1.16,1.06h0a29,29,0,0,1-4.68,4.64h0a30.65,30.65,0,0,1-5.8,3.69h0a19.64,19.64,0,0,1-5.3,1.72h0a12.69,12.69,0,0,1-5-.11h0a9.53,9.53,0,0,1-4.27-2.24h0a10.82,10.82,0,0,1-2.91-4.74h0a16.12,16.12,0,0,1-.88-5.88h0A17.9,17.9,0,0,1,35.47,103h0a21.55,21.55,0,0,1,2.79-5.1h0a32.51,32.51,0,0,1,4-4.54h0a36.81,36.81,0,0,1,4.89-3.87h0a46.76,46.76,0,0,1,5.33-3.05h0a74.43,74.43,0,0,1,7.1-3h0c2.56-.94,5.19-1.87,7.87-2.79h0l8.11-2.82h0c2.71-1,5.31-2,7.8-3.08h0c1.87-.83,3.69-1.71,5.48-2.66h0A52.51,52.51,0,0,0,94,69h0a45.18,45.18,0,0,0,4.62-3.62h0a36,36,0,0,0,4.06-4.3Z"></path>
        <path id="T1-2" data-name="T1" d="M79.54,81l1.41.43h0a66.66,66.66,0,0,0-3.23,9.82h0c-.81,3.27-1.48,6.49-2,9.66h0q-.81,4.75-1.44,9.32h0c-.41,3-.9,6-1.47,8.8h0a72.38,72.38,0,0,1-2.09,8.06h0a33.52,33.52,0,0,1-3.25,7.14h0a28,28,0,0,1-5,6.07h0a30,30,0,0,1-7.33,4.84h0A24.47,24.47,0,0,1,48,147.44h0a14.21,14.21,0,0,1-5.81-.26h0a10,10,0,0,1-4.39-2.51h0A11.5,11.5,0,0,1,35,140.18h0a14.25,14.25,0,0,1-.55-2h0a9.87,9.87,0,0,1-.19-1.9h0l1.85-.35h0a12.84,12.84,0,0,0,.17,1.65h0a11,11,0,0,0,.45,1.75h0a9,9,0,0,0,2.83,4.24h0a9.4,9.4,0,0,0,4.21,1.91h0a13.62,13.62,0,0,0,5-.08h0A21.33,21.33,0,0,0,54,143.64h0a20.57,20.57,0,0,0,6.12-4.42h0a25.5,25.5,0,0,0,4.15-6h0A38.13,38.13,0,0,0,67,126h0q1.05-3.91,1.86-8.24h0q.81-4.32,1.59-8.94h0q.78-4.62,1.92-9.33h0a88.24,88.24,0,0,1,2.83-9.38h0A50.49,50.49,0,0,1,79.54,81Z"></path>
        <path id="H-1" data-name="H" d="M94.58,96.07c-.7,4.48-1,6.71-1.72,11.18h0A58.62,58.62,0,0,1,95.45,101h0a40.44,40.44,0,0,1,3.07-5.4h0a25,25,0,0,1,3.42-4.13h0a12.2,12.2,0,0,1,3.68-2.5h0a5.28,5.28,0,0,1,2.23-.49h0a3,3,0,0,1,1.59.46h0a3.22,3.22,0,0,1,1,1.08h0a5.38,5.38,0,0,1,.58,1.4h0a8.76,8.76,0,0,1,.17,3h0a35.59,35.59,0,0,1-.55,3.6h0c-.25,1.27-.55,2.59-.87,4h0c-.32,1.36-.61,2.67-.86,4h0a31.6,31.6,0,0,0-.51,3.63h0a9,9,0,0,0,.22,3h0a2.82,2.82,0,0,0,.76,1.35h0a1.29,1.29,0,0,0,1.49.14h0a5.21,5.21,0,0,0,2.19-2.17h0a27,27,0,0,0,2-4.07h0c.64-1.58,1.26-3.29,1.84-5.14h0q.89-2.78,1.6-5.37h0l1.53.48h0c-.17.46-.38,1.17-.64,2.14h0c-.25,1-.55,2.07-.91,3.3h0c-.35,1.22-.76,2.5-1.24,3.84h0a33.41,33.41,0,0,1-1.63,3.8h0a17.15,17.15,0,0,1-2.06,3.19h0a6.54,6.54,0,0,1-2.54,2h0a8.87,8.87,0,0,1-1.87.54h0a4.11,4.11,0,0,1-1.85-.09h0a3.53,3.53,0,0,1-1.59-1h0a5.25,5.25,0,0,1-1.11-2.26h0a11.84,11.84,0,0,1-.36-3.73h0a31.47,31.47,0,0,1,.5-4.12h0c.27-1.4.6-2.79,1-4.16h0c.4-1.38.76-2.67,1.09-3.87h0c.32-1.21.58-2.28.76-3.23h0a5.24,5.24,0,0,0,.07-2.24h0c-.25-1-.85-1.25-1.8-.85h0A10.59,10.59,0,0,0,102,94h0a34,34,0,0,0-3.6,5.34h0A67.7,67.7,0,0,0,95.2,106h0q-1.45,3.54-2.61,6.93h0c-1,4.91-1.5,7.35-2.47,12.24l-3.49.12h0q1.62-11.52,3.11-22.75h0q1.5-11.23,3.43-22.41h0c.2-1.16.45-2.43.76-3.81h0c.31-1.39.67-2.79,1.08-4.22h0c.42-1.43.9-2.84,1.45-4.22h0A30.08,30.08,0,0,1,98.29,64h0a16.46,16.46,0,0,1,2.22-3.07h0a7.66,7.66,0,0,1,2.67-1.9h0a3.49,3.49,0,0,1,2.75-.17h0A2.87,2.87,0,0,1,107.46,61h0a10.51,10.51,0,0,1,0,4.14h0a36.71,36.71,0,0,1-1.32,5.44h0q-.93,3-2.3,6.26h0q-1.37,3.32-2.93,6.66h0q-1.56,3.36-3.2,6.58h0c-1.09,2.15-2.14,4.15-3.16,6Z"></path>
        <path id="H-2" data-name="H" d="M103.84,60.84h0a5.63,5.63,0,0,0-2.71,2.47h0a20.29,20.29,0,0,0-1.93,5.24h0c-.58,2.31-1.17,5.24-1.75,8.8h0c-.57,3.55-1.26,7.92-2,13.07h0q2.89-5.43,4.94-10.21h0q2-4.78,3.28-8.55h0a45.92,45.92,0,0,0,1.7-6.34h0a10,10,0,0,0,.18-3.65h0a1.24,1.24,0,0,0-.63-.86h0A1.29,1.29,0,0,0,103.84,60.84Z"></path>
        <path id="A1-1" data-name="A1" d="M143.63,75.69l1.28.07h0c-.19.73-.46,1.7-.82,2.91h0c-.36,1.21-.74,2.53-1.14,4h0c-.39,1.44-.78,2.94-1.15,4.5h0c-.38,1.55-.69,3-1,4.51h0a39.15,39.15,0,0,0-.54,4h0a10.31,10.31,0,0,0,.11,3h0c.17.76.43,1.19.78,1.3h0a1.8,1.8,0,0,0,1.23-.1h0a5.43,5.43,0,0,0,2-1.42h0a15.27,15.27,0,0,0,1.8-2.38h0a29.22,29.22,0,0,0,1.58-3h0c.5-1.06,1-2.11,1.37-3.15h0c.42-1,.79-2,1.12-3h0c.32-.93.6-1.71.83-2.36h0l1.52.51h0c-.26.91-.58,1.91-.95,3h0c-.37,1.09-.79,2.2-1.27,3.33h0c-.47,1.14-1,2.27-1.58,3.39h0A25.27,25.27,0,0,1,146.9,98h0a16.26,16.26,0,0,1-2.32,2.55h0a9.08,9.08,0,0,1-2.7,1.66h0a3.54,3.54,0,0,1-3.41-.07h0a4.69,4.69,0,0,1-1.76-2.92h0l-.12-.63h0a4.72,4.72,0,0,1-.09-.8h0a41,41,0,0,1-2.53,5h0a24.29,24.29,0,0,1-2.56,3.53h0a14.88,14.88,0,0,1-2.6,2.34h0a14.18,14.18,0,0,1-2.57,1.39h0a7.44,7.44,0,0,1-2.63.56h0a5.63,5.63,0,0,1-2.39-.45h0a5.23,5.23,0,0,1-1.94-1.52h0a6.91,6.91,0,0,1-1.23-2.66h0a15,15,0,0,1-.27-5h0a24.36,24.36,0,0,1,1.81-6.91h0a33,33,0,0,1,3-6h0a30.62,30.62,0,0,1,3.54-4.52h0a22.38,22.38,0,0,1,3.61-3.09h0a17,17,0,0,1,3.29-1.76h0a9.83,9.83,0,0,1,5.33-.83h0a3.87,3.87,0,0,1,2.82,2.55h0c.36-.78.75-1.56,1.15-2.35h0c.41-.8.83-1.61,1.27-2.43Z"></path>
        <path id="A1-2" data-name="A1" d="M136.75,93.48h0c.2-.62.44-1.4.72-2.35h0c.28-.94.58-1.92.9-2.93h0c.32-1,.64-2,.95-2.93h0c.31-1,.6-1.75.84-2.4h0a6.62,6.62,0,0,0-.32-1h0a3.48,3.48,0,0,0-.81-1.26h0a2.89,2.89,0,0,0-1.56-.78h0a4.73,4.73,0,0,0-2.57.39h0a13.48,13.48,0,0,0-2.46,1.3h0a17.84,17.84,0,0,0-2.71,2.29h0A24.49,24.49,0,0,0,127,87.18h0a29.86,29.86,0,0,0-2.52,4.57h0a31.21,31.21,0,0,0-2.35,7.41h0a14.38,14.38,0,0,0,0,5.87h0a4.23,4.23,0,0,0,1.69,2.75h0a3.11,3.11,0,0,0,2.88.06h0a9.75,9.75,0,0,0,3.42-2.32h0a18.11,18.11,0,0,0,2.64-3.51h0a35.55,35.55,0,0,0,2.12-4.18h0C135.52,96.35,136.14,94.9,136.75,93.48Z"></path>
        <path id="T2" data-name="T2" d="M148.85,68.21c2.61-.93,3.92-1.39,6.56-2.3h0c.17-.49.48-1.35.94-2.56h0q.68-1.83,1.65-4.08h0c.66-1.5,1.39-3,2.21-4.59h0a32.36,32.36,0,0,1,2.54-4.1h0l1.92.39h0c-.84,2-1.66,4.18-2.48,6.44h0c-.82,2.26-1.59,4.58-2.33,7h0c4.93-1.68,7.4-2.5,12.4-4.12-.19.83-.29,1.25-.48,2.09-5.07,1.65-7.59,2.5-12.6,4.22h0q-1.1,3.78-2,7.46h0c-.57,2.45-1,4.78-1.38,7h0a52.78,52.78,0,0,0-.64,6h0a19.84,19.84,0,0,0,.27,4.59h0c.31,1.54.89,2.51,1.73,2.92h0a3.5,3.5,0,0,0,2.84,0h0a7.29,7.29,0,0,0,2.69-1.9h0a23.1,23.1,0,0,0,2.49-3.18h0a41,41,0,0,0,2.2-3.78h0c.67-1.33,1.27-2.56,1.78-3.69h0c.51-1.14.93-2.12,1.26-2.95h0c.32-.82.52-1.34.6-1.53h0l1.52.51h0q-1,2.51-2.16,5.37h0a46.93,46.93,0,0,1-2.77,5.54h0a26.73,26.73,0,0,1-3.57,4.8h0a12.09,12.09,0,0,1-4.58,3.11h0a6.58,6.58,0,0,1-2.9.48h0a4.85,4.85,0,0,1-2.33-.83h0a5.68,5.68,0,0,1-1.72-1.93h0a9.64,9.64,0,0,1-1-2.87h0a19.21,19.21,0,0,1-.29-3.16h0a42.06,42.06,0,0,1,.22-5.08h0c.19-2,.53-4.28,1-6.85h0a75.74,75.74,0,0,1,2.2-8.47h0c-2.49.87-3.73,1.31-6.2,2.2C148.62,69.48,148.7,69.06,148.85,68.21Z"></path>
        <path id="Q3" data-name="Q3" d="M189.41,32.72c-2.28,5.94-3.32,8.94-6.18,15.24l-1.91.56c1.62-6,2.77-9,4-14.74C187,33.35,187.77,33.14,189.41,32.72Z"></path>
        <path id="S1" data-name="S1" d="M198.47,53.77h0a7.32,7.32,0,0,1-.36.78h0a8.82,8.82,0,0,0-.42,1h0a6.58,6.58,0,0,0-.3,1.2h0a5.58,5.58,0,0,0,0,1.53h0a7.44,7.44,0,0,0,.61,1.86h0q.52,1.14,1.14,2.61h0c.41,1,.82,2.07,1.22,3.25h0a19.36,19.36,0,0,1,.86,3.75h0a15.88,15.88,0,0,1-.12,5.36h0a15.33,15.33,0,0,1-1.6,4.43h0a30.11,30.11,0,0,0,4.74-5.66h0a56.32,56.32,0,0,0,4.36-8.18h0l1.33.72h0A61,61,0,0,1,207.16,72h0a39.61,39.61,0,0,1-3.6,5.4h0A28.38,28.38,0,0,1,199.13,82h0a16.83,16.83,0,0,1-5.26,3h0a7.16,7.16,0,0,1-4.47.3h0a4,4,0,0,1-2.75-2.91h0l1.26-.7h0a1.85,1.85,0,0,0,.29.61h0a2.27,2.27,0,0,0,.74.7h0a3.12,3.12,0,0,0,1.26.39h0a3.83,3.83,0,0,0,1.75-.26h0a5.81,5.81,0,0,0,2.31-1.46h0a8.89,8.89,0,0,0,1.62-2.28h0a13.16,13.16,0,0,0,1-2.78h0a19.55,19.55,0,0,0,.52-3h0a23.94,23.94,0,0,0,.11-2.89h0a22,22,0,0,0-.18-2.48h0c-.09-.74-.22-1.54-.39-2.42h0c-.17-.88-.35-1.71-.52-2.51h0c-.17-.79-.32-1.49-.46-2.08h0c-.13-.59-.21-1-.23-1.16h0v-.07h0a14.84,14.84,0,0,0-.87,1.72h0c-.33.73-.67,1.54-1,2.42h0c-.37.87-.73,1.76-1.09,2.67h0c-.37.9-.69,1.73-1,2.47h0l-.72,1.84h0q-.27.72-.27.75h0l-1.31-.57h0s.23-.63.65-1.78h0q.62-1.73,1.66-4.37h0q1-2.65,2.38-5.85h0Q195.5,56,197,53h0Z"></path>
        <path id="A2-1" data-name="A2" d="M256,45.54l1.26.33h0q-.37.95-1.08,2.49h0c-.47,1-1,2.15-1.5,3.37h0q-.79,1.85-1.59,3.84h0c-.52,1.32-1,2.61-1.39,3.87h0A30.94,30.94,0,0,0,250.8,63h0a8.36,8.36,0,0,0-.19,2.71h0c.09.72.31,1.17.64,1.34h0a2.16,2.16,0,0,0,1.25.17h0a4.89,4.89,0,0,0,2.12-.83h0a11.65,11.65,0,0,0,2-1.74h0a20.76,20.76,0,0,0,1.87-2.3h0c.6-.84,1.16-1.69,1.67-2.53h0c.51-.85,1-1.65,1.39-2.42h0l1.05-2h0l1.46.82h0c-.34.77-.75,1.61-1.22,2.5h0c-.47.9-1,1.81-1.57,2.73h0a32.17,32.17,0,0,1-1.91,2.69h0a18,18,0,0,1-2.24,2.36h0a12.48,12.48,0,0,1-2.57,1.76h0a8.51,8.51,0,0,1-2.89.89h0a4.09,4.09,0,0,1-3.41-.79h0a4.68,4.68,0,0,1-1.45-3h0l-.06-.59h0a3.51,3.51,0,0,1,0-.73h0a31.61,31.61,0,0,1-3.06,4h0a19.42,19.42,0,0,1-2.94,2.65h0a13.06,13.06,0,0,1-2.86,1.59h0a12.85,12.85,0,0,1-2.72.77h0a8.27,8.27,0,0,1-2.67,0h0a6.31,6.31,0,0,1-2.32-.83h0a5.27,5.27,0,0,1-1.72-1.7h0a6.26,6.26,0,0,1-.91-2.62h0a13,13,0,0,1,.32-4.55h0a20.32,20.32,0,0,1,2.56-5.93h0a27,27,0,0,1,3.63-4.86h0A25.7,25.7,0,0,1,238,49.17h0a19.47,19.47,0,0,1,3.87-2.09h0a16.21,16.21,0,0,1,3.41-.94h0a10.33,10.33,0,0,1,5.34.33h0a4.37,4.37,0,0,1,2.54,2.91h0c.43-.63.89-1.26,1.36-1.9h0c.49-.63,1-1.28,1.48-1.94Z"></path>
        <path id="A2-2" data-name="A2" d="M247.48,60.21h0c.26-.51.57-1.17,1-2h0c.37-.8.77-1.62,1.19-2.46h0c.42-.85.83-1.67,1.24-2.46h0c.4-.78.76-1.45,1.07-2h0a9.76,9.76,0,0,0-.22-1h0a3.83,3.83,0,0,0-.68-1.31h0a3.39,3.39,0,0,0-1.47-1h0a5.18,5.18,0,0,0-2.57-.17h0a12.24,12.24,0,0,0-2.55.69h0a15.12,15.12,0,0,0-2.91,1.52h0a20.93,20.93,0,0,0-3.05,2.52h0a24.08,24.08,0,0,0-3,3.64h0a25.3,25.3,0,0,0-3.14,6.26h0a12.1,12.1,0,0,0-.67,5.29h0a4.1,4.1,0,0,0,1.36,2.78h0a3.49,3.49,0,0,0,2.85.58h0a9.41,9.41,0,0,0,3.66-1.43h0a15.64,15.64,0,0,0,3-2.63h0a30.72,30.72,0,0,0,2.56-3.32h0C246,62.54,246.73,61.37,247.48,60.21Z"></path>
        <path id="L1-1" data-name="L1" d="M286.47,15.47h0a4.25,4.25,0,0,1,2.34.38h0a2.31,2.31,0,0,1,1.09,2.06h0a8.57,8.57,0,0,1-.28,2.6h0a27.49,27.49,0,0,1-1.06,3.35h0c-.46,1.21-1,2.5-1.64,3.85h0q-.94,2-2.07,4.05h0c-.74,1.35-1.52,2.66-2.34,3.95h0c-.81,1.28-1.63,2.48-2.44,3.57h0q-2.43,3.33-4.2,5.62h0q-1.75,2.28-3,3.88h0c-.85,1.06-1.56,1.92-2.15,2.59h0c-.58.67-1.1,1.24-1.55,1.72h0c-.45.48-.86.92-1.25,1.32h0c-.38.39-.77.83-1.17,1.3h0a10,10,0,0,0,0,2.51h0c.1.78.19,1.5.26,2.16h0a7.72,7.72,0,0,0,1.55,4.3h0a3.54,3.54,0,0,0,3.08,1.18h0a6,6,0,0,0,2.47-.79h0a14.23,14.23,0,0,0,2.36-1.75h0A20.79,20.79,0,0,0,278.66,61h0c.7-.87,1.37-1.75,2-2.63h0c.62-.89,1.18-1.75,1.67-2.57h0l1.3-2.15h0l1.46.88h0c-.07.1-.27.48-.62,1.14h0c-.35.67-.82,1.47-1.4,2.41h0c-.58,1-1.27,2-2.08,3h0a25.61,25.61,0,0,1-2.67,3h0a16.26,16.26,0,0,1-3.1,2.39h0a8.1,8.1,0,0,1-3.46,1.12h0a8.43,8.43,0,0,1-3-.28h0a6.74,6.74,0,0,1-2.63-1.44h0a9.06,9.06,0,0,1-2.05-2.74h0A12.75,12.75,0,0,1,263,59h0a28.44,28.44,0,0,1,0-6.58h0a47.23,47.23,0,0,1,1.4-7.09h0a55.66,55.66,0,0,1,2.52-7.17h0a67.82,67.82,0,0,1,3.36-6.84h0a55.56,55.56,0,0,1,3.95-6.1h0a43.09,43.09,0,0,1,4.24-4.94h0a23.05,23.05,0,0,1,4.2-3.37h0A9,9,0,0,1,286.47,15.47Z"></path>
        <path id="L1-2" data-name="L1" d="M267,52.6h0q2.85-3.33,5.51-6.73h0c1.78-2.27,3.44-4.5,5-6.71h0q2.34-3.3,4.29-6.4h0c1.3-2.06,2.4-4,3.31-5.8h0a36.09,36.09,0,0,0,2.07-4.89h0a9.77,9.77,0,0,0,.6-3.71h0a1.5,1.5,0,0,0-.38-.71h0a.9.9,0,0,0-.78-.4h0a6.18,6.18,0,0,0-3.08,1.7h0a29.62,29.62,0,0,0-3.94,4.23h0a61.06,61.06,0,0,0-4.2,6.12h0a66.86,66.86,0,0,0-3.85,7.39h0a65,65,0,0,0-3,8h0A40.77,40.77,0,0,0,267,52.6Z"></path>
        <path id="L2-1" data-name="L2" d="M308.5,13.82h0a4.12,4.12,0,0,1,2.31.46h0a2.35,2.35,0,0,1,1,2.12h0a8.88,8.88,0,0,1-.39,2.62h0a29.21,29.21,0,0,1-1.17,3.38h0c-.5,1.22-1.09,2.51-1.77,3.86h0c-.68,1.35-1.41,2.71-2.19,4.06h0c-.78,1.35-1.59,2.66-2.44,4h0c-.85,1.28-1.7,2.47-2.53,3.56h0c-1.68,2.21-3.11,4.07-4.32,5.58h0c-1.21,1.52-2.24,2.8-3.11,3.85h0c-.87,1.05-1.6,1.91-2.19,2.57h0c-.6.65-1.12,1.22-1.58,1.69h0c-.46.48-.88.91-1.27,1.29h0c-.39.39-.79.82-1.2,1.28h0a10.45,10.45,0,0,0,0,2.55h0c.08.8.15,1.53.21,2.2h0a8.05,8.05,0,0,0,1.41,4.42h0a3.5,3.5,0,0,0,3,1.31h0a5.57,5.57,0,0,0,2.43-.72h0A13.23,13.23,0,0,0,297,62.17h0a22.45,22.45,0,0,0,2.23-2.32h0c.71-.86,1.39-1.73,2-2.61h0c.63-.88,1.2-1.74,1.71-2.56h0l1.34-2.15h0l1.4.95h0c-.07.09-.29.48-.65,1.14h0c-.36.66-.84,1.47-1.44,2.41h0c-.6.94-1.31,1.95-2.13,3h0a26.42,26.42,0,0,1-2.69,3h0a16.07,16.07,0,0,1-3.11,2.31h0a7.39,7.39,0,0,1-3.42,1h0A7.9,7.9,0,0,1,289.4,66h0a6.67,6.67,0,0,1-2.55-1.56h0a9.27,9.27,0,0,1-2-2.85h0a13.29,13.29,0,0,1-1.05-4.29h0a29.68,29.68,0,0,1,.19-6.68h0a46,46,0,0,1,1.57-7.14h0a56.13,56.13,0,0,1,2.69-7.2h0a72.35,72.35,0,0,1,3.54-6.85h0A56.62,56.62,0,0,1,296,23.33h0a43.08,43.08,0,0,1,4.39-4.89h0a23.67,23.67,0,0,1,4.29-3.29h0A8.82,8.82,0,0,1,308.5,13.82Z"></path>
        <path id="L2-2" data-name="L2" d="M288.05,50.94h0c1.94-2.18,3.81-4.4,5.64-6.64h0q2.73-3.37,5.14-6.67h0q2.42-3.29,4.45-6.38h0c1.36-2.06,2.52-4,3.48-5.8h0A37.75,37.75,0,0,0,309,20.54h0a10,10,0,0,0,.73-3.75h0a1.43,1.43,0,0,0-.34-.73h0a.88.88,0,0,0-.76-.43h0a6.14,6.14,0,0,0-3.12,1.63h0a29.15,29.15,0,0,0-4.07,4.18h0a61.91,61.91,0,0,0-4.37,6.09h0a66.27,66.27,0,0,0-4.06,7.4h0a67,67,0,0,0-3.17,8h0A43.15,43.15,0,0,0,288.05,50.94Z"></path>
        <path id="F-1" data-name="F" d="M388.05,23.16l1.08,1.19h0s-.52.39-1.5,1.18h0c-1,.79-2.3,2-4,3.67h0c-1.7,1.66-3.69,3.78-6,6.37h0c-2.34,2.6-4.88,5.69-7.67,9.29h0c-.75,1-1.14,1.47-1.9,2.45h0c1-.17,1.93-.33,2.92-.48h0c1-.14,2-.27,3-.38h0l1.94-.26h0a38,38,0,0,1,2.72-3.37h0a17.09,17.09,0,0,1,2.18-2h0a6.23,6.23,0,0,1,1.78-1h0a4.28,4.28,0,0,1,1.42-.21h0a2.86,2.86,0,0,1,1.5.56h0a1.93,1.93,0,0,1,.66,1.76h0a3.64,3.64,0,0,1-.63,1.87h0a6.3,6.3,0,0,1-1.63,1.63h0a11.1,11.1,0,0,1-2.48,1.3h0a17.2,17.2,0,0,1-3.15.84h0c-.6.92-1.23,1.89-1.87,2.9h0c-.65,1-1.34,2-2.05,3h0q-1.08,1.53-2.22,3h0c-.76,1-1.55,1.91-2.37,2.78h0l-2.91-2.48h0c.29-.26.74-.68,1.34-1.25h0c.59-.57,1.24-1.21,1.93-1.92h0c.7-.71,1.38-1.47,2.06-2.26h0c.67-.8,1.25-1.55,1.74-2.27h0l.69-1.07h0c-1.33.19-2.68.4-4,.62h0c-1.36.23-2.76.48-4.21.78h0c-2.55,3.18-5,6.07-6.75,8.66h0a45.81,45.81,0,0,1-5.4,6.59h0a21,21,0,0,1-5.88,4.16h0a16.58,16.58,0,0,1-7.17,1.44h0a18.38,18.38,0,0,1-5.39-.84h0a17.39,17.39,0,0,1-5-2.41h0A14.2,14.2,0,0,1,327,63.13h0a9.65,9.65,0,0,1-1.54-5.28h0a9.51,9.51,0,0,1,.85-4.17h0a9.24,9.24,0,0,1,2.42-3.11h0a10.82,10.82,0,0,1,3.59-1.94h0a14.34,14.34,0,0,1,4.31-.68h0a14.66,14.66,0,0,1,3.71.45h0a16.36,16.36,0,0,1,3.53,1.34h0a15.93,15.93,0,0,1,3.11,2.14h0a15.22,15.22,0,0,1,2.49,2.83h0l-1.3,1h0a11.63,11.63,0,0,0-2.07-1.95h0a13.3,13.3,0,0,0-2.55-1.46h0a14.3,14.3,0,0,0-2.85-.9h0a13.43,13.43,0,0,0-3-.3h0a11.72,11.72,0,0,0-3.16.46h0A8.09,8.09,0,0,0,331.78,53h0a7.5,7.5,0,0,0-2,2.48h0a8.19,8.19,0,0,0-.76,3.67h0a7.54,7.54,0,0,0,.92,3.61h0a9.48,9.48,0,0,0,2.44,2.89h0A12,12,0,0,0,336,67.6h0a12.9,12.9,0,0,0,4.28.72h0A12.63,12.63,0,0,0,346,67h0a19.26,19.26,0,0,0,4.89-3.64h0a38.63,38.63,0,0,0,4.46-5.48h0q2.16-3.16,4.42-6.76h0c-.61.21-1.23.44-1.86.68h0c-.64.24-1.27.49-1.91.75h0l-.45-1.8h0l2.91-1h0l2.76-.93h0a72.09,72.09,0,0,1,5.43-7.07h0q3-3.6,6.3-7h0a78.73,78.73,0,0,1,7-6.37h0a49.73,49.73,0,0,1,8-5.24Z"></path>
        <path id="F-2" data-name="F" d="M360.17,41.44c.21.67.31,1,.51,1.69h0a28.37,28.37,0,0,1-6.19,2.19h0a26,26,0,0,1-5.73.68h0a17.12,17.12,0,0,1-5.72-.91h0a14.12,14.12,0,0,1-4.52-2.53h0a11.54,11.54,0,0,1-3-3.91h0a11.55,11.55,0,0,1-1-5.06h0a15.18,15.18,0,0,1,1.29-6.16h0a15.74,15.74,0,0,1,3.38-4.78h0a19.6,19.6,0,0,1,5-3.5h0a34.84,34.84,0,0,1,6.16-2.33h0a41.93,41.93,0,0,1,6.77-1.27h0a56.25,56.25,0,0,1,6.81-.31h0a58.5,58.5,0,0,1,7.78.67h0c2.57.39,5.05.83,7.46,1.31h0l7,1.41h0a56.79,56.79,0,0,0,6.65.93h0a43.46,43.46,0,0,0,6.83,0h0a49.07,49.07,0,0,0,5.33-.68h0a28.62,28.62,0,0,0,3.46-.85h0c.83-.27,1.26-.41,1.28-.4h0c.39.69.58,1,1,1.74h0c-.08,0-.56.2-1.45.49h0a32.6,32.6,0,0,1-3.66.9h0a52.93,52.93,0,0,1-5.57.71h0a46.81,46.81,0,0,1-7.18-.05h0a61.94,61.94,0,0,1-7-.94h0c-2.26-.44-4.53-.89-6.83-1.36h0q-3.44-.7-7.15-1.28h0a58.85,58.85,0,0,0-7.87-.64h0a42.27,42.27,0,0,0-10.59,1h0a24.62,24.62,0,0,0-7.9,3.26h0a14.83,14.83,0,0,0-4.87,5.19h0a14.77,14.77,0,0,0-1.75,6.81h0a9.75,9.75,0,0,0,.85,4.52h0a9.11,9.11,0,0,0,2.48,3.21h0a10.87,10.87,0,0,0,3.61,1.91h0a14.36,14.36,0,0,0,4.26.64h0a20.25,20.25,0,0,0,3.77-.35h0a28.42,28.42,0,0,0,3.22-.81h0c.93-.3,1.68-.58,2.25-.83h0c.57-.25.87-.37.89-.37Z"></path>
        <path id="F-3" data-name="F" d="M383.45,41.44h0c-.47,0-1,.33-1.66,1.07h0a30.27,30.27,0,0,0-2.18,2.92h0a11.23,11.23,0,0,0,2.16-.81h0a6.32,6.32,0,0,0,1.31-.89h0a2.57,2.57,0,0,0,.67-.91h0a2.81,2.81,0,0,0,.22-.91h0a.34.34,0,0,0-.15-.35h0A.77.77,0,0,0,383.45,41.44Z"></path>
        <path id="O-1" data-name="O" d="M405,60.4h0a1.94,1.94,0,0,0,.33.07h0l.38,0h0a10.18,10.18,0,0,0,2.12,0h0a6,6,0,0,0,1.75-.43h0a5.78,5.78,0,0,0,1.51-1h0a8.1,8.1,0,0,0,1.37-1.55h0L414,58.8h0a9.24,9.24,0,0,1-3.95,3h0a10.3,10.3,0,0,1-4.49.47h0a7.93,7.93,0,0,1-1.56-.32h0a19.44,19.44,0,0,1-3.84,4h0a19.71,19.71,0,0,1-4.31,2.54h0a18.7,18.7,0,0,1-4.42,1.28h0a18.94,18.94,0,0,1-4.12.2h0a12.15,12.15,0,0,1-3.59-.8h0a8.54,8.54,0,0,1-2.8-1.75h0a7.11,7.11,0,0,1-1.74-2.56h0a7.64,7.64,0,0,1-.5-3.26h0a10.64,10.64,0,0,1,.88-3.63h0a20,20,0,0,1,2.05-3.63h0a26.61,26.61,0,0,1,2.87-3.41h0a31.6,31.6,0,0,1,3.45-3h0a31.5,31.5,0,0,1,3.73-2.41h0a21.19,21.19,0,0,1,3.77-1.65h0l1.3,1.65h0a28.31,28.31,0,0,0-4.44,3.12h0A33.09,33.09,0,0,0,388,52.94h0a27.5,27.5,0,0,0-3.26,5h0a12.68,12.68,0,0,0-1.42,5.13h0a4.81,4.81,0,0,0,1.11,3.56h0a5.36,5.36,0,0,0,3.7,1.49h0a11.71,11.71,0,0,0,3.82-.35h0a16.08,16.08,0,0,0,3.67-1.44h0A18.64,18.64,0,0,0,399,64h0a28.14,28.14,0,0,0,3-3h0a8.5,8.5,0,0,1-2.16-1.86h0a11.3,11.3,0,0,1-1.57-2.51h0a13.48,13.48,0,0,1-.95-2.94h0a16,16,0,0,1-.31-3.17h0a9.65,9.65,0,0,1,.45-3h0a7.76,7.76,0,0,1,1.23-2.38h0a5.27,5.27,0,0,1,1.83-1.52h0a4.06,4.06,0,0,1,2.28-.38h0a4.13,4.13,0,0,1,2,.74h0a5.53,5.53,0,0,1,1.52,1.63h0a8.59,8.59,0,0,1,1,2.32h0a12.51,12.51,0,0,1,.4,2.78h0a15.63,15.63,0,0,1-.14,2.39h0a18.14,18.14,0,0,1-.52,2.58h0a20.31,20.31,0,0,1-.88,2.52h0A10.75,10.75,0,0,1,405,60.4Z"></path>
        <path id="O-2" data-name="O" d="M399.2,50.76h0a14.2,14.2,0,0,0,.23,2.31h0a12.57,12.57,0,0,0,.68,2.47h0a11.23,11.23,0,0,0,1.19,2.28h0a6.21,6.21,0,0,0,1.78,1.76h0a14.87,14.87,0,0,0,1.23-2.46h0a22.33,22.33,0,0,0,.81-2.48h0a14.7,14.7,0,0,0,.44-2.26h0a14.41,14.41,0,0,0,.1-1.87h0a9.8,9.8,0,0,0-.25-2h0a7.58,7.58,0,0,0-.58-1.65h0a3.59,3.59,0,0,0-.87-1.15h0a2,2,0,0,0-1.12-.51h0a2.33,2.33,0,0,0-1.48.34h0a3.64,3.64,0,0,0-1.17,1.2h0a6.2,6.2,0,0,0-.73,1.83h0A8.89,8.89,0,0,0,399.2,50.76Z"></path>
        <path id="L3-1" data-name="L3" d="M437.8,22.24h0a4.72,4.72,0,0,1,2.24,1h0a3.36,3.36,0,0,1,1.1,2.4h0a8.45,8.45,0,0,1-.22,2.6h0a22.35,22.35,0,0,1-1,3.18h0A37.15,37.15,0,0,1,438.41,35h0c-.61,1.23-1.28,2.44-2,3.65h0c-.74,1.2-1.51,2.36-2.34,3.49h0c-.83,1.12-1.67,2.14-2.51,3.08h0c-1.68,1.88-3.17,3.47-4.44,4.76h0c-1.26,1.29-2.37,2.38-3.31,3.28h0c-.95.89-1.75,1.62-2.4,2.17h0c-.66.55-1.25,1-1.76,1.41h0c-.51.39-1,.74-1.43,1.06h0c-.44.31-.89.67-1.36,1.07h0a10,10,0,0,0-.17,2.6h0c.05.84.1,1.61.13,2.31h0a8.64,8.64,0,0,0,1.4,4.81h0a4.84,4.84,0,0,0,3.36,2h0a6.3,6.3,0,0,0,2.79-.23h0a11.63,11.63,0,0,0,2.7-1.23h0a16.65,16.65,0,0,0,2.52-1.9h0c.79-.73,1.54-1.47,2.23-2.24h0c.69-.77,1.31-1.52,1.85-2.25h0l1.41-1.91h0l1.54,1.27h0c-.07.09-.29.43-.67,1h0c-.38.6-.89,1.31-1.52,2.15h0a28.63,28.63,0,0,1-2.32,2.63h0a19.63,19.63,0,0,1-3,2.49h0a14.21,14.21,0,0,1-3.55,1.72h0a8.71,8.71,0,0,1-3.94.33h0a11.59,11.59,0,0,1-3.31-1h0a9.55,9.55,0,0,1-2.85-2.12h0A11.2,11.2,0,0,1,413.38,66h0a13.5,13.5,0,0,1-.91-4.62h0a28.34,28.34,0,0,1,.6-6.83h0a47,47,0,0,1,2-7h0a58.63,58.63,0,0,1,3.06-6.83h0a68.27,68.27,0,0,1,3.72-6.25h0A50.08,50.08,0,0,1,426,29.15h0a33.72,33.72,0,0,1,4.19-4h0a16.2,16.2,0,0,1,4-2.41h0A6.77,6.77,0,0,1,437.8,22.24Z"></path>
        <path id="L3-2" data-name="L3" d="M417.42,55.76h0c2.18-1.84,4.24-3.72,6.2-5.63h0c1.95-1.92,3.73-3.82,5.37-5.71h0c1.63-1.9,3.09-3.74,4.4-5.54h0a45.06,45.06,0,0,0,3.27-5.15h0a27.42,27.42,0,0,0,2-4.51h0a9.31,9.31,0,0,0,.51-3.66h0a2.18,2.18,0,0,0-.37-.83h0a1.22,1.22,0,0,0-.76-.61h0a4.37,4.37,0,0,0-2.94,1h0a21.08,21.08,0,0,0-3.8,3.36h0a53.11,53.11,0,0,0-4.19,5.26h0A62.86,62.86,0,0,0,423,40.37h0a67.56,67.56,0,0,0-3.42,7.57h0A41,41,0,0,0,417.42,55.76Z"></path>
        <path id="K-1" data-name="K" d="M444,52.58c-1.61,4-2.42,5.93-4.09,9.86h0a48.09,48.09,0,0,1,3.83-4.34h0a30.62,30.62,0,0,1,4.14-3.52h0a16.06,16.06,0,0,1,4.31-2.18h0a8.8,8.8,0,0,1,4.4-.26h0a6.67,6.67,0,0,1,2.26.86h0a5.79,5.79,0,0,1,1.48,1.32h0a5.37,5.37,0,0,1,.86,1.57h0a7.11,7.11,0,0,1,.36,1.61h0a6.82,6.82,0,0,1-.19,2.31h0a7.67,7.67,0,0,1-1.06,2.34h0a8.19,8.19,0,0,1-2,2.05h0a10.16,10.16,0,0,1-3,1.51h0a6.73,6.73,0,0,1,.65,2.4h0a6.14,6.14,0,0,1-.05,1.66h0c-.1.55-.2,1.08-.33,1.61h0c-.12.52-.22,1.06-.32,1.6h0a6.33,6.33,0,0,0-.05,1.69h0a5.8,5.8,0,0,0,.14.85h0a2.74,2.74,0,0,0,.3.78h0a2,2,0,0,0,.59.63h0a2.74,2.74,0,0,0,1,.4h0a2.81,2.81,0,0,0,1.68-.25h0a9.37,9.37,0,0,0,1.91-1.17h0a17.26,17.26,0,0,0,2-1.82h0c.67-.71,1.32-1.47,1.94-2.27h0c.62-.8,1.22-1.61,1.8-2.41h0c.57-.8,1.09-1.56,1.55-2.28h0l1.46,1.33h0q-1.61,2.39-3.15,4.54h0a25.61,25.61,0,0,1-3.16,3.67h0a11.61,11.61,0,0,1-3.39,2.26h0a6.32,6.32,0,0,1-3.79.34h0a8.43,8.43,0,0,1-1.69-.54h0a6.81,6.81,0,0,1-1.64-1h0a5.8,5.8,0,0,1-1.31-1.51h0a4.82,4.82,0,0,1-.66-2h0a7.92,7.92,0,0,1,.41-3.11h0a25.07,25.07,0,0,0,.67-2.77h0a9.38,9.38,0,0,0,.15-1.93h0q-.79,0-1.68,0h0a10.31,10.31,0,0,1-1.7-.17h0a6.05,6.05,0,0,1-.93-.26h0a4.82,4.82,0,0,1-1-.49h0a3.23,3.23,0,0,1-.77-.7h0a1.65,1.65,0,0,1-.38-.95h0a1.32,1.32,0,0,1,.27-1h0a2.23,2.23,0,0,1,.92-.7h0a4.3,4.3,0,0,1,1.46-.33h0a8,8,0,0,1,1.94.15h0a7.33,7.33,0,0,1,3.5,1.68h0a7,7,0,0,0,2-1.8h0a8.31,8.31,0,0,0,1.14-2.09h0a9,9,0,0,0,.48-1.92h0a7.05,7.05,0,0,0,0-1.31h0a3.09,3.09,0,0,0-.62-1.77h0a2,2,0,0,0-1.14-.68h0a5.11,5.11,0,0,0-2.64.24h0A12.68,12.68,0,0,0,450,55.77h0a27.23,27.23,0,0,0-3,2.44h0q-1.54,1.42-3,3h0q-1.46,1.62-2.84,3.29h0c-.91,1.12-1.75,2.18-2.52,3.17h0c-.69,1.08-1.3,2.09-1.84,3h0c-.54.94-1,1.74-1.36,2.42h0c-.36.68-.66,1.19-.87,1.53h0c-.21.35-.33.46-.37.33h0c-1.63-.63-2.45-1-4.1-1.57h0c2.73-6,5.35-12,7.92-18.1h0c2.56-6.08,5.18-12.21,7.9-18.32h0c.41-.88.88-1.85,1.41-2.89h0c.52-1,1.1-2.06,1.73-3.08h0a30.88,30.88,0,0,1,2-2.91h0a15,15,0,0,1,2.31-2.38h0a8.36,8.36,0,0,1,2.54-1.45h0a5.15,5.15,0,0,1,2.73-.17h0a4.89,4.89,0,0,1,2.5,1.29h0a4.26,4.26,0,0,1,1.18,2.74h0a14.1,14.1,0,0,1-.77,5.57h0a26,26,0,0,1-3.25,6.53h0a36.12,36.12,0,0,1-5.8,6.59h0A37,37,0,0,1,444,52.58Z"></path>
        <path id="K-2" data-name="K" d="M445.3,49.34h0a36.59,36.59,0,0,0,7.22-5.65h0a33.53,33.53,0,0,0,4.74-6h0a22.05,22.05,0,0,0,2.51-5.6h0a12.86,12.86,0,0,0,.52-4.58h0a1.56,1.56,0,0,0-.39-.93h0a1.7,1.7,0,0,0-1-.53h0a3.33,3.33,0,0,0-2.75.74h0a13.09,13.09,0,0,0-2.9,3.72h0a65.68,65.68,0,0,0-3.46,7.3h0C448.53,40.91,447,44.74,445.3,49.34Z"></path>
        <path id="K-3" data-name="K" d="M451.6,64.65h0a2.7,2.7,0,0,0-.7-.84h0a2.18,2.18,0,0,0-1-.5h0a3.8,3.8,0,0,0-1.92.07h0c-.54.19-.79.42-.77.69h0a.58.58,0,0,0,.41.46h0a4.07,4.07,0,0,0,.68.22h0a7.39,7.39,0,0,0,1.83.12h0A9.87,9.87,0,0,0,451.6,64.65Z"></path>
        <path id="S2" data-name="S2" d="M478.54,54.58h0a3.73,3.73,0,0,1-.42.61h0a4.44,4.44,0,0,0-.5.75h0a4.27,4.27,0,0,0-.39,1.05h0a5,5,0,0,0-.07,1.54h0a9.67,9.67,0,0,0,.56,2.19h0c.33.94.68,2,1.06,3.23h0c.39,1.2.76,2.51,1.11,3.9h0a24.3,24.3,0,0,1,.7,4.22h0a15.37,15.37,0,0,1-.38,5.3h0a9.13,9.13,0,0,1-1.82,3.56h0a14,14,0,0,0,5-3.15h0a30.81,30.81,0,0,0,4.81-6h0l1.25,1.39h0a37.82,37.82,0,0,1-3.08,4.31h0A19.82,19.82,0,0,1,482.56,81h0a13.83,13.83,0,0,1-4.64,2.14h0a11.83,11.83,0,0,1-5.55,0h0a10.85,10.85,0,0,1-4.73-2.3h0a8.35,8.35,0,0,1-2.72-4.38h0l1.3,0h0a3.05,3.05,0,0,0,.28.76h0a4.71,4.71,0,0,0,.74,1.1h0a6.45,6.45,0,0,0,1.27,1.1h0a5.5,5.5,0,0,0,1.88.76h0a4.24,4.24,0,0,0,2.5-.1h0a4.27,4.27,0,0,0,1.78-1.34h0a7.38,7.38,0,0,0,1.18-2.19h0a14.4,14.4,0,0,0,.66-2.7h0a21.16,21.16,0,0,0,.23-2.83h0c0-.93,0-1.79-.07-2.58h0c-.07-.78-.17-1.66-.32-2.63h0c-.14-1-.28-1.9-.43-2.79h0c-.15-.89-.28-1.67-.4-2.33h0c-.11-.67-.18-1.1-.2-1.3h0v-.07h0a7.29,7.29,0,0,0-1,1.26h0c-.39.56-.79,1.18-1.22,1.85h0q-.66,1-1.29,2.07h0c-.43.7-.82,1.34-1.16,1.91h0l-.84,1.42h0a6,6,0,0,0-.32.6h0l-1.42-1.32h0s.28-.48.77-1.38h0c.49-.91,1.15-2,2-3.42h0c.83-1.38,1.77-2.89,2.83-4.55h0Q475.22,55.31,477,53h0C477.6,53.64,477.91,54,478.54,54.58Z"></path>
        <path id="EX-1" data-name="EX" d="M521,41.5a244.32,244.32,0,0,0-24.5,37l-1.47-1a282.84,282.84,0,0,1,21.24-39.14C518.17,39.61,519.12,40.24,521,41.5Z"></path>
        <path id="EX-2" data-name="EX" d="M495.4,84.67h0a2.05,2.05,0,0,1-.64,1.69h0a1.78,1.78,0,0,1-1.69.35h0a3.17,3.17,0,0,1-1.7-1.2h0a3.5,3.5,0,0,1-.81-2h0a1.94,1.94,0,0,1,.63-1.66h0a1.74,1.74,0,0,1,1.66-.36h0a3.22,3.22,0,0,1,1.78,1.22h0A3.38,3.38,0,0,1,495.4,84.67Z"></path>
        <path id="Q4" data-name="Q4" d="M552.39,49.89a113.33,113.33,0,0,0-13.47,10L537,59.33a123.06,123.06,0,0,1,9.73-11Z"></path>
        <path id="Q5" data-name="Q5" d="M542.21,47.11A111,111,0,0,0,530,57.43l-1.87-.51a127.18,127.18,0,0,1,8.56-11.3Z"></path>
      </g>
    </svg>
  </div>
  <!-- <h3>Grazie ❤️!</h3> -->
</section>

  <section pixu="" data-transition="convex">
  <!-- <figure>
    <picture>
      <source srcset="./assets/pixu.jpg?as=webp" type="image/webp" />
      <img src="./assets/pixu.jpg" alt="Pixu" />
    </picture>
  </figure> -->
  <h2>Grazie ❤️!</h2>
</section>

</section>


      </div>
      <a brand="" href="https://www.devdojo.it" target="_blank" rel="noopener noreferrer">
  <figure>
    <img src="/dev-dojo.2f055838.png" alt="Dev Dojo IT Logo">
  </figure>
</a>

    </main>
    <script src="/custom-elements-and-beyond.c6396971.js" type="module"></script>
  

</body></html>